(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[51],{1368:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return O})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return A}));var r,a=n(4),o=n(17),c=n(13),i=(n(0),n(58)),u=n(8),s=n.n(u),l=n(1543),d=n.n(l),b=n(1),h=["className","children"],f=["className"],j=["id","className","onClick"],m=function(e){var t=e.className,n=e.tabs,r=e.shadows,u=void 0!==r&&r;return Object(b.jsx)("div",{className:s()(d.a.tabs,t,Object(c.a)({},d.a.shadows,u)),style:{"--tabs-bg":"var(".concat("string"===typeof u?u:"--theme-body-color",")")},children:n.map((function(e,t){var n=e.className,r=e.children,c=Object(o.a)(e,h);return c.to?Object(b.jsx)(i.c,Object(a.a)(Object(a.a)({className:s()(d.a.tab,n),activeClassName:d.a.active},c),{},{children:r}),t):Object(b.jsx)("a",Object(a.a)(Object(a.a)({className:s()(d.a.tab,n),rel:"noopener noreferrer",target:"_blank"},c),{},{children:r}),t)}))})},O=function(e){var t=e.className,n=Object(o.a)(e,f);return Object(b.jsx)(m,Object(a.a)(Object(a.a)({},n),{},{className:s()(d.a.horizontalMenu,t)}))},v=function(e){var t,n=e.variation,r=void 0===n?"normal":n,i=e.tabs,u=e.activeKey,l=e.size,h=e.className,f=e.style;return Object(b.jsx)("div",{className:s()(h,(t={},Object(c.a)(t,d.a.tabs,"normal"===r),Object(c.a)(t,d.a.elasticTabs,"elastic"===r),t)),style:f,children:i.map((function(t){var n,r=t.id,i=t.className,h=t.onClick,f=Object(o.a)(t,j);return Object(b.jsx)("button",Object(a.a)({className:s()(d.a.tab,i,(n={},Object(c.a)(n,d.a.active,r===u),Object(c.a)(n,d.a.small,"small"===l),n)),type:"button",onClick:function(){var t;null===(t=e.onClick)||void 0===t||t.call(e,r),null===h||void 0===h||h(r)}},f),r)}))})};!function(e){e.day="24h",e.week="1w",e.month="30d"}(r||(r={}));var p,k=[{id:r.day,children:"24h"},{id:r.week,children:"1w"},{id:r.month,children:"1mo"}],T=function(e){return Object(b.jsx)(v,Object(a.a)(Object(a.a)({},e),{},{tabs:k,variation:"elastic"}))};!function(e){e.week="1w",e.month="30d"}(p||(p={}));var x=[{id:p.week,children:"1w"},{id:p.month,children:"1mo"}],A=function(e){return Object(b.jsx)(v,Object(a.a)(Object(a.a)({},e),{},{tabs:x,variation:"elastic"}))}},1437:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return d}));var r=n(4),a=n(0),o=n(45),c=n(59),i=n(71),u=n(1),s=Object(a.createContext)(Object(c.a)("SeAPIProvider"));function l(){return Object(a.useContext)(s)}function d(e){var t=Object(o.b)(),n=new URL("/api/smartexposure/pools",null!==e&&void 0!==e?e:t.api.baseUrl);return Object(i.d)(n,{transform:function(e){return e.data}})}t.a=function(e){var t=Object(o.b)();var n={fetchPools:function(e){var n=new URL("/api/smartexposure/pools",null!==e&&void 0!==e?e:t.api.baseUrl);return fetch(n.toString()).then(i.b).then((function(e){return e.data}))},fetchTranches:function(e){var n=Object(i.c)({poolAddress:e}),r=new URL("/api/smartexposure/tranches?".concat(n),t.api.baseUrl);return fetch(r.toString()).then(i.b).then((function(e){return e.data}))},fetchTranche:function(e){var n=new URL("/api/smartexposure/tranches/".concat(e),t.api.baseUrl);return fetch(n.toString()).then(i.b).then((function(e){return e.data}))},fetchETokenPrice:function(e,n){var a=Object(i.c)({window:n}),o=new URL("/api/smartexposure/tranches/".concat(e,"/etoken-price?").concat(a),t.api.baseUrl);return fetch(o.toString()).then(i.b).then((function(e){return e.data.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{eTokenPrice:Number(e.eTokenPrice)})}))}))},fetchRatioDeviation:function(e,n){var a=Object(i.c)({window:n}),o=new URL("/api/smartexposure/tranches/".concat(e,"/ratio-deviation?").concat(a),t.api.baseUrl);return fetch(o.toString()).then(i.b).then((function(e){return e.data.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{deviation:Number(e.deviation)})}))}))},fetchTrancheLiquidity:function(e,n){var a=Object(i.c)({window:n}),o=new URL("/api/smartexposure/tranches/".concat(e,"/liquidity?").concat(a),t.api.baseUrl);return fetch(o.toString()).then(i.b).then((function(e){return e.data.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{tokenALiquidity:Number(e.tokenALiquidity),tokenBLiquidity:Number(e.tokenBLiquidity)})}))}))},fetchTransactions:function(e){var n=e.page,r=e.limit,a=e.accountAddress,o=e.poolAddress,c=e.eTokenAddress,u=e.transactionType,s=Object(i.c)({page:n,limit:r,accountAddress:a,poolAddress:o,eTokenAddress:c,transactionType:u}),l=new URL("/api/smartexposure/transactions?".concat(s),t.api.baseUrl);return fetch(l.toString()).then(i.b)},fetchPortfolioValue:function(e){var n=e.accountAddress,a=e.window,o=e.poolAddress,c=Object(i.c)({window:a,poolAddress:o}),u=new URL("/api/smartexposure/users/".concat(n,"/portfolio-value?").concat(c),t.api.baseUrl);return fetch(u.toString()).then(i.b).then((function(e){return Object(r.a)(Object(r.a)({},e),{},{data:e.data.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{portfolioValueSE:Number(e.portfolioValueSE)})}))})}))}};return Object(u.jsx)(s.Provider,{value:n,children:e.children})}},1543:function(e,t,n){e.exports={tabs:"s_tabs__32Wke",shadows:"s_shadows__12PQF",tab:"s_tab__2wEah",active:"s_active__1mayN",disabled:"s_disabled__xaH2p",elasticTabs:"s_elasticTabs__2URoC",elasticToggle:"s_elasticToggle__3M_xZ",small:"s_small__c6etg",horizontalMenu:"s_horizontalMenu__3BcI1"}},1618:function(e,t,n){"use strict";n.d(t,"c",(function(){return x})),n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return F}));var r=n(5),a=n(0),o=n(66),c=n(45),i=n(116),u=n(1788),s=n(14),l=n(16),d=n(23),b=n(24),h=n(19),f=n.n(h),j=n(37),m=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,[Object(j.c)("tokenBForTokenA",["address","address","uint256"],["uint256"]),Object(j.c)("tokenAForTokenB",["address","address","uint256"],["uint256"]),Object(j.c)("eTokenForTokenATokenB",["address","address","uint256","uint256"],["uint256"]),Object(j.c)("tokenATokenBForEToken",["address","address","uint256"],["uint256","uint256"]),Object(j.c)("tokenATokenBForTokenA",["address","address","uint256"],["uint256","uint256"]),Object(j.c)("tokenATokenBForTokenB",["address","address","uint256"],["uint256","uint256"])],e,"ETokenHelperFactory")}return Object(l.a)(n,[{key:"getTokenBForTokenA",value:function(e,t,n){return this.call("tokenBForTokenA",[e,t,n]).then((function(e){return new f.a(e)}))}},{key:"getTokenAForTokenB",value:function(e,t,n){return this.call("tokenAForTokenB",[e,t,n]).then((function(e){return new f.a(e)}))}},{key:"getETokenForTokenATokenB",value:function(e,t,n,r){return this.call("eTokenForTokenATokenB",[e,t,n,r]).then((function(e){return new f.a(e)}))}},{key:"getTokenATokenBForEToken",value:function(e,t,n){return this.call("tokenATokenBForEToken",[e,t,n]).then((function(e){return{amountA:new f.a(e[0]),amountB:new f.a(e[1])}}))}},{key:"getTokenATokenBForTokenA",value:function(e,t,n){return this.call("tokenATokenBForTokenA",[e,t,n]).then((function(e){return{amountA:new f.a(e[0]),amountB:new f.a(e[1])}}))}},{key:"getTokenATokenBForTokenB",value:function(e,t,n){return this.call("tokenATokenBForTokenB",[e,t,n]).then((function(e){return{amountA:new f.a(e[0]),amountB:new f.a(e[1])}}))}}]),n}(j.d),O=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){return Object(s.a)(this,n),t.call(this,[Object(j.c)("currentRatio",["address","address"],["uint256"]),Object(j.c)("delta",["address"],["uint256","uint256","uint256"]),Object(j.c)("router",[],["address"]),Object(j.c)("minInputAmountAForEToken",["address","address","uint256"],["uint256"]),Object(j.c)("minInputAmountBForEToken",["address","address","uint256"],["uint256"]),Object(j.c)("maxOutputAmountAForEToken",["address","address","uint256"],["uint256"]),Object(j.c)("maxOutputAmountBForEToken",["address","address","uint256"],["uint256"]),Object(j.c)("eTokenForMinInputAmountA_Unsafe",["address","address","uint256"],["uint256"]),Object(j.c)("eTokenForMinInputAmountB_Unsafe",["address","address","uint256"],["uint256"]),Object(j.c)("issueForMaxTokenA",["address","address","uint256","uint256","uint256"],["bool"]),Object(j.c)("issueForMaxTokenB",["address","address","uint256","uint256","uint256"],["bool"]),Object(j.c)("redeemForMinTokenA",["address","address","uint256","uint256","uint256"],["bool"]),Object(j.c)("redeemForMinTokenB",["address","address","uint256","uint256","uint256"],["bool"])],e,"ETokenFactory")}return Object(l.a)(n,[{key:"getCurrentRatio",value:function(e,t){return this.call("currentRatio",[e,t]).then((function(e){return new f.a(e)}))}},{key:"getRouter",value:function(){return this.call("router")}},{key:"getDelta",value:function(e){return this.call("delta",[e]).then((function(e){return{deltaA:new f.a(e[0]),deltaB:new f.a(e[1]),rChange:new f.a(e[2])}}))}},{key:"getMinInputAmountAForEToken",value:function(e,t,n){return this.call("minInputAmountAForEToken",[e,t,n]).then((function(e){return new f.a(e)}))}},{key:"getMinInputAmountBForEToken",value:function(e,t,n){return this.call("minInputAmountBForEToken",[e,t,n]).then((function(e){return new f.a(e)}))}},{key:"getMaxOutputAmountAForEToken",value:function(e,t,n){return this.call("maxOutputAmountAForEToken",[e,t,n]).then((function(e){return new f.a(e)}))}},{key:"getMaxOutputAmountBForEToken",value:function(e,t,n){return this.call("maxOutputAmountBForEToken",[e,t,n]).then((function(e){return new f.a(e)}))}},{key:"getETokenForMinInputAmountA",value:function(e,t,n){return this.call("eTokenForMinInputAmountA_Unsafe",[e,t,n]).then((function(e){return new f.a(e)}))}},{key:"getETokenForMinInputAmountB",value:function(e,t,n){return this.call("eTokenForMinInputAmountB_Unsafe",[e,t,n]).then((function(e){return new f.a(e)}))}},{key:"depositForMaxTokenA",value:function(e,t,n,r,a){return this.account?this.send("issueForMaxTokenA",[e,t,n,r,a],{from:this.account}):Promise.reject()}},{key:"depositForMaxTokenB",value:function(e,t,n,r,a){return this.account?this.send("issueForMaxTokenB",[e,t,n,r,a],{from:this.account}):Promise.reject()}},{key:"redeemForMinTokenA",value:function(e,t,n,r,a){return this.account?this.send("redeemForMinTokenA",[e,t,n,r,a],{from:this.account}):Promise.reject()}},{key:"redeemForMinTokenB",value:function(e,t,n,r,a){return this.account?this.send("redeemForMinTokenB",[e,t,n,r,a],{from:this.account}):Promise.reject()}}]),n}(j.d),v=n(73),p=n(59),k=n(1),T=Object(a.createContext)(Object(p.a)("SEPoolsProvider"));function x(){return Object(a.useContext)(T)}var A=function(e){var t,n,r=e.children,i=Object(v.c)(),u=Object(c.b)(),s=Object(o.b)(null===(t=u.contracts.se)||void 0===t?void 0:t.ePoolPeriphery,(function(){var e;return new O(null===(e=u.contracts.se)||void 0===e?void 0:e.ePoolPeriphery)})),l=Object(o.b)(null===(n=u.contracts.se)||void 0===n?void 0:n.ePoolHelper,(function(){var e;return new m(null===(e=u.contracts.se)||void 0===e?void 0:e.ePoolHelper)}));Object(a.useEffect)((function(){l.setProvider(i.provider),s.setProvider(i.provider)}),[i.provider]),Object(a.useEffect)((function(){l.setAccount(i.account),s.setAccount(i.account)}),[i.account]);var d={ePoolHelperContract:l,ePoolPeripheryContract:s};return Object(k.jsx)(T.Provider,{value:d,children:r})},F=function(e){var t=Object(i.a)(),n=Object(r.a)(t,1)[0],c=Object(o.b)(e,(function(){return new u.a(e)}));return Object(a.useEffect)((function(){c.loadCommon().then(n).catch(Error)}),[c,n]),c}},1788:function(e,t,n){"use strict";var r=n(5),a=n(29),o=n(14),c=n(16),i=n(23),u=n(24),s=n(9),l=n.n(s),d=n(19),b=n.n(d),h=n(37),f=function(e){Object(i.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,[Object(h.c)("feeRate",[],["uint256"]),Object(h.c)("rebalanceMinDeltaA",[],["uint256"]),Object(h.c)("rebalanceInterval",[],["uint256"]),Object(h.c)("lastRebalance",[],["uint256"]),Object(h.c)("getRate",[],["uint256"]),Object(h.c)("cumulativeFeeA",[],["uint256"]),Object(h.c)("cumulativeFeeB",[],["uint256"]),Object(h.c)("getTranches",[],[new h.b(["address","uint256","uint256","uint256","uint256"])]),Object(h.c)("getTranche",["address"],["address","uint256","uint256","uint256","uint256"]),Object(h.c)("issueExact",["address","uint256"],["uint256","uint256"]),Object(h.c)("redeemExact",["address","uint256"],["uint256","uint256"]),Object(h.c)("transferFees",[],["boolean"])],e,"ETokenFactory")).feeRate=void 0,r.rebalanceMinDeltaA=void 0,r.rebalanceInterval=void 0,r.lastRebalance=void 0,r.rate=void 0,r.tranches=void 0,r.tranche=void 0,r.cumulativeFeeA=void 0,r.cumulativeFeeB=void 0,r}return Object(c.a)(n,[{key:"loadCommon",value:function(){var e=Object(a.a)(l.a.mark((function e(){var t,n,a,o,c,i,u,s,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.batch([{method:"feeRate",transform:function(e){return Number(e)}},{method:"rebalanceMinDeltaA",transform:function(e){return Number(e)}},{method:"rebalanceInterval",transform:function(e){return Number(e)}},{method:"lastRebalance",transform:function(e){return Number(e)}},{method:"getRate",transform:function(e){return b.a.from(e)}},{method:"getTranches",transform:function(e){return e.map((function(e){var t=Object(r.a)(e,5),n=t[0],a=t[1],o=t[2],c=t[3],i=t[4];return{eToken:n,sFactorE:b.a.from(a),reserveA:b.a.from(o),reserveB:b.a.from(c),targetRatio:b.a.from(i)}}))}}]);case 3:t=e.sent,n=Object(r.a)(t,7),a=n[0],o=n[1],c=n[2],i=n[3],u=n[4],s=n[5],d=n[6],this.feeRate=a,this.rebalanceMinDeltaA=o,this.rebalanceInterval=c,this.lastRebalance=i,this.rate=u,this.tranches=s,this.tranche=d,this.emit(h.d.UPDATE_DATA),e.next=24;break;case 22:e.prev=22,e.t0=e.catch(0);case 24:case"end":return e.stop()}}),e,this,[[0,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"getTranche",value:function(e){return this.call("getTranche",[e]).then((function(e){return{eToken:e[0],sFactorE:b.a.from(e[1]),reserveA:b.a.from(e[2]),reserveB:b.a.from(e[3]),targetRatio:b.a.from(e[4])}}))}},{key:"getCumulativeFeeA",value:function(){var e=this;return this.call("cumulativeFeeA",[]).then((function(t){return e.cumulativeFeeA=b.a.from(t),e.emit(h.d.UPDATE_DATA),e.cumulativeFeeA}))}},{key:"getCumulativeFeeB",value:function(){var e=this;return this.call("cumulativeFeeB",[]).then((function(t){return e.cumulativeFeeB=b.a.from(t),e.emit(h.d.UPDATE_DATA),e.cumulativeFeeB}))}},{key:"deposit",value:function(e,t){return this.account?this.send("issueExact",[e,t],{from:this.account}):Promise.reject()}},{key:"redeem",value:function(e,t){return this.account?this.send("redeemExact",[e,t],{from:this.account}):Promise.reject()}},{key:"transferFees",value:function(e){return this.account?this.send("transferFees",[],{from:this.account},e):Promise.reject()}}]),n}(h.d);t.a=f},2295:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(56),o=n(249),c=n.n(o),i=n(1368),u=n(33),s=n(1437),l=n(1618),d=n(73),b=n(1),h=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(43)]).then(n.bind(null,2291))})),f=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(41)]).then(n.bind(null,2292))})),j=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(5),n.e(45)]).then(n.bind(null,2281))})),m=function(){var e=Object(a.i)().pool,t=Object(d.c)();return t.initialized?t.isActive?Object(b.jsxs)(a.d,{children:[Object(b.jsx)(a.b,{path:"/smart-exposure/pools/:pool/:tranche/deposit",exact:!0,children:Object(b.jsx)(h,{})}),Object(b.jsx)(a.b,{path:"/smart-exposure/pools/:pool/:tranche/withdraw",exact:!0,children:Object(b.jsx)(f,{})}),Object(b.jsx)(a.b,{path:"/smart-exposure/pools/:pool/:tranche/change-tranche",exact:!0,children:Object(b.jsx)(j,{})}),Object(b.jsx)(a.a,{to:"/smart-exposure/pools/".concat(e)})]}):Object(b.jsx)(a.a,{to:"/smart-exposure/pools/".concat(e)}):null},O=Object(r.lazy)((function(){return n.e(13).then(n.bind(null,2294))})),v=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(6),n.e(24)]).then(n.bind(null,2289))})),p=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(6),n.e(11),n.e(14)]).then(n.bind(null,2290))}));t.default=function(){var e=Object(d.c)(),t=[{children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,{name:"pairs",className:"mr-8",size:24})," Pools"]}),to:"/smart-exposure/pools"},{children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u.a,{name:"wallet",className:"mr-8",size:24})," Portfolio"]}),to:"/smart-exposure/portfolio",disabled:!e.account}];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{tabs:t}),Object(b.jsx)("div",{className:"content-container-fix content-container",children:Object(b.jsx)(s.a,{children:Object(b.jsx)(l.a,{children:Object(b.jsx)(r.Suspense,{fallback:Object(b.jsx)(c.a,{}),children:Object(b.jsxs)(a.d,{children:[Object(b.jsx)(a.b,{path:"/smart-exposure/pools",exact:!0,children:Object(b.jsx)(O,{})}),Object(b.jsx)(a.b,{path:"/smart-exposure/pools/:pool/:tranche",exact:!0,children:Object(b.jsx)(v,{})}),Object(b.jsx)(a.b,{path:"/smart-exposure/pools/:pool/:tranche/:path(deposit|withdraw|change-tranche)",exact:!0,children:Object(b.jsx)(m,{})}),Object(b.jsx)(a.b,{path:"/smart-exposure/portfolio",exact:!0,children:Object(b.jsx)(p,{})}),Object(b.jsx)(a.a,{to:"/smart-exposure/pools"})]})})})})})]})}}}]);
//# sourceMappingURL=51.3e9d86a8.chunk.js.map