(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[20],{1356:function(e,t,n){"use strict";var i=n(4),r=n(17),o=(n(0),n(1364)),c=n.n(o),s=n(8),a=n.n(s),l=n(33),u=n(48),d=n(99),b=n(1360),p=n.n(b),h=n(1),j=["children"],m=["className","label","hint","extra","children"],f=["className","children"],v=function(e){var t=e.className,n=e.children,o=Object(r.a)(e,f);return Object(h.jsx)(c.a,Object(i.a)(Object(i.a)({className:a()(p.a.form,t),layout:"vertical",requiredMark:!1},o),{},{children:n}))};v.Item=function(e){var t=e.className,n=e.label,o=e.hint,s=e.extra,b=e.children,j=Object(r.a)(e,m);return Object(h.jsx)(c.a.Item,Object(i.a)(Object(i.a)({className:a()(p.a.item,t)},j),{},{label:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(u.a,{flow:"col",gap:4,align:"center",children:[n,o&&Object(h.jsx)(d.a,{title:o,children:Object(h.jsx)("span",{children:Object(h.jsx)(l.a,{name:"info",size:15})})})]}),s]}),children:b}))},v.List=function(e){var t=e.children,n=Object(r.a)(e,j);return Object(h.jsx)(c.a.List,Object(i.a)(Object(i.a)({},n),{},{children:t}))},t.a=v},1360:function(e,t,n){e.exports={form:"s_form__36nMg",item:"s_item__2gbuN"}},1365:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O}));var i=n(5),r=n(0),o=n(423),c=n(419),s=n.n(c),a=n(425),l=n(80),u=n(37),d=n(20),b=n(73),p=n(66),h=n(116),j=n(1);function m(e){var t=Object(r.useRef)();return s()(e,t.current)||(t.current=e),t.current}var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loadBalance,o=t.loadCommon,c=t.loadAllowance,s=Object(b.c)(),a=s.provider,d=s.account,j=Object(h.a)(),f=Object(i.a)(j,1),v=f[0],O=Object(p.c)(),y=O.getContract,x=Object(r.useMemo)((function(){if(!e)return null;var t=y(e,(function(){return new l.a([],e)}));return t.on(u.d.UPDATE_DATA,v),t}),[e,a,v]);Object(r.useEffect)((function(){x&&n&&(x.setAccount(d),x.loadBalance())}),[x,n,d]),Object(r.useEffect)((function(){x&&o&&x.loadCommon().then((function(){return v()})).catch(Error)}),[x,o,v]);var g=m(c);return Object(r.useEffect)((function(){x&&g&&(Array.isArray(g)?g.forEach((function(e){return x.loadAllowance(e)})):x.loadAllowance(g))}),[x,g]),x};function v(e){var t=(null!==e&&void 0!==e?e:{}).listeners,n=void 0===t||t,c=Object(b.c)(),s=c.account,l=c.provider,u=Object(d.h)().activeProvider,p=Object(h.a)(),m=Object(i.a)(p,2),f=m[0],v=m[1],O=Object(r.useRef)(u),y=Object(r.useRef)(l),x=Object(r.useRef)(s),g=Object(r.useRef)(new Map),w=Object(r.useCallback)((function(e,t,n){var i,r=t();return r.setCallProvider(O.current),r.setProvider(y.current),r.setAccount(x.current),g.current.set(e,{address:e,factory:t,options:n,instance:r}),null===n||void 0===n||null===(i=n.afterInit)||void 0===i||i.call(n,r),f(),r}),[u,s,f]),k=Object(o.a)((function(){g.current.forEach((function(e){var t,n;null===(t=e.options)||void 0===t||null===(n=t.onDestroy)||void 0===n||n.call(t,e.instance),w(e.address,(function(){return e.instance}),e.options)}))}),250);O.current!==u&&(O.current=u,k()),y.current!==l&&(y.current=l,k()),x.current!==s&&(x.current=s,k());var N=Object(r.useCallback)((function(e,t,n){return g.current.has(e)?g.current.get(e).instance:w(e,t,n)}),[w]);return{getOrCreateContract:N,getContract:Object(r.useCallback)((function(e){if(g.current.has(e))return g.current.get(e).instance}),[w]),Listeners:Object(r.useMemo)((function(){return n?Object(j.jsx)(j.Fragment,{children:Array.from(g.current).map((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(j.jsx)(a.a,{contract:r.instance},n)}))}):null}),[v,n])}}function O(e,t){return v({listeners:!1}).getOrCreateContract("$address",e,t)}},1384:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(4),r=n(5),o=n(0);var c=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=Object(o.useRef)(null),s=Object(o.useState)(i),a=Object(r.a)(s,2),l=a[0],u=a[1],d=Object(o.useRef)();function b(){l||u(!0)}function p(){l&&u(!1)}return Object(o.useEffect)((function(){d.current=e})),Object(o.useEffect)((function(){if(null!==t&&l){var e=setInterval((function(){d.current&&d.current()}),t);return c.current=e,function(){c.current=null,clearInterval(e)}}}),[t,l]),(n=[b,p,c.current]).start=b,n.stop=p,n.intervalId=c.current,n},s=n(91),a=n(116),l=n(1);function u(e){var t,n=Object(o.useRef)(e);n.current=e;var i=Object(o.useState)(!1),s=Object(r.a)(i,2),a=s[0],l=s[1],u=Object(o.useState)(!1),d=Object(r.a)(u,2),b=d[0],p=d[1],h=Object(o.useCallback)((function(){if(n.current.end)return Math.max(n.current.end.valueOf()-Date.now(),0)}),[]),j=c((function(){var e,t,i,r,o=h();(null===(e=(t=n.current).onTick)||void 0===e||e.call(t,null!==o&&void 0!==o?o:0),0===o)&&(l(!1),v(),null===(i=(r=n.current).onEnd)||void 0===i||i.call(r))}),null!==(t=e.delay)&&void 0!==t?t:1e3,!1),m=Object(r.a)(j,2),f=m[0],v=m[1];return Object(o.useEffect)((function(){var t,i,r;(!e.end||Date.now()<e.end)&&(l(!0),f(),null===(t=(i=n.current).onStart)||void 0===t||t.call(i,null!==(r=h())&&void 0!==r?r:0));return function(){l(!1),v()}}),[e.end]),Object(o.useMemo)((function(){return{isStarted:a,isRunning:b,start:function(){var e,t,i;l(!0),p(!0),f(),null===(e=(t=n.current).onStart)||void 0===e||e.call(t,null!==(i=h())&&void 0!==i?i:0)},stop:function(){var e,t,i;p(!1),l(!1),v(),null===(e=(t=n.current).onStop)||void 0===e||e.call(t,null!==(i=h())&&void 0!==i?i:0)},pause:function(){p(!1),v()},resume:function(){p(!0),f()}}}),[b,v,f])}var d=function(e){var t,n=Object(s.b)().windowState,c=Object(a.a)(),d=Object(r.a)(c,1)[0],b=Object(o.useRef)(),p=u(Object(i.a)(Object(i.a)({},e),{},{onStart:function(t){var n;b.current=t,d(),null===(n=e.onStart)||void 0===n||n.call(e,t)},onStop:function(t){var n;b.current=t,d(),null===(n=e.onStop)||void 0===n||n.call(e,t)},onTick:function(t){var n;b.current=t,d(),null===(n=e.onTick)||void 0===n||n.call(e,t)}})),h=p.isStarted,j=p.isRunning,m=p.pause,f=p.resume;return Object(o.useEffect)((function(){h&&(!j&&n.isVisible&&f(),j&&!n.isVisible&&m())}),[n.isVisible,h,j]),Object(l.jsx)(l.Fragment,{children:e.children(null!==(t=b.current)&&void 0!==t?t:0)})}},1399:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return O}));var i=n(4),r=n(13),o=n(56),c=n(8),s=n.n(c),a=n(0),l=n(33),u=n(1444),d=n.n(u),b=n(1);var p=function(e){var t=e.className,n=e.total,i=e.current,o=e.pageSize,c=e.onChange,u=Math.ceil(n/o),p=Object(a.useMemo)((function(){return function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=e-i,o=e+i+1,c=[],s=[];if(t<2)return[1];c.push(1);for(var a=e-i;a<=e+i;a++)a>=r&&a<o&&a<t&&a>1&&c.push(a);return c.push(t),c.forEach((function(e){n&&(e-n===2?s.push(n+1):e-n!==1&&s.push(null)),s.push(e),n=e})),s}(i,u)}),[i,u]);return u<2?null:Object(b.jsxs)("div",{className:s()(d.a.pagination,t),children:[Object(b.jsx)("button",{className:s()(d.a.page,d.a.prev),type:"button",onClick:function(){return c(i-1)},disabled:i<=1,children:Object(b.jsx)(l.a,{name:"chevron",rotate:180,size:24})}),p.map((function(e,t){return e?Object(b.jsx)("button",{onClick:function(){return c(e)},className:s()(d.a.page,Object(r.a)({},d.a.active,e===i)),type:"button",disabled:e===i,children:e},t):Object(b.jsx)("div",{className:d.a.separator,children:"..."},t)})),Object(b.jsx)("button",{className:s()(d.a.page,d.a.next),type:"button",onClick:function(){return c(i+1)},disabled:i>=u,children:Object(b.jsx)(l.a,{name:"chevron",size:24})})]})},h=n(1361),j=n(12),m=n(1445),f=n.n(m),v=function(e){var t,n=e.columns,c=e.data,a=e.loading,u=e.rowKey,d=e.variation,p=void 0===d?"standard":d,j=e.link,m=Object(o.g)();return Object(b.jsxs)("div",{className:s()("table-container",f.a.tableContainer,Object(r.a)({},f.a.loading,a)),children:[Object(b.jsxs)("table",{className:s()(f.a.table,(t={table:"standard"===p,"table-separated":"separated"===p},Object(r.a)(t,f.a.clickable,j),Object(r.a)(t,f.a.loading,a),t)),children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[n.map((function(e,t){var n=e.heading,i=e.align;return Object(b.jsx)("th",{className:i?"text-".concat(i):void 0,children:n},t)})),j?Object(b.jsx)("th",{}):null]})}),Object(b.jsx)("tbody",{children:c.map((function(e,t){var r;return Object(b.jsxs)("tr",{onClick:j?function(){return m.push(j(e))}:void 0,children:[n.map((function(t,n){var r=t.render,o=t.align;return Object(b.jsx)("td",{className:o?"text-".concat(o):void 0,children:Object(b.jsx)(r,Object(i.a)({},e))},n)})),j?Object(b.jsx)("td",{children:Object(b.jsx)(l.a,{name:"arrow",color:"red",className:f.a.arrowIcon})}):null]},null!==(r=null===u||void 0===u?void 0:u(e))&&void 0!==r?r:t)}))})]}),a&&Object(b.jsx)(h.a,{className:f.a.spinner,style:{width:40,height:40,position:"absolute",marginTop:-20,marginLeft:-20}})]})},O=function(e){e.children;var t=e.text,n=e.total,i=e.current,r=e.pageSize,o=e.onChange,c=function(e){var t,n=e.text,i=e.total,r=e.current,o=e.pageSize;if(n){var c=i?(r-1)*o+1:0,s=r*o>i?i:r*o;"function"===typeof n&&(t=n({total:i,from:c,to:s})),!0===n&&(t=Object(b.jsxs)(b.Fragment,{children:["Showing ",c," to ",s," out of ",i," entries"]}))}return t}({text:t,total:n,current:i,pageSize:r});return Object(b.jsxs)("div",{className:s()(f.a.tableFooter,"p-24"),children:[c?Object(b.jsx)(j.b,{type:"p2",weight:"semibold",color:"secondary",children:c}):null,Object(b.jsx)(p,{total:n,current:i,pageSize:r,onChange:o})]})}},1435:function(e,t,n){"use strict";var i=n(13),r=n(4),o=n(5),c=n(0),s=n(1364),a=n.n(s),l=n(8),u=n.n(l),d=n(1356),b=n(214),p=n(258),h=n(33),j=n(1);t.a=function(e){var t=e.filters,n=e.value,s=e.onChange,l=e.className,m=a.a.useForm(),f=Object(o.a)(m,1)[0],v=Object(c.useState)(!1),O=Object(o.a)(v,2),y=O[0],x=O[1],g=Object(c.useMemo)((function(){return t.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),{},Object(i.a)({},t.name,t.defaultValue))}),{})}),[t]),w=Object(c.useMemo)((function(){var e=0;return n&&t.forEach((function(t){n[t.name]!==t.defaultValue&&e++})),e}),[t,n]);Object(c.useEffect)((function(){n&&f.setFieldsValue(n)}),[n]);var k=Object(j.jsxs)(d.a,{form:f,initialValues:g,validateTrigger:["onSubmit"],onFinish:function(e){x(!1),s(e)},children:[t.map((function(e){return Object(j.jsx)(d.a.Item,{name:e.name,label:e.label,className:"mb-32",children:e.itemRender()},e.name)})),Object(j.jsxs)("div",{className:"grid flow-col align-center justify-space-between",children:[Object(j.jsx)("button",{type:"button",onClick:function(){return f.resetFields()},className:"button-text",children:"Reset filters"}),Object(j.jsx)("button",{type:"submit",className:"button-primary",children:"Apply filters"})]})]});return Object(j.jsx)(b.a,{title:"Filters",overlayStyle:{width:348},content:k,visible:y,onVisibleChange:x,placement:"bottomRight",children:Object(j.jsxs)("button",{type:"button",className:u()("button-ghost-monochrome pv-16",l),children:[Object(j.jsx)(h.a,{name:"filter",className:"mr-8"}),Object(j.jsx)("span",{className:"mr-8",children:"Filters"}),Object(j.jsx)(p.b,{children:w})]})})}},1436:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(5),r=n(29),o=n(14),c=n(16),s=n(23),a=n(24),l=n(9),u=n.n(l),d=n(19),b=n.n(d),p=n(431),h=n(37),j=n(250),m=[Object(h.c)("epoch",[],["uint256"]),Object(h.c)("getCurrentEpoch",[],["uint256"]),Object(h.c)("epoch1Start",[],["uint256"]),Object(h.c)("epochDuration",[],["uint256"]),Object(h.c)("epochSeniorLiquidity",[],["uint256"]),Object(h.c)("epochJuniorLiquidity",[],["uint256"]),Object(h.c)("epochDownsideProtectionRate",[],["uint256"]),Object(h.c)("epochUpsideExposureRate",[],["uint256"]),Object(h.c)("epochEntryPrice",[],["uint256"]),Object(h.c)("getEpochSeniorTokenPrice",[],["uint256"]),Object(h.c)("getEpochJuniorTokenPrice",[],["uint256"]),Object(h.c)("estimateCurrentSeniorTokenPrice",[],["uint256"]),Object(h.c)("estimateCurrentJuniorTokenPrice",[],["uint256"]),Object(h.c)("queuedJuniorsUnderlyingIn",[],["uint256"]),Object(h.c)("queuedJuniorsUnderlyingOut",[],["uint256"]),Object(h.c)("queuedJuniorTokensBurn",[],["uint256"]),Object(h.c)("queuedSeniorsUnderlyingIn",[],["uint256"]),Object(h.c)("queuedSeniorsUnderlyingOut",[],["uint256"]),Object(h.c)("queuedSeniorTokensBurn",[],["uint256"]),Object(h.c)("feesAccrued",[],["uint256"]),Object(h.c)("priceOracle",[],["address"]),Object(h.c)("seniorEntryQueue",["address"],["uint256","uint256"]),Object(h.c)("seniorExitQueue",["address"],["uint256","uint256"]),Object(h.c)("juniorEntryQueue",["address"],["uint256","uint256"]),Object(h.c)("juniorExitQueue",["address"],["uint256","uint256"]),Object(h.c)("depositJunior",["uint256"],[]),Object(h.c)("exitJunior",["uint256"],[]),Object(h.c)("redeemJuniorTokens",[],[]),Object(h.c)("redeemJuniorUnderlying",[],[]),Object(h.c)("depositSenior",["uint256"],[]),Object(h.c)("exitSenior",["uint256"],[]),Object(h.c)("redeemSeniorTokens",[],[]),Object(h.c)("redeemSeniorUnderlying",[],[]),Object(h.c)("transferFees",[],[]),Object(h.c)("advanceEpoch",[],[])],f=18,v=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e){return Object(o.a)(this,n),t.call(this,[Object(h.c)("getPrice",[],["uint256"])],e,"SA Price Oracle")}return Object(c.a)(n,[{key:"getPrice",value:function(){return this.call("getPrice").then((function(e){return b.a.from(e)}))}}]),n}(h.d),O=function(e){Object(s.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,m,e,"Smart Alpha")).epoch=void 0,i.currentEpoch=void 0,i.epoch1Start=void 0,i.epochDuration=void 0,i.epochSeniorLiquidity=void 0,i.epochJuniorLiquidity=void 0,i.epochDownsideProtectionRate=void 0,i.epochUpsideExposureRate=void 0,i.epochEntryPrice=void 0,i.epochSeniorTokenPrice=void 0,i.epochJuniorTokenPrice=void 0,i.queuedJuniorsUnderlyingIn=void 0,i.queuedJuniorsUnderlyingOut=void 0,i.queuedJuniorTokensBurn=void 0,i.queuedSeniorsUnderlyingIn=void 0,i.queuedSeniorsUnderlyingOut=void 0,i.queuedSeniorTokensBurn=void 0,i.estimateCurrentSeniorTokenPrice=void 0,i.estimateCurrentJuniorTokenPrice=void 0,i.feesAccrued=void 0,i.priceOracleContract=void 0,i.priceOracle=void 0,i}return Object(c.a)(n,[{key:"nextEpochStart",get:function(){if(void 0!==this.currentEpoch&&void 0!==this.epochDuration&&void 0!==this.epoch1Start)return this.epoch1Start+this.currentEpoch*this.epochDuration}},{key:"tillNextEpoch",get:function(){var e=this.nextEpochStart;if(void 0!==e)return Math.max(0,e-Object(p.a)(Date.now()))}},{key:"epochsGap",get:function(){if(void 0!==this.epoch&&void 0!==this.currentEpoch)return this.currentEpoch-this.epoch}},{key:"requireEpochAdvance",get:function(){var e=this.epochsGap;return void 0!==e&&e>0}},{key:"epochTotalLiquidityRate",get:function(){if(this.epochSeniorLiquidity&&this.epochJuniorLiquidity)return this.epochSeniorLiquidity.plus(this.epochJuniorLiquidity)}},{key:"epochSeniorLiquidityRate",get:function(){if(this.epochSeniorLiquidity&&this.epochTotalLiquidityRate)return this.epochSeniorLiquidity.div(this.epochTotalLiquidityRate).toNumber()}},{key:"epochJuniorLiquidityRate",get:function(){if(this.epochJuniorLiquidity&&this.epochTotalLiquidityRate)return this.epochJuniorLiquidity.div(this.epochTotalLiquidityRate).toNumber()}},{key:"epochUpsideLeverage",get:function(){if(this.epochSeniorLiquidity&&this.epochJuniorLiquidity&&this.epochUpsideExposureRate)return this.epochJuniorLiquidity.eq(0)?new b.a(1).scaleBy(f):this.epochSeniorLiquidity.div(this.epochJuniorLiquidity).multipliedBy(new b.a(1).minus(this.epochUpsideExposureRate.unscaleBy(f))).plus(1).scaleBy(f)}},{key:"epochDownsideLeverage",get:function(){if(this.epochSeniorLiquidity&&this.epochJuniorLiquidity)return this.epochJuniorLiquidity.eq(0)?new b.a(1).scaleBy(f):this.epochSeniorLiquidity.div(this.epochJuniorLiquidity).plus(1).scaleBy(f)}},{key:"loadCommon",value:function(){var e=Object(r.a)(u.a.mark((function e(){var t,n,r,o,c,s,a,l,d,p,j,m,f,O,y,x,g,w,k,N,E,T;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.batch([{method:"epoch"},{method:"getCurrentEpoch"},{method:"epoch1Start"},{method:"epochDuration"},{method:"epochSeniorLiquidity"},{method:"epochJuniorLiquidity"},{method:"epochDownsideProtectionRate"},{method:"epochUpsideExposureRate"},{method:"epochEntryPrice"},{method:"getEpochSeniorTokenPrice"},{method:"getEpochJuniorTokenPrice"},{method:"queuedJuniorsUnderlyingIn"},{method:"queuedJuniorsUnderlyingOut"},{method:"queuedJuniorTokensBurn"},{method:"queuedSeniorsUnderlyingIn"},{method:"queuedSeniorsUnderlyingOut"},{method:"queuedSeniorTokensBurn"},{method:"estimateCurrentSeniorTokenPrice"},{method:"estimateCurrentJuniorTokenPrice"},{method:"priceOracle"}]);case 2:return t=e.sent,n=Object(i.a)(t,20),r=n[0],o=n[1],c=n[2],s=n[3],a=n[4],l=n[5],d=n[6],p=n[7],j=n[8],m=n[9],f=n[10],O=n[11],y=n[12],x=n[13],g=n[14],w=n[15],k=n[16],N=n[17],E=n[18],T=n[19],this.epoch=Number(r),this.currentEpoch=Number(o),this.epoch1Start=Number(c),this.epochDuration=Number(s),this.epochSeniorLiquidity=b.a.from(a),this.epochJuniorLiquidity=b.a.from(l),this.epochDownsideProtectionRate=b.a.from(d),this.epochUpsideExposureRate=b.a.from(p),this.epochEntryPrice=b.a.from(j),this.epochSeniorTokenPrice=b.a.from(m),this.epochJuniorTokenPrice=b.a.from(f),this.queuedJuniorsUnderlyingIn=b.a.from(O),this.queuedJuniorsUnderlyingOut=b.a.from(y),this.queuedJuniorTokensBurn=b.a.from(x),this.queuedSeniorsUnderlyingIn=b.a.from(g),this.queuedSeniorsUnderlyingOut=b.a.from(w),this.queuedSeniorTokensBurn=b.a.from(k),this.estimateCurrentSeniorTokenPrice=b.a.from(N),this.estimateCurrentJuniorTokenPrice=b.a.from(E),this.priceOracleContract=new v(T),this.priceOracleContract.setCallProvider(this.callProvider),e.next=47,this.priceOracleContract.getPrice();case 47:this.priceOracle=e.sent,this.emit(h.d.UPDATE_DATA);case 49:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getEntryPriceDecimals",value:function(e){return Object(j.c)(e)?18:8}},{key:"seniorEntryQueue",value:function(e){return this.call("seniorEntryQueue",[e],{}).then((function(e){return[Number(e[0]),b.a.from(e[1])]}))}},{key:"seniorExitQueue",value:function(e){return this.call("seniorExitQueue",[e],{}).then((function(e){return[Number(e[0]),b.a.from(e[1])]}))}},{key:"juniorEntryQueue",value:function(e){return this.call("juniorEntryQueue",[e],{}).then((function(e){return[Number(e[0]),b.a.from(e[1])]}))}},{key:"juniorExitQueue",value:function(e){return this.call("juniorExitQueue",[e],{}).then((function(e){return[Number(e[0]),b.a.from(e[1])]}))}},{key:"getFeesAccrued",value:function(){var e=this;return this.call("feesAccrued",[],{}).then((function(t){return e.feesAccrued=b.a.from(t),e.emit(h.d.UPDATE_DATA),e.feesAccrued}))}},{key:"depositJunior",value:function(){var e=Object(r.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("depositJunior",[t],{},n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"withdrawJunior",value:function(){var e=Object(r.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("exitJunior",[t],{},n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"redeemJuniorTokens",value:function(){var e=Object(r.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("redeemJuniorTokens",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"redeemJuniorUnderlying",value:function(){var e=Object(r.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("redeemJuniorUnderlying",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"depositSenior",value:function(){var e=Object(r.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("depositSenior",[t],{},n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"withdrawSenior",value:function(){var e=Object(r.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("exitSenior",[t],{},n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"redeemSeniorTokens",value:function(){var e=Object(r.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("redeemSeniorTokens",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"redeemSeniorUnderlying",value:function(){var e=Object(r.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("redeemSeniorUnderlying",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transferFees",value:function(){var e=Object(r.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("transferFees",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"advanceEpoch",value:function(){var e=Object(r.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("advanceEpoch",[],{});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(h.d);t.b=O},1443:function(e,t,n){var i=n(1575);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},1444:function(e,t,n){e.exports={pagination:"s_pagination__3UMZt",page:"s_page__29oPu",separator:"s_separator__1n_F1",prev:"s_prev__2g1Q9",next:"s_next__d_WwI",active:"s_active__ec-7d"}},1445:function(e,t,n){e.exports={tableContainer:"s_tableContainer__2Dki2",loading:"s_loading__1OMuZ",table:"s_table__Nd1Ke",clickable:"s_clickable__1x0tg",arrowIcon:"s_arrowIcon__1zygh",tableFooter:"s_tableFooter__3iZZl",spinner:"s_spinner__1axuf"}},1451:function(e,t,n){var i=n(432);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},1462:function(e,t,n){var i=n(1660),r=n(1663),o=n(1556),c=n(252),s=n(1670);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?c(e)?r(e[0],e[1]):i(e):s(e)}},1464:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(4),r=n(99),o=n(33),c=n(1),s=function(e){var t=e.children,n=e.className,s=e.style;return Object(c.jsx)(r.a,{title:t,children:Object(c.jsx)(o.a,{name:"info",size:16,className:n,style:Object(i.a)({flexShrink:0},s)})})}},1546:function(e,t,n){var i=n(1462),r=n(1673);e.exports=function(e,t){return e&&e.length?r(e,i(t,2)):[]}},1547:function(e,t,n){var i=n(252),r=n(432),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(c.test(e)||!o.test(e)||null!=t&&e in Object(t))}},1556:function(e,t){e.exports=function(e){return e}},1559:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n(431);function r(e){var t=Object(i.a)(Date.now()),n=function(e){var t=Object(i.a)(Date.now());return t<e.epoch1Start?0:Math.floor((t-e.epoch1Start)/e.epochDuration+1)}(e),r=e.epoch1Start+n*e.epochDuration;return t<r?r-t:0}function o(e){switch(e){case"WETH (USD) BPT":return["balancer","usd","eth"];case"WBTC (USD) BPT":return["balancer","usd","wbtc"];case"KPI_WETH-USD-1w":return["uma","usd","weth"];case"KPI_WBTC-USD-1w":return["uma","usd","wbtc"];default:return["unknown","unknown","unknown"]}}},1575:function(e,t,n){var i=n(1589),r=n(1451);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},1587:function(e,t,n){var i=n(215);e.exports=function(e){return e===e&&!i(e)}},1588:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1589:function(e,t,n){var i=n(252),r=n(1547),o=n(1664),c=n(656);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(c(e))}},1591:function(e,t,n){"use strict";var i=n(14),r=n(16),o=n(23),c=n(24),s=n(19),a=n.n(s),l=n(37),u=[Object(l.c)("estimateNextEpoch",["address"],[new l.a(["uint256","uint256","uint256","uint256","uint256"])]),Object(l.c)("userRedeemableSeniorTokens",["address","address"],["uint256"]),Object(l.c)("userRedeemableJuniorTokens",["address","address"],["uint256"]),Object(l.c)("userRedeemableSeniorUnderlying",["address","address"],["uint256"]),Object(l.c)("userRedeemableJuniorUnderlying",["address","address"],["uint256"])],d=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,u,e,"SA Loupe")).price=void 0,r}return Object(r.a)(n,[{key:"getEstimateNextEpoch",value:function(e){return this.call("estimateNextEpoch",[e],{}).then((function(e){return[a.a.from(e[0]),a.a.from(e[1]),a.a.from(e[2]),a.a.from(e[3]),a.a.from(e[4])]}))}},{key:"getUserRedeemableSeniorTokens",value:function(e,t){return this.call("userRedeemableSeniorTokens",[e,t],{}).then(a.a.from)}},{key:"getUserRedeemableJuniorTokens",value:function(e,t){return this.call("userRedeemableJuniorTokens",[e,t],{}).then(a.a.from)}},{key:"getUserRedeemableSeniorUnderlying",value:function(e,t){return this.call("userRedeemableSeniorUnderlying",[e,t],{}).then(a.a.from)}},{key:"getUserRedeemableJuniorUnderlying",value:function(e,t){return this.call("userRedeemableJuniorUnderlying",[e,t],{}).then(a.a.from)}}]),n}(l.d);t.a=d},1628:function(e,t){e.exports=function(e,t,n,i){for(var r=e.length,o=n+(i?1:-1);i?o--:++o<r;)if(t(e[o],o,e))return o;return-1}},1660:function(e,t,n){var i=n(1661),r=n(1662),o=n(1588);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},1661:function(e,t,n){var i=n(660),r=n(651);e.exports=function(e,t,n,o){var c=n.length,s=c,a=!o;if(null==e)return!s;for(e=Object(e);c--;){var l=n[c];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++c<s;){var u=(l=n[c])[0],d=e[u],b=l[1];if(a&&l[2]){if(void 0===d&&!(u in e))return!1}else{var p=new i;if(o)var h=o(d,b,u,e,t,p);if(!(void 0===h?r(b,d,3,o,p):h))return!1}}return!0}},1662:function(e,t,n){var i=n(1587),r=n(440);e.exports=function(e){for(var t=r(e),n=t.length;n--;){var o=t[n],c=e[o];t[n]=[o,c,i(c)]}return t}},1663:function(e,t,n){var i=n(651),r=n(1443),o=n(1667),c=n(1547),s=n(1587),a=n(1588),l=n(1451);e.exports=function(e,t){return c(e)&&s(t)?a(l(e),t):function(n){var c=r(n,e);return void 0===c&&c===t?o(n,e):i(t,c,3)}}},1664:function(e,t,n){var i=n(1665),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,c=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=c},1665:function(e,t,n){var i=n(1666);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},1666:function(e,t,n){var i=n(444);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var c=e.apply(this,i);return n.cache=o.set(r,c)||o,c};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},1667:function(e,t,n){var i=n(1668),r=n(1669);e.exports=function(e,t){return null!=e&&r(e,t,i)}},1668:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},1669:function(e,t,n){var i=n(1589),r=n(657),o=n(252),c=n(658),s=n(445),a=n(1451);e.exports=function(e,t,n){for(var l=-1,u=(t=i(t,e)).length,d=!1;++l<u;){var b=a(t[l]);if(!(d=null!=e&&n(e,b)))break;e=e[b]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&c(b,u)&&(o(e)||r(e))}},1670:function(e,t,n){var i=n(1671),r=n(1672),o=n(1547),c=n(1451);e.exports=function(e){return o(e)?i(c(e)):r(e)}},1671:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},1672:function(e,t,n){var i=n(1575);e.exports=function(e){return function(t){return i(t,e)}}},1673:function(e,t,n){var i=n(661),r=n(1674),o=n(1678),c=n(662),s=n(1679),a=n(652);e.exports=function(e,t,n){var l=-1,u=r,d=e.length,b=!0,p=[],h=p;if(n)b=!1,u=o;else if(d>=200){var j=t?null:s(e);if(j)return a(j);b=!1,u=c,h=new i}else h=t?[]:p;e:for(;++l<d;){var m=e[l],f=t?t(m):m;if(m=n||0!==m?m:0,b&&f===f){for(var v=h.length;v--;)if(h[v]===f)continue e;t&&h.push(f),p.push(m)}else u(h,f,n)||(h!==p&&h.push(f),p.push(m))}return p}},1674:function(e,t,n){var i=n(1675);e.exports=function(e,t){return!!(null==e?0:e.length)&&i(e,t,0)>-1}},1675:function(e,t,n){var i=n(1628),r=n(1676),o=n(1677);e.exports=function(e,t,n){return t===t?o(e,t,n):i(e,r,n)}},1676:function(e,t){e.exports=function(e){return e!==e}},1677:function(e,t){e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},1678:function(e,t){e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},1679:function(e,t,n){var i=n(663),r=n(335),o=n(652),c=i&&1/o(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=c},1803:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(5),r=n(0),o=n(19),c=n(45),s=n(1365),a=n(1591),l=n(1436);function u(e){var t=Object(c.b)(),n=Object(s.b)().getOrCreateContract,u=Object(r.useMemo)((function(){var e,i=null===(e=t.contracts.sa)||void 0===e?void 0:e.loupe;if(i)return n(i,(function(){return new a.a(i)}))}),[]),d=Object(r.useState)([]),b=Object(i.a)(d,2),p=b[0],h=b[1];Object(r.useEffect)((function(){e&&u&&u.getEstimateNextEpoch(e).then((function(e){h(e)}))}),[e,u]);var j=Object(r.useMemo)((function(){var e;if(!p[0]||!p[1])return 0;var t=p[0].plus(p[1]);return null===(e=p[1])||void 0===e?void 0:e.div(t).toNumber()}),[p]),m=Object(r.useMemo)((function(){var e;if(!p[0]||!p[1])return 0;var t=p[0].plus(p[1]);return null===(e=p[0])||void 0===e?void 0:e.div(t).toNumber()}),[p]),f=Object(r.useMemo)((function(){if(p[0]&&p[1]&&p[2])return p[0].eq(0)?new o.BigNumber(1):p[1].div(p[0]).multipliedBy(new o.BigNumber(1).minus(p[2].unscaleBy(l.a))).plus(1)}),[p]),v=Object(r.useMemo)((function(){if(p[0]&&p[1])return p[0].eq(0)?new o.BigNumber(1):p[1].div(p[0]).plus(1)}),[p]);return{nextEpochEstimates:p,nextEpochSeniorLiquidityRate:j,nextEpochJuniorLiquidityRate:m,nextEpochUpsideLeverage:f,nextEpochDownsideLeverage:v}}},2216:function(e,t,n){e.exports={cards:"s_cards__2P5j7",poolCard:"s_poolCard__-eNSe",poolCardDlRow:"s_poolCardDlRow__14WVx",poolCardFooter:"s_poolCardFooter__3rSUn"}},2263:function(e,t,n){"use strict";n.r(t),n.d(t,"EpochTypeKey",(function(){return p}));var i=n(29),r=n(15),o=n(5),c=n(9),s=n.n(c),a=n(0),l=n(56),u="undefined"===typeof window?a.useEffect:a.useLayoutEffect,d={innerWidth:null,innerHeight:null,outerWidth:null,outerHeight:null};function b(){return{innerWidth:window.innerWidth,innerHeight:window.innerHeight,outerWidth:window.outerWidth,outerHeight:window.outerHeight}}var p,h=function(){var e=Object(a.useState)((function(){return"undefined"!==typeof window?b():d})),t=Object(o.a)(e,2),n=t[0],i=t[1];return u((function(){function e(){i(b())}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n},j=n(19),m=n.n(j),f=n(8),v=n.n(f),O=n(1546),y=n.n(O),x=n(65),g=n(420),w=n(38),k=n(1399),N=n(1435),E=n(1368),T=n(1464),S=n(12),q=n(250),L=n(415),C=n(1365),R=n(1384),_=n(116),A=n(424),J=n(1436),U=n(1803),B=n(1559),D=n(60),P=n(2216),M=n.n(P),z=n(1);!function(e){e.current="current",e.estimates="estimates"}(p||(p={}));var F=[{id:p.current,children:"Current"},{id:p.estimates,children:"Estimates"}],I=(t.default=function(){var e,t,n,i,c=Object(A.j)(),s=c.data,l=c.loading,u=Object(a.useState)("list"),d=Object(o.a)(u,2),b=d[0],j=d[1],f=Object(a.useState)(p.current),v=Object(o.a)(f,2),O=v[0],k=v[1],T=h().innerWidth,q=!T||T<1440,L=Object(a.useMemo)((function(){return null===s||void 0===s?void 0:s.reduce((function(e,t){return e.plus(t.tvl.epochJuniorTVL).plus(t.tvl.epochSeniorTVL)}),m.a.ZERO)}),[s]),C=Object(a.useMemo)((function(){return null===s||void 0===s?void 0:s.reduce((function(e,t){return e.plus(t.tvl.juniorEntryQueueTVL).plus(t.tvl.seniorEntryQueueTVL)}),m.a.ZERO)}),[s]),R=Object(a.useMemo)((function(){return null===s||void 0===s?void 0:s.reduce((function(e,t){return e.plus(t.tvl.juniorExitQueueTVL).plus(t.tvl.seniorExitQueueTVL)}),m.a.ZERO)}),[s]),_=Object(a.useMemo)((function(){return null===s||void 0===s?void 0:s.reduce((function(e,t){return e.plus(t.tvl.juniorExitedTVL).plus(t.tvl.seniorExitedTVL)}),m.a.ZERO)}),[s]),J=Object(a.useState)(""),U=Object(o.a)(J,2),B=U[0],D=U[1],P=Object(a.useMemo)((function(){return[{name:"token",label:"Token",defaultValue:"",itemRender:function(){var e=[{value:"",label:"All tokens"}].concat(Object(r.a)(y()(null===s||void 0===s?void 0:s.map((function(e){return{value:e.poolToken.symbol,label:e.poolToken.symbol}})),"value")));return Object(z.jsx)(g.a,{options:e,className:"full-width"})}}]}),[s]),M=Object(a.useMemo)((function(){return{token:B}}),[B]),V=Object(a.useMemo)((function(){var e;return null!==(e=null===s||void 0===s?void 0:s.filter((function(e){return!B||e.poolToken.symbol.toUpperCase()===B.toUpperCase()})))&&void 0!==e?e:[]}),[s,B]);return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)("div",{className:"flex flow-col wrap col-gap-32 row-gap-16 mb-32",children:[Object(z.jsxs)("div",{className:"card p-24",style:{minWidth:"200px"},children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Epoch TVL"}),Object(z.jsx)(S.b,{type:"h3",weight:"bold",color:"primary",children:null!==(e=Object(x.e)(L))&&void 0!==e?e:"-"})]}),Object(z.jsxs)("div",{className:"card p-24",style:{minWidth:"200px"},children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Entry Queue TVL"}),Object(z.jsx)(S.b,{type:"h3",weight:"bold",color:"primary",children:null!==(t=Object(x.e)(C))&&void 0!==t?t:"-"})]}),Object(z.jsxs)("div",{className:"card p-24",style:{minWidth:"200px"},children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Exit Queue TVL"}),Object(z.jsx)(S.b,{type:"h3",weight:"bold",color:"primary",children:null!==(n=Object(x.e)(R))&&void 0!==n?n:"-"})]}),Object(z.jsxs)("div",{className:"card p-24",style:{minWidth:"200px"},children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Exited TVL"}),Object(z.jsx)(S.b,{type:"h3",weight:"bold",color:"primary",children:null!==(i=Object(x.e)(_))&&void 0!==i?i:"-"})]})]}),Object(z.jsxs)("div",{className:"flex align-center mb-32",children:[Object(z.jsx)(S.b,{type:"h1",weight:"bold",children:"Pools"}),Object(z.jsxs)("div",{className:"flex align-center ml-auto",children:[Object(z.jsx)(E.g,{tabs:F,activeKey:O,onClick:k,variation:"elastic"}),q?null:Object(z.jsx)(w.a,{variation:"ghost-alt",icon:"cards"===b?"list-view":"cards-view",iconPosition:"only",onClick:function(){return j((function(e){return"cards"===e?"list":"cards"}))},className:"ml-16"}),Object(z.jsx)(N.a,{className:"ml-16",filters:P,value:M,onChange:function(e){return D(e.token)}})]})]}),q||"cards"===b?Object(z.jsx)(I,{items:V,epochType:O}):Object(z.jsx)(H,{items:V,epochType:O,loading:l})]})},function(e){var t=e.items,n=e.epochType;return Object(z.jsx)("div",{className:M.a.cards,children:t.map((function(e){return n===p.current?Object(z.jsx)(V,{item:e},e.poolAddress):Object(z.jsx)(Q,{item:e},e.poolAddress)}))})}),V=function(e){var t=e.item,n=new m.a(t.state.seniorLiquidity),i=new m.a(t.state.juniorLiquidity),r=new m.a(t.state.upsideExposureRate),o=new m.a(t.state.downsideProtectionRate),c=i.gt(0)?n.div(i).multipliedBy(new m.a(1).minus(r)).plus(1):new m.a(1),s=i.gt(0)?n.div(i).plus(1):new m.a(1);return Object(z.jsx)(W,{item:t,epoch:t.state.epoch,juniorLiquidity:i,seniorLiquidity:n,upsideRate:r,downsideRate:o,upsideLeverage:c,downsideLeverage:s,isEstimate:!1})},Q=function(e){var t,n,r,c,l=e.item,u=Object(_.a)(),d=Object(o.a)(u,1)[0],b=Object(C.b)().getOrCreateContract,p=Object(U.a)(l.poolAddress),h=p.nextEpochEstimates,j=p.nextEpochUpsideLeverage,m=p.nextEpochDownsideLeverage,f=Object(a.useMemo)((function(){return b(l.poolAddress,(function(){return new J.b(l.poolAddress)}),{afterInit:function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.onUpdateData(d),e.next=3,t.loadCommon();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),[l]);return Object(z.jsx)(W,{item:l,epoch:f.currentEpoch?f.currentEpoch+1:void 0,juniorLiquidity:null===(t=h[0])||void 0===t?void 0:t.unscaleBy(l.poolToken.decimals),seniorLiquidity:null===(n=h[1])||void 0===n?void 0:n.unscaleBy(l.poolToken.decimals),upsideRate:null===(r=h[2])||void 0===r?void 0:r.unscaleBy(J.a),downsideRate:null===(c=h[3])||void 0===c?void 0:c.unscaleBy(J.a),upsideLeverage:j,downsideLeverage:m,isEstimate:!0})},W=function(e){var t,n,i,r,o,c,s,a,u,d=e.item,b=e.epoch,p=e.juniorLiquidity,h=e.seniorLiquidity,j=e.upsideRate,f=e.downsideRate,O=e.upsideLeverage,y=e.downsideLeverage,g=e.isEstimate,k=Object(l.h)(),N=Object(q.e)(),E=N.getToken,C=N.getAsset,_=E(d.poolToken.symbol),A=C(d.oracleAssetSymbol),J=f&&null!==_&&void 0!==_&&_.price&&null!==A&&void 0!==A&&A.price?null===(t=_.price)||void 0===t||null===(n=t.multipliedBy(new m.a(1).minus(f)))||void 0===n?void 0:n.dividedBy(A.price):void 0,U=null!==_&&void 0!==_&&_.price&&null!==A&&void 0!==A&&A.price?null===(i=_.price)||void 0===i?void 0:i.dividedBy(A.price):void 0;return Object(z.jsxs)("section",{className:v()(M.a.poolCard,"card"),style:g?{}:{"--pool-card-progress":(d.epochDuration-Object(B.b)(d))/d.epochDuration*100},children:[Object(z.jsxs)("header",{className:"card-header flex align-center mb-32",children:[Object(z.jsx)(L.a,{name:null===_||void 0===_?void 0:_.icon,size:40,bubble2Name:null===A||void 0===A?void 0:A.icon,className:"mr-16"}),Object(z.jsxs)("div",{children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"primary",tag:"h2",className:"mb-4",children:d.poolName}),Object(z.jsxs)(S.b,{type:"small",weight:"semibold",color:"red",tag:"small",children:["Epoch ",null!==b&&void 0!==b?b:"-"]})]}),!g&&Object(z.jsxs)("div",{className:"ml-auto",style:{textAlign:"right"},children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",tag:"small",className:"mb-4",children:"Epoch ends in"}),Object(z.jsx)(R.a,{delay:1e3,children:function(){return Object(z.jsx)(S.b,{type:"p1",weight:"semibold",children:Object(D.b)(Object(B.b)(d))})}})]})]}),Object(z.jsxs)("dl",{children:[Object(z.jsxs)("div",{className:v()(M.a.poolCardDlRow,"mb-24"),children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",tag:"dt",children:"Epoch senior liquidity"}),Object(z.jsxs)("dd",{className:"flex align-center",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",tooltip:Object(z.jsxs)(S.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(z.jsx)("span",{children:Object(x.d)(h,{tokenName:d.poolToken.symbol,decimals:d.poolToken.decimals})}),Object(z.jsx)("span",{children:Object(x.e)(null===(r=m.a.from(h))||void 0===r?void 0:r.multipliedBy(null!==(o=null===_||void 0===_?void 0:_.price)&&void 0!==o?o:0))})]}),children:Object(x.d)(h,{compact:!0})}),Object(z.jsx)(L.a,{name:null===_||void 0===_?void 0:_.icon,className:"ml-8"})]})]}),Object(z.jsxs)("div",{className:v()(M.a.poolCardDlRow,"mb-24"),children:[Object(z.jsxs)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",tag:"dt",children:["Upside exposure rate",Object(z.jsx)(T.a,{children:"Senior positions will only receive this much of every percentage point gain in the underlying asset"})]}),Object(z.jsx)("dd",{children:Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"green",children:Object(x.c)(j)})})]}),Object(z.jsxs)("div",{className:v()(M.a.poolCardDlRow,"mb-16"),children:[Object(z.jsxs)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",tag:"dt",children:["Downside protection rate",Object(z.jsx)(T.a,{children:"Senior positions will only start taking losses beyond this decline"})]}),Object(z.jsx)("dd",{children:Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"green",children:Object(x.c)(f)})})]}),Object(z.jsx)("hr",{className:"mb-24"}),Object(z.jsxs)("div",{className:v()(M.a.poolCardDlRow,"mb-24"),children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",tag:"dt",children:"Epoch junior liquidity"}),Object(z.jsxs)("dd",{className:"flex align-center",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",tooltip:Object(z.jsxs)(S.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(z.jsx)("span",{children:Object(x.d)(p,{tokenName:d.poolToken.symbol,decimals:d.poolToken.decimals})}),Object(z.jsx)("span",{children:Object(x.e)(null===(c=m.a.from(p))||void 0===c?void 0:c.multipliedBy(null!==(s=null===_||void 0===_?void 0:_.price)&&void 0!==s?s:0))})]}),children:Object(x.d)(p,{compact:!0})}),Object(z.jsx)(L.a,{name:null===_||void 0===_?void 0:_.icon,className:"ml-8"})]})]}),Object(z.jsxs)("div",{className:v()(M.a.poolCardDlRow,"mb-24"),children:[Object(z.jsxs)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",tag:"dt",children:["Upside leverage",Object(z.jsx)(T.a,{children:"Junior positions will have their upside amplified by this much"})]}),Object(z.jsx)("dd",{children:Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"purple",children:O?"".concat(Object(x.b)(O),"x"):"-"})})]}),Object(z.jsxs)("div",{className:v()(M.a.poolCardDlRow,"mb-24"),children:[Object(z.jsxs)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",tag:"dt",children:["Downside leverage",Object(z.jsxs)(T.a,{children:["How much of every 1% move to the downside in ".concat(d.poolToken.symbol," price a junior position will have exposure to."),Object(z.jsx)("br",{}),"The downside leverage is only applicable until senior downside protection is fully covered, and junior losses are fully realized.",Object(z.jsx)("br",{}),"Below that, is the ".concat(d.poolToken.symbol," price after which there is no more senior downside protection to cover.")]})]}),Object(z.jsxs)("dd",{children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"purple",tooltip:"You have this amount of downside leverage, until the ".concat(d.poolToken.symbol," price drops under ").concat(Object(x.d)(J,{tokenName:null===A||void 0===A?void 0:A.symbol})," - after which there is no more downside leverage - or you can consider it as being 1x"),className:"mb-4",children:y?"\u2264".concat(Object(x.b)(y),"x"):"-"}),Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",children:null!==(a=Object(x.d)(J))&&void 0!==a?a:"-"}),Object(z.jsx)(L.a,{name:null===A||void 0===A?void 0:A.icon,size:16,className:"ml-4"})]})]})]}),Object(z.jsx)("hr",{className:"mb-24"}),Object(z.jsxs)("div",{className:v()(M.a.poolCardDlRow,"mb-24"),children:[Object(z.jsxs)(S.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",tag:"dt",children:[null===_||void 0===_?void 0:_.symbol," current price"]}),Object(z.jsxs)("dd",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"primary",children:null!==(u=Object(x.d)(U))&&void 0!==u?u:"-"}),Object(z.jsx)(L.a,{name:null===A||void 0===A?void 0:A.icon,size:16,className:"ml-4"})]})]})]}),Object(z.jsx)("footer",{className:M.a.poolCardFooter,children:Object(z.jsx)(w.e,{variation:"ghost",to:"".concat(k.pathname,"/").concat(d.poolAddress),children:"View details"})})]})};var H=function(e){var t=e.items,n=e.epochType,i=e.loading,r=Object(l.h)(),o=Object(a.useMemo)((function(){return function(e){return e===p.current?[{heading:"Asset/Epoch",render:function(e){var t=Object(q.e)(),n=t.getToken,i=t.getAsset,r=n(e.poolToken.symbol),o=i(e.oracleAssetSymbol);return Object(z.jsxs)("div",{className:"flex align-center",children:[Object(z.jsx)(L.a,{name:null===r||void 0===r?void 0:r.icon,size:40,bubble2Name:null===o||void 0===o?void 0:o.icon,className:"mr-16"}),Object(z.jsxs)("div",{children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"primary",tag:"h2",className:"mb-4",children:e.poolName}),Object(z.jsxs)(S.b,{type:"small",weight:"semibold",color:"red",tag:"small",children:["Epoch ",e.state.epoch]})]})]})}},{heading:"Epoch ends in",render:function(e){return Object(z.jsx)(R.a,{delay:1e3,children:function(){var t=Object(B.b)(e);return Object(z.jsx)(S.b,{type:"p1",weight:"semibold",children:Object(D.b)(t,void 0,{format:["months","days","hours","minutes"]})})}})}},{heading:"Epoch senior liquidity",render:function(e){var t,n,i=(0,Object(q.e)().getToken)(e.poolToken.symbol);return Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",tooltip:Object(z.jsxs)(S.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(z.jsx)("span",{children:Object(x.d)(e.state.seniorLiquidity,{tokenName:e.poolToken.symbol,decimals:e.poolToken.decimals})}),Object(z.jsx)("span",{children:Object(x.e)(null===(t=m.a.from(e.state.seniorLiquidity))||void 0===t?void 0:t.multipliedBy(null!==(n=null===i||void 0===i?void 0:i.price)&&void 0!==n?n:0))})]}),children:Object(x.d)(e.state.seniorLiquidity,{compact:!0})}),Object(z.jsx)(L.a,{name:null===i||void 0===i?void 0:i.icon,className:"ml-8"})]})}},{heading:Object(z.jsxs)("div",{className:"flex align-center justify-end",children:["Upside",Object(z.jsx)("br",{}),"exposure rate"," ",Object(z.jsx)(T.a,{className:"ml-4",children:"Senior positions will only receive this much of every percentage point gain in the underlying asset"})]}),align:"right",render:function(e){return Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"green",children:Object(x.c)(Number(e.state.upsideExposureRate))})}},{heading:Object(z.jsxs)("div",{className:"flex align-center justify-end",children:["Downside",Object(z.jsx)("br",{}),"protection rate"," ",Object(z.jsx)(T.a,{className:"ml-4",children:"Senior positions will only start taking losses beyond this decline"})]}),align:"right",render:function(e){return Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"green",children:Object(x.c)(Number(e.state.downsideProtectionRate))})}},{heading:"Epoch junior liquidity",align:"right",render:function(e){var t,n,i=(0,Object(q.e)().getToken)(e.poolToken.symbol);return Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",tooltip:Object(z.jsxs)(S.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(z.jsx)("span",{children:Object(x.d)(e.state.juniorLiquidity,{tokenName:e.poolToken.symbol,decimals:e.poolToken.decimals})}),Object(z.jsx)("span",{children:Object(x.e)(null===(t=m.a.from(e.state.juniorLiquidity))||void 0===t?void 0:t.multipliedBy(null!==(n=null===i||void 0===i?void 0:i.price)&&void 0!==n?n:0))})]}),children:Object(x.d)(e.state.juniorLiquidity,{compact:!0})}),Object(z.jsx)(L.a,{name:null===i||void 0===i?void 0:i.icon,className:"ml-8"})]})}},{heading:Object(z.jsxs)("div",{className:"flex align-center justify-end",children:["Upside",Object(z.jsx)("br",{}),"leverage"," ",Object(z.jsx)(T.a,{className:"ml-4",children:"Junior positions will have their upside amplified by this much"})]}),align:"right",render:function(e){var t=new m.a(e.state.seniorLiquidity),n=new m.a(e.state.juniorLiquidity),i=new m.a(e.state.upsideExposureRate),r=n.gt(0)?t.div(n).multipliedBy(new m.a(1).minus(i)).plus(1):new m.a(1);return Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"purple",children:r?"".concat(Object(x.b)(r),"x"):"-"})}},{heading:Object(z.jsxs)("div",{className:"flex align-center justify-end",children:["Downside",Object(z.jsx)("br",{}),"leverage"," ",Object(z.jsxs)(T.a,{className:"ml-4",children:["How much of every 1% move to the downside in underlying token price a junior position will have exposure to.",Object(z.jsx)("br",{}),"The downside leverage is only applicable until senior downside protection is fully covered, and junior losses are fully realized.",Object(z.jsx)("br",{}),"Below that, is the underlying token price after which there is no more senior downside protection to cover."]})]}),align:"right",render:function(e){var t,n,i,r=new m.a(e.state.seniorLiquidity),o=new m.a(e.state.juniorLiquidity),c=o.gt(0)?r.div(o).plus(1):new m.a(1),s=Object(q.e)(),a=s.getToken,l=s.getAsset,u=a(e.poolToken.symbol),d=l(e.oracleAssetSymbol),b=null!==u&&void 0!==u&&u.price&&null!==d&&void 0!==d&&d.price?null===(t=u.price)||void 0===t||null===(n=t.multipliedBy(new m.a(1).minus(Number(e.state.downsideProtectionRate))))||void 0===n?void 0:n.dividedBy(d.price):void 0;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"purple",tooltip:"You have this amount of downside leverage, until the ".concat(e.poolToken.symbol," price drops under ").concat(Object(x.d)(b,{tokenName:null===d||void 0===d?void 0:d.symbol})," - after which there is no more downside leverage - or you can consider it as being 1x"),className:"mb-4",children:c?"\u2264".concat(Object(x.b)(c),"x"):"-"}),Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",children:null!==(i=Object(x.d)(b))&&void 0!==i?i:"-"}),Object(z.jsx)(L.a,{name:null===d||void 0===d?void 0:d.icon,size:16,className:"ml-4"})]})]})}},{heading:"Pool token current price",align:"right",render:function(e){var t,n,i=Object(q.e)(),r=i.getToken,o=i.getAsset,c=r(e.poolToken.symbol),s=o(e.oracleAssetSymbol),a=null!==c&&void 0!==c&&c.price&&null!==s&&void 0!==s&&s.price?null===(t=c.price)||void 0===t?void 0:t.dividedBy(s.price):void 0;return Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"primary",children:null!==(n=Object(x.d)(a))&&void 0!==n?n:"-"}),Object(z.jsx)(L.a,{name:null===s||void 0===s?void 0:s.icon,size:16,className:"ml-4"})]})}}]:[{heading:"Asset/Epoch",render:function(e){var t=Object(q.e)(),n=t.getToken,i=t.getAsset,r=n(e.poolToken.symbol),o=i(e.oracleAssetSymbol);return Object(z.jsxs)("div",{className:"flex align-center",children:[Object(z.jsx)(L.a,{name:null===r||void 0===r?void 0:r.icon,size:40,bubble2Name:null===o||void 0===o?void 0:o.icon,className:"mr-16"}),Object(z.jsxs)("div",{children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"primary",tag:"h2",className:"mb-4",children:e.poolName}),Object(z.jsxs)(S.b,{type:"small",weight:"semibold",color:"red",tag:"small",children:["Epoch ",e.state.epoch]})]})]})}},{heading:"Epoch senior liquidity",render:function(e){var t,n,i,r=(0,Object(q.e)().getToken)(e.poolToken.symbol),o=null===(t=Object(U.a)(e.poolAddress).nextEpochEstimates[1])||void 0===t?void 0:t.unscaleBy(e.poolToken.decimals);return Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",tooltip:Object(z.jsxs)(S.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(z.jsx)("span",{children:Object(x.d)(o,{tokenName:e.poolToken.symbol,decimals:e.poolToken.decimals})}),Object(z.jsx)("span",{children:Object(x.e)(null===(n=m.a.from(o))||void 0===n?void 0:n.multipliedBy(null!==(i=null===r||void 0===r?void 0:r.price)&&void 0!==i?i:0))})]}),children:Object(x.d)(o,{compact:!0})}),Object(z.jsx)(L.a,{name:null===r||void 0===r?void 0:r.icon,className:"ml-8"})]})}},{heading:Object(z.jsxs)("div",{className:"flex align-center justify-end",children:["Upside",Object(z.jsx)("br",{}),"exposure rate"," ",Object(z.jsx)(T.a,{className:"ml-4",children:"Senior positions will only receive this much of every percentage point gain in the underlying asset"})]}),align:"right",render:function(e){var t,n=null===(t=Object(U.a)(e.poolAddress).nextEpochEstimates[2])||void 0===t?void 0:t.unscaleBy(J.a);return Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"green",children:Object(x.c)(n)})}},{heading:Object(z.jsxs)("div",{className:"flex align-center justify-end",children:["Downside",Object(z.jsx)("br",{}),"protection rate"," ",Object(z.jsx)(T.a,{className:"ml-4",children:"Senior positions will only start taking losses beyond this decline"})]}),align:"right",render:function(e){var t,n=null===(t=Object(U.a)(e.poolAddress).nextEpochEstimates[3])||void 0===t?void 0:t.unscaleBy(J.a);return Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"green",children:Object(x.c)(n)})}},{heading:"Epoch junior liquidity",align:"right",render:function(e){var t,n,i,r=(0,Object(q.e)().getToken)(e.poolToken.symbol),o=null===(t=Object(U.a)(e.poolAddress).nextEpochEstimates[0])||void 0===t?void 0:t.unscaleBy(e.poolToken.decimals);return Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",tooltip:Object(z.jsxs)(S.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(z.jsx)("span",{children:Object(x.d)(o,{tokenName:e.poolToken.symbol,decimals:e.poolToken.decimals})}),Object(z.jsx)("span",{children:Object(x.e)(null===(n=m.a.from(o))||void 0===n?void 0:n.multipliedBy(null!==(i=null===r||void 0===r?void 0:r.price)&&void 0!==i?i:0))})]}),children:Object(x.d)(o,{compact:!0})}),Object(z.jsx)(L.a,{name:null===r||void 0===r?void 0:r.icon,className:"ml-8"})]})}},{heading:Object(z.jsxs)("div",{className:"flex align-center justify-end",children:["Upside",Object(z.jsx)("br",{}),"leverage"," ",Object(z.jsx)(T.a,{className:"ml-4",children:"Junior positions will have their upside amplified by this much"})]}),align:"right",render:function(e){var t=Object(U.a)(e.poolAddress).nextEpochUpsideLeverage;return Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"purple",children:t?"".concat(Object(x.b)(t),"x"):"-"})}},{heading:Object(z.jsxs)("div",{className:"flex align-center justify-end",children:["Downside",Object(z.jsx)("br",{}),"leverage"," ",Object(z.jsxs)(T.a,{className:"ml-4",children:["How much of every 1% move to the downside in underlying token price a junior position will have exposure to.",Object(z.jsx)("br",{}),"The downside leverage is only applicable until senior downside protection is fully covered, and junior losses are fully realized.",Object(z.jsx)("br",{}),"Below that, is the underlying token price after which there is no more senior downside protection to cover."]})]}),align:"right",render:function(e){var t,n,i,r,o=Object(q.e)(),c=o.getToken,s=o.getAsset,a=Object(U.a)(e.poolAddress),l=a.nextEpochEstimates,u=a.nextEpochDownsideLeverage,d=c(e.poolToken.symbol),b=s(e.oracleAssetSymbol),p=null===(t=l[3])||void 0===t?void 0:t.unscaleBy(J.a),h=p&&null!==d&&void 0!==d&&d.price&&null!==b&&void 0!==b&&b.price?null===(n=d.price)||void 0===n||null===(i=n.multipliedBy(new m.a(1).minus(p)))||void 0===i?void 0:i.dividedBy(b.price):void 0;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"purple",tooltip:"You have this amount of downside leverage, until the ".concat(e.poolToken.symbol," price drops under ").concat(Object(x.d)(h,{tokenName:null===b||void 0===b?void 0:b.symbol})," - after which there is no more downside leverage - or you can consider it as being 1x"),className:"mb-4",children:u?"\u2264".concat(Object(x.b)(u),"x"):"-"}),Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"small",weight:"semibold",color:"secondary",children:null!==(r=Object(x.d)(h))&&void 0!==r?r:"-"}),Object(z.jsx)(L.a,{name:null===b||void 0===b?void 0:b.icon,size:16,className:"ml-4"})]})]})}},{heading:"Pool token current price",align:"right",render:function(e){var t,n,i=Object(q.e)(),r=i.getToken,o=i.getAsset,c=r(e.poolToken.symbol),s=o(e.oracleAssetSymbol),a=null!==c&&void 0!==c&&c.price&&null!==s&&void 0!==s&&s.price?null===(t=c.price)||void 0===t?void 0:t.dividedBy(s.price):void 0;return Object(z.jsxs)("div",{className:"flex align-center justify-end",children:[Object(z.jsx)(S.b,{type:"p1",weight:"semibold",color:"primary",children:null!==(n=Object(x.d)(a))&&void 0!==n?n:"-"}),Object(z.jsx)(L.a,{name:null===s||void 0===s?void 0:s.icon,size:16,className:"ml-4"})]})}}]}(n)}),[n]);return Object(z.jsx)(k.a,{columns:o,data:t,variation:"separated",link:function(e){return"".concat(r.pathname,"/").concat(e.poolAddress)},loading:i})}}}]);
//# sourceMappingURL=sa-pools-view.1115e400.chunk.js.map