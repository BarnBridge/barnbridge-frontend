{"version":3,"sources":["hooks/useLeftTime.tsx","components/antd/alert/index.tsx","../node_modules/antd/lib/alert/index.js","components/antd/alert/s.module.scss","../node_modules/antd/lib/_util/getDataOrAriaProps.js","../node_modules/antd/lib/alert/ErrorBoundary.js","components/radio-card/index.tsx","components/radio-card/s.module.scss","modules/smart-yield/views/withdraw-view/initiate-withdraw/s.module.scss","modules/smart-yield/views/withdraw-view/initiate-withdraw/index.tsx"],"names":["useLeftTime","options","optsRef","useRef","current","useState","isStarted","setStarted","isRunning","setRunning","getLeftTime","useCallback","end","Math","max","valueOf","Date","now","useInterval","leftTime","onTick","stopInterval","onEnd","delay","startInterval","useEffect","onStart","useMemo","start","stop","onStop","pause","resume","UseLeftTime","props","windowState","useGeneral","useReload","reload","leftTimeRef","value","isVisible","children","Alert","className","type","alertProps","icon","React","name","cn","s","component","showIcon","_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","_extends2","_defineProperty2","_slicedToArray2","_CloseOutlined","_CheckCircleOutlined","_ExclamationCircleOutlined","_InfoCircleOutlined","_CloseCircleOutlined","_CheckCircleFilled","_ExclamationCircleFilled","_InfoCircleFilled","_CloseCircleFilled","_rcMotion","_classnames","_configProvider","_getDataOrAriaProps","_ErrorBoundary","_reactNode","__rest","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","iconMapFilled","success","info","error","warning","iconMapOutlined","_a","_classNames2","description","customizePrefixCls","prefixCls","message","banner","_a$className","style","onMouseEnter","onMouseLeave","onClick","afterClose","closable","closeText","action","_React$useState","_React$useState2","closed","setClosed","ref","_React$useContext","useContext","ConfigContext","getPrefixCls","direction","handleClose","onClose","isClosable","undefined","getType","isShowIcon","alertCls","concat","dataOrAriaProps","createElement","visible","motionName","motionAppear","motionEnter","onLeaveStart","node","maxHeight","offsetHeight","onLeaveEnd","_ref","motionClassName","motionStyle","role","iconType","replaceElement","renderIconNode","tabIndex","ErrorBoundary","_default","module","keys","reduce","prev","key","substr","_classCallCheck2","_createClass2","_inherits2","_createSuper2","_","_React$Component","_super","_this","this","apply","arguments","state","componentStack","setState","_this$props","_this$state","errorMessage","toString","errorDescription","Component","RadioCard","selected","rest","card","RadioCards","cards","WITHDRAW_TWO_STEP_KEY","WITHDRAW_INSTANT_KEY","InitiateWithdraw","history","useHistory","poolCtx","useSYPool","pool","marketId","tokenId","setType","forfeits","setForfeits","contracts","smartYield","balance","actions","getForfeitsFor","then","totalWithdrawable","multipliedBy","jTokenPrice","totalInstantWithdrawable","minus","weight","color","flow","gap","colsTemplate","width","height","abond","maturesAt","getFormattedDuration","title","formatBigValue","getHumanValue","underlyingDecimals","text","align","href","fontWeight","underlyingSymbol","rotate","alertLink","justify","push","disabled","pathname","search"],"mappings":"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","file":"static/js/48.39e8787f.chunk.js","sourcesContent":["import React, { FC, ReactNode, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport useInterval from '@rooks/use-interval';\n\nimport { useGeneral } from 'components/providers/generalProvider';\nimport { useReload } from 'hooks/useReload';\n\nexport type UseLeftTimeOptions = {\n  end?: number | Date;\n  delay?: number;\n  onStart?: (left: number) => void;\n  onStop?: (left: number) => void;\n  onTick?: (left: number) => void;\n  onEnd?: () => void;\n};\n\nexport type UseLeftTimeReturn = {\n  isStarted: boolean;\n  isRunning: boolean;\n  start: () => void;\n  stop: () => void;\n  pause: () => void;\n  resume: () => void;\n};\n\nexport function useLeftTime(options: UseLeftTimeOptions): UseLeftTimeReturn {\n  const optsRef = useRef(options);\n  optsRef.current = options;\n\n  const [isStarted, setStarted] = useState(false);\n  const [isRunning, setRunning] = useState(false);\n\n  const getLeftTime = useCallback(() => {\n    if (!optsRef.current.end) {\n      return undefined;\n    }\n\n    return Math.max(optsRef.current.end.valueOf() - Date.now(), 0);\n  }, []);\n\n  const [startInterval, stopInterval] = useInterval(\n    () => {\n      const leftTime = getLeftTime();\n      optsRef.current.onTick?.(leftTime ?? 0);\n\n      if (leftTime === 0) {\n        setStarted(false);\n        stopInterval();\n        optsRef.current.onEnd?.();\n      }\n    },\n    options.delay ?? 1_000,\n    false,\n  );\n\n  useEffect(() => {\n    if (!options.end || Date.now() < options.end) {\n      setStarted(true);\n      startInterval();\n      optsRef.current.onStart?.(getLeftTime() ?? 0);\n    }\n\n    return () => {\n      setStarted(false);\n      stopInterval();\n    };\n  }, [options.end]);\n\n  return useMemo(() => {\n    return {\n      isStarted,\n      isRunning,\n      start: () => {\n        setStarted(true);\n        setRunning(true);\n        startInterval();\n        optsRef.current.onStart?.(getLeftTime() ?? 0);\n      },\n      stop: () => {\n        setRunning(false);\n        setStarted(false);\n        stopInterval();\n        optsRef.current.onStop?.(getLeftTime() ?? 0);\n      },\n      pause: () => {\n        setRunning(false);\n        stopInterval();\n      },\n      resume: () => {\n        setRunning(true);\n        startInterval();\n      },\n    };\n  }, [isRunning, stopInterval, startInterval]);\n}\n\nexport type UseLeftTimeProps = UseLeftTimeOptions & {\n  children: (leftTime: number) => ReactNode;\n};\n\nexport const UseLeftTime: FC<UseLeftTimeProps> = props => {\n  const { windowState } = useGeneral();\n  const [reload] = useReload();\n  const leftTimeRef = useRef<number | undefined>();\n\n  const { isStarted, isRunning, pause, resume } = useLeftTime({\n    ...props,\n    onStart: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onStart?.(value);\n    },\n    onStop: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onStop?.(value);\n    },\n    onTick: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onTick?.(value);\n    },\n  });\n\n  useEffect(() => {\n    if (!isStarted) {\n      return;\n    }\n\n    if (!isRunning && windowState.isVisible) {\n      resume();\n    }\n\n    if (isRunning && !windowState.isVisible) {\n      pause();\n    }\n  }, [windowState.isVisible, isStarted, isRunning]);\n\n  return <>{props.children(leftTimeRef.current ?? 0)}</>;\n};\n","import React from 'react';\nimport AntdAlert, { AlertProps as AntdAlertProps } from 'antd/lib/alert';\nimport cn from 'classnames';\n\nimport { Icon } from 'components/icon';\n\nimport s from './s.module.scss';\n\nexport type AlertProps = AntdAlertProps;\n\nconst Alert: React.FC<AlertProps> = props => {\n  const { className, type = 'info', ...alertProps } = props;\n\n  const icon = React.useMemo<React.ReactNode>(() => {\n    switch (type) {\n      case 'info':\n        return <Icon name=\"info\" />;\n      default:\n        return undefined;\n    }\n  }, [type]);\n\n  return <AntdAlert className={cn(s.component, className)} type={type} showIcon icon={icon} {...alertProps} />;\n};\n\nexport default Alert;\n","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _CloseOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseOutlined\"));\n\nvar _CheckCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/CheckCircleOutlined\"));\n\nvar _ExclamationCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/ExclamationCircleOutlined\"));\n\nvar _InfoCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/InfoCircleOutlined\"));\n\nvar _CloseCircleOutlined = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleOutlined\"));\n\nvar _CheckCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CheckCircleFilled\"));\n\nvar _ExclamationCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/ExclamationCircleFilled\"));\n\nvar _InfoCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/InfoCircleFilled\"));\n\nvar _CloseCircleFilled = _interopRequireDefault(require(\"@ant-design/icons/CloseCircleFilled\"));\n\nvar _rcMotion = _interopRequireDefault(require(\"rc-motion\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar _getDataOrAriaProps = _interopRequireDefault(require(\"../_util/getDataOrAriaProps\"));\n\nvar _ErrorBoundary = _interopRequireDefault(require(\"./ErrorBoundary\"));\n\nvar _reactNode = require(\"../_util/reactNode\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar iconMapFilled = {\n  success: _CheckCircleFilled[\"default\"],\n  info: _InfoCircleFilled[\"default\"],\n  error: _CloseCircleFilled[\"default\"],\n  warning: _ExclamationCircleFilled[\"default\"]\n};\nvar iconMapOutlined = {\n  success: _CheckCircleOutlined[\"default\"],\n  info: _InfoCircleOutlined[\"default\"],\n  error: _CloseCircleOutlined[\"default\"],\n  warning: _ExclamationCircleOutlined[\"default\"]\n};\n\nvar Alert = function Alert(_a) {\n  var _classNames2;\n\n  var description = _a.description,\n      customizePrefixCls = _a.prefixCls,\n      message = _a.message,\n      banner = _a.banner,\n      _a$className = _a.className,\n      className = _a$className === void 0 ? '' : _a$className,\n      style = _a.style,\n      onMouseEnter = _a.onMouseEnter,\n      onMouseLeave = _a.onMouseLeave,\n      onClick = _a.onClick,\n      afterClose = _a.afterClose,\n      showIcon = _a.showIcon,\n      closable = _a.closable,\n      closeText = _a.closeText,\n      action = _a.action,\n      props = __rest(_a, [\"description\", \"prefixCls\", \"message\", \"banner\", \"className\", \"style\", \"onMouseEnter\", \"onMouseLeave\", \"onClick\", \"afterClose\", \"showIcon\", \"closable\", \"closeText\", \"action\"]);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = (0, _slicedToArray2[\"default\"])(_React$useState, 2),\n      closed = _React$useState2[0],\n      setClosed = _React$useState2[1];\n\n  var ref = React.useRef();\n\n  var _React$useContext = React.useContext(_configProvider.ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var prefixCls = getPrefixCls('alert', customizePrefixCls);\n\n  var handleClose = function handleClose(e) {\n    var _a;\n\n    setClosed(true);\n    (_a = props.onClose) === null || _a === void 0 ? void 0 : _a.call(props, e);\n  };\n\n  var getType = function getType() {\n    var type = props.type;\n\n    if (type !== undefined) {\n      return type;\n    } // banner 模式默认为警告\n\n\n    return banner ? 'warning' : 'info';\n  }; // closeable when closeText is assigned\n\n\n  var isClosable = closeText ? true : closable;\n  var type = getType();\n\n  var renderIconNode = function renderIconNode() {\n    var icon = props.icon; // use outline icon in alert with description\n\n    var iconType = (description ? iconMapOutlined : iconMapFilled)[type] || null;\n\n    if (icon) {\n      return (0, _reactNode.replaceElement)(icon, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-icon\")\n      }, icon), function () {\n        return {\n          className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-icon\"), (0, _defineProperty2[\"default\"])({}, icon.props.className, icon.props.className))\n        };\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(iconType, {\n      className: \"\".concat(prefixCls, \"-icon\")\n    });\n  };\n\n  var renderCloseIcon = function renderCloseIcon() {\n    return isClosable ? /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: handleClose,\n      className: \"\".concat(prefixCls, \"-close-icon\"),\n      tabIndex: 0\n    }, closeText ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-close-text\")\n    }, closeText) : /*#__PURE__*/React.createElement(_CloseOutlined[\"default\"], null)) : null;\n  }; // banner 模式默认有 Icon\n\n\n  var isShowIcon = banner && showIcon === undefined ? true : showIcon;\n  var alertCls = (0, _classnames[\"default\"])(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames2 = {}, (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-with-description\"), !!description), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-no-icon\"), !isShowIcon), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-banner\"), !!banner), (0, _defineProperty2[\"default\"])(_classNames2, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames2), className);\n  var dataOrAriaProps = (0, _getDataOrAriaProps[\"default\"])(props);\n  return /*#__PURE__*/React.createElement(_rcMotion[\"default\"], {\n    visible: !closed,\n    motionName: \"\".concat(prefixCls, \"-motion\"),\n    motionAppear: false,\n    motionEnter: false,\n    onLeaveStart: function onLeaveStart(node) {\n      return {\n        maxHeight: node.offsetHeight\n      };\n    },\n    onLeaveEnd: afterClose\n  }, function (_ref) {\n    var motionClassName = _ref.className,\n        motionStyle = _ref.style;\n    return /*#__PURE__*/React.createElement(\"div\", (0, _extends2[\"default\"])({\n      ref: ref,\n      \"data-show\": !closed,\n      className: (0, _classnames[\"default\"])(alertCls, motionClassName),\n      style: (0, _extends2[\"default\"])((0, _extends2[\"default\"])({}, style), motionStyle),\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onClick: onClick,\n      role: \"alert\"\n    }, dataOrAriaProps), isShowIcon ? renderIconNode() : null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-content\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, message), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-description\")\n    }, description)), action ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-action\")\n    }, action) : null, renderCloseIcon());\n  });\n};\n\nAlert.ErrorBoundary = _ErrorBoundary[\"default\"];\nvar _default = Alert;\nexports[\"default\"] = _default;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"s_component__bp6jU\"};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getDataOrAriaProps;\n\nfunction getDataOrAriaProps(props) {\n  return Object.keys(props).reduce(function (prev, key) {\n    if ((key.substr(0, 5) === 'data-' || key.substr(0, 5) === 'aria-' || key === 'role') && key.substr(0, 7) !== 'data-__') {\n      prev[key] = props[key];\n    }\n\n    return prev;\n  }, {});\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _createSuper2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createSuper\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _ = _interopRequireDefault(require(\".\"));\n\nvar ErrorBoundary = /*#__PURE__*/function (_React$Component) {\n  (0, _inherits2[\"default\"])(ErrorBoundary, _React$Component);\n\n  var _super = (0, _createSuper2[\"default\"])(ErrorBoundary);\n\n  function ErrorBoundary() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, ErrorBoundary);\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      error: undefined,\n      info: {\n        componentStack: ''\n      }\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(ErrorBoundary, [{\n    key: \"componentDidCatch\",\n    value: function componentDidCatch(error, info) {\n      this.setState({\n        error: error,\n        info: info\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          message = _this$props.message,\n          description = _this$props.description,\n          children = _this$props.children;\n      var _this$state = this.state,\n          error = _this$state.error,\n          info = _this$state.info;\n      var componentStack = info && info.componentStack ? info.componentStack : null;\n      var errorMessage = typeof message === 'undefined' ? (error || '').toString() : message;\n      var errorDescription = typeof description === 'undefined' ? componentStack : description;\n\n      if (error) {\n        return /*#__PURE__*/React.createElement(_[\"default\"], {\n          type: \"error\",\n          message: errorMessage,\n          description: /*#__PURE__*/React.createElement(\"pre\", null, errorDescription)\n        });\n      }\n\n      return children;\n    }\n  }]);\n  return ErrorBoundary;\n}(React.Component);\n\nexports[\"default\"] = ErrorBoundary;","import React from 'react';\nimport cn from 'classnames';\n\nimport s from './s.module.scss';\n\ntype Props = {\n  children?: any;\n  selected?: boolean;\n  onClick: (e: any) => void;\n};\n\nexport const RadioCard: React.FC<Props> = props => {\n  const { children, selected = false, ...rest } = props;\n\n  return (\n    <button type=\"button\" className={cn(s.card, { [s.selected]: selected })} {...rest}>\n      {children}\n    </button>\n  );\n};\n\nexport const RadioCards: React.FC<{ className?: string }> = ({ className, ...rest }) => (\n  <div className={cn(s.cards, className)} {...rest} />\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"s_cards__SMmvy\",\"card\":\"s_card__3ZxAU\",\"selected\":\"s_selected__5uLwB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alertLink\":\"s_alertLink__ZHw1S\"};","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport BigNumber from 'bignumber.js';\nimport { formatBigValue, getHumanValue } from 'web3/utils';\n\nimport Alert from 'components/antd/alert';\nimport Button from 'components/antd/button';\nimport Tooltip from 'components/antd/tooltip';\nimport { ExternalLink } from 'components/button';\nimport Grid from 'components/custom/grid';\nimport Icon from 'components/custom/icon';\nimport { Hint, Text } from 'components/custom/typography';\nimport { RadioCard } from 'components/radio-card';\nimport { UseLeftTime } from 'hooks/useLeftTime';\nimport { useSYPool } from 'modules/smart-yield/providers/pool-provider';\n\nimport { getFormattedDuration } from 'utils';\n\nimport s from './s.module.scss';\n\nexport const WITHDRAW_TWO_STEP_KEY = 'two-step';\nexport const WITHDRAW_INSTANT_KEY = 'instant';\n\nconst InitiateWithdraw: React.FC = () => {\n  const history = useHistory();\n  const poolCtx = useSYPool();\n\n  const { pool, marketId, tokenId } = poolCtx;\n\n  const [type, setType] = useState<string | undefined>();\n  const [forfeits, setForfeits] = useState<BigNumber | undefined>();\n\n  function handleTwoStepType() {\n    setType(WITHDRAW_TWO_STEP_KEY);\n  }\n\n  function handleInstantType() {\n    setType(WITHDRAW_INSTANT_KEY);\n  }\n\n  function handleCancel() {\n    history.push(`/smart-yield/portfolio/junior`);\n  }\n\n  function handleNextStep() {\n    if (type) {\n      history.push({\n        pathname: `/smart-yield/withdraw/${type}`,\n        search: `?m=${marketId}&t=${tokenId}`,\n      });\n    }\n  }\n\n  React.useEffect(() => {\n    if (!pool || !pool.contracts.smartYield.balance) {\n      return;\n    }\n\n    poolCtx.actions.getForfeitsFor(pool.contracts.smartYield.balance).then(setForfeits);\n  }, [pool?.contracts.smartYield.balance]);\n\n  const totalWithdrawable = React.useMemo(() => {\n    return pool?.contracts.smartYield.balance?.multipliedBy(pool?.state.jTokenPrice);\n  }, [pool?.contracts.smartYield.balance, pool?.state.jTokenPrice]);\n\n  const totalInstantWithdrawable = React.useMemo(() => {\n    if (!forfeits) {\n      return undefined;\n    }\n\n    return totalWithdrawable?.minus(forfeits);\n  }, [totalWithdrawable, forfeits]);\n\n  return (\n    <div className=\"card p-24\">\n      <Text type=\"h3\" weight=\"semibold\" color=\"primary\" className=\"mb-16\">\n        Initiate Withdraw\n      </Text>\n      <Text type=\"p2\" weight=\"semibold\" className=\"mb-32\">\n        In order to access your liquidity and profits you can withdraw it from the pool.\n        <br />\n        To do so, you have 2 options:\n      </Text>\n\n      <Grid flow=\"col\" gap={32} colsTemplate=\"1fr 1fr\" className=\"mb-32\">\n        <RadioCard selected={type === WITHDRAW_TWO_STEP_KEY} onClick={handleTwoStepType}>\n          <Icon name=\"withdrawal_regular\" width={64} height={64} className=\"mb-16\" />\n          <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-16\">\n            2 step withdraw\n          </Text>\n          <Text type=\"small\" weight=\"semibold\" className=\"mb-4\">\n            Wait time\n          </Text>\n          <UseLeftTime end={(pool?.contracts.smartYield.abond?.maturesAt ?? 0) * 1_000} delay={1_000}>\n            {leftTime => (\n              <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-16\">\n                {leftTime > 0\n                  ? getFormattedDuration(0, (pool?.contracts.smartYield.abond?.maturesAt ?? 0) * 1_000)\n                  : '0s'}\n              </Text>\n            )}\n          </UseLeftTime>\n          <Tooltip\n            title={formatBigValue(\n              getHumanValue(totalWithdrawable, pool?.underlyingDecimals),\n              pool?.underlyingDecimals,\n            )}>\n            <Hint\n              text={\n                <Grid flow=\"row\" gap={8} align=\"start\">\n                  <Text type=\"p2\">\n                    This value is based on current junior token prices. At the actual maturity date of the junior bond,\n                    the price may differ and be higher or lower.\n                  </Text>\n                  <ExternalLink\n                    href=\"https://integrations.barnbridge.com/specs/smart-yield-specifications#steps-for-exit\"\n                    className=\"link-blue\"\n                    style={{ fontWeight: 600 }}>\n                    Learn more\n                  </ExternalLink>\n                </Grid>\n              }>\n              <Text type=\"small\" weight=\"semibold\" className=\"mb-4\">\n                Total withdrawable amount\n              </Text>\n            </Hint>\n            <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n              {formatBigValue(getHumanValue(totalWithdrawable, pool?.underlyingDecimals))} {pool?.underlyingSymbol}\n            </Text>\n          </Tooltip>\n        </RadioCard>\n        <RadioCard selected={type === WITHDRAW_INSTANT_KEY} onClick={handleInstantType}>\n          <Icon name=\"withdrawal_instant\" width={64} height={64} className=\"mb-16\" />\n          <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-16\">\n            Instant withdraw\n          </Text>\n          <Text type=\"small\" weight=\"semibold\" className=\"mb-4\">\n            Wait time\n          </Text>\n          <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-16\">\n            None\n          </Text>\n          <Tooltip\n            title={formatBigValue(\n              getHumanValue(totalInstantWithdrawable, pool?.underlyingDecimals),\n              pool?.underlyingDecimals,\n            )}>\n            <Text type=\"small\" weight=\"semibold\" className=\"mb-4\">\n              Total withdrawable amount\n            </Text>\n            <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n              {formatBigValue(getHumanValue(totalInstantWithdrawable, pool?.underlyingDecimals))}{' '}\n              {pool?.underlyingSymbol}\n            </Text>\n          </Tooltip>\n          <Text type=\"small\" weight=\"semibold\" color=\"red\">\n            Forfeits: {formatBigValue(getHumanValue(forfeits, pool?.underlyingDecimals), pool?.underlyingDecimals)}{' '}\n            {pool?.underlyingSymbol} <Icon name=\"arrow-top-right\" width={9} height={8} rotate={90} color=\"red\" />\n          </Text>\n        </RadioCard>\n      </Grid>\n\n      {type === WITHDRAW_TWO_STEP_KEY && (\n        <Alert\n          className=\"mb-32\"\n          type=\"warning\"\n          message=\"Warning!\"\n          description={\n            <>\n              <div className=\"mb-8\">\n                The 2-step process allows a user to first signal the intention of exiting the pool. In return they\n                receive an NFT that can be redeemed after the current seniors reach their maturity dates.\n              </div>\n              <ExternalLink\n                href=\"https://integrations.barnbridge.com/specs/smart-yield-specifications#steps-for-exit\"\n                className={s.alertLink}>\n                Learn more\n              </ExternalLink>\n            </>\n          }\n        />\n      )}\n\n      {type === WITHDRAW_INSTANT_KEY && (\n        <Alert\n          className=\"mb-32\"\n          type=\"warning\"\n          message=\"Warning!\"\n          description={\n            <>\n              <div className=\"mb-8\">\n                The instant withdrawal allows juniors to instantly withdraw their underlying tokens.\n                <br />\n                <br />\n                However, in order to ensure the guaranteed gains for the current senior bonds, a locked part of each\n                junior position is burnt in favor of the existing junior token holders, increasing the price.\n                <br />\n                <br />\n                Using this function, you forfeit your locked underlying.\n              </div>\n              <ExternalLink\n                href=\"https://integrations.barnbridge.com/specs/smart-yield-specifications#steps-for-exit\"\n                className={s.alertLink}>\n                Learn more\n              </ExternalLink>\n            </>\n          }\n        />\n      )}\n\n      <Grid flow=\"col\" gap={64} align=\"center\" justify=\"space-between\">\n        <button type=\"button\" className=\"button-back\" onClick={handleCancel}>\n          <Icon name=\"arrow-back\" width={16} height={16} className=\"mr-8\" color=\"inherit\" />\n          Cancel\n        </button>\n        <Button type=\"primary\" disabled={!type} onClick={handleNextStep}>\n          Next step\n        </Button>\n      </Grid>\n    </div>\n  );\n};\n\nexport default InitiateWithdraw;\n"],"sourceRoot":""}