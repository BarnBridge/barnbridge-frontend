{"version":3,"sources":["components/antd/form/index.tsx","components/antd/form/s.module.scss","hooks/useContract.tsx","hooks/useLeftTime.tsx","components/custom/pagination/index.tsx","components/custom/table/index.tsx","components/custom/table-filter/index.tsx","modules/smart-alpha/contracts/smartAlphaContract.ts","../node_modules/lodash/get.js","components/custom/pagination/s.module.scss","components/custom/table/s.module.scss","../node_modules/lodash/_toKey.js","../node_modules/lodash/_baseIteratee.js","components/custom/tooltip/index.tsx","../node_modules/lodash/uniqBy.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/identity.js","modules/smart-alpha/utils.ts","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_castPath.js","modules/smart-alpha/contracts/loupeContract.ts","../node_modules/lodash/_baseFindIndex.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/memoize.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/_baseUniq.js","../node_modules/lodash/_arrayIncludes.js","../node_modules/lodash/_baseIndexOf.js","../node_modules/lodash/_baseIsNaN.js","../node_modules/lodash/_strictIndexOf.js","../node_modules/lodash/_arrayIncludesWith.js","../node_modules/lodash/_createSet.js","modules/smart-alpha/hooks/next-epoch-estimate.ts","modules/smart-alpha/views/pools-view/s.module.scss","modules/smart-alpha/views/pools-view/index.tsx"],"names":["Form","props","className","children","formProps","cn","s","form","layout","requiredMark","Item","label","hint","extra","itemProps","item","flow","gap","align","title","name","size","List","listProps","module","exports","useDeepCompareMemoize","value","ref","useRef","isEqual","current","useContract","address","loadBalance","loadCommon","loadAllowance","useWallet","provider","account","useReload","reload","useContractManager","getContract","contract","useMemo","Erc20Contract","on","Web3Contract","UPDATE_DATA","useEffect","setAccount","then","catch","Error","memoisedAllowance","Array","isArray","forEach","i","useContractFactory","options","listeners","walletProvider","activeProvider","useWeb3","version","activeProviderRef","walletProviderRef","accountRef","contractsRef","Map","createContract","useCallback","factory","setCallProvider","setProvider","set","instance","afterInit","updateContracts","useDebounce","meta","onDestroy","getOrCreateContract","has","get","Listeners","from","map","key","useWeb3Contract","useLeftTime","optsRef","useState","isStarted","setStarted","isRunning","setRunning","getLeftTime","end","Math","max","valueOf","Date","now","useInterval","leftTime","onTick","stopInterval","onEnd","delay","startInterval","onStart","start","stop","onStop","pause","resume","UseLeftTime","windowState","useGeneral","leftTimeRef","isVisible","Pagination","total","pageSize","onChange","pages","ceil","paginationList","last","l","delta","left","right","range","rangeWithDots","push","pagination","page","prev","type","onClick","disabled","rotate","idx","active","separator","next","Table","columns","data","loading","rowKey","variation","link","history","useHistory","classNames","tableContainer","table","clickable","dataIdx","heading","undefined","itemIdx","Render","render","color","arrowIcon","spinner","style","width","height","position","marginTop","marginLeft","TableFooter","text","generatedText","to","generateText","tableFooter","weight","TableFilter","filters","AntdForm","useForm","visible","setVisible","initialValues","reduce","a","c","defaultValue","countApplied","count","filter","setFieldsValue","Content","validateTrigger","onFinish","values","itemRender","resetFields","overlayStyle","content","onVisibleChange","placement","ABI","createAbiItem","SMART_ALPHA_DECIMALS","PriceOracleContract","this","call","BigNumber","SmartAlphaContract","epoch","currentEpoch","epoch1Start","epochDuration","epochSeniorLiquidity","epochJuniorLiquidity","epochDownsideProtectionRate","epochUpsideExposureRate","epochEntryPrice","epochSeniorTokenPrice","epochJuniorTokenPrice","queuedJuniorsUnderlyingIn","queuedJuniorsUnderlyingOut","queuedJuniorTokensBurn","queuedSeniorsUnderlyingIn","queuedSeniorsUnderlyingOut","queuedSeniorTokensBurn","estimateCurrentSeniorTokenPrice","estimateCurrentJuniorTokenPrice","feesAccrued","priceOracleContract","priceOracle","nextEpochStart","getUnixTime","epochsGap","plus","epochTotalLiquidityRate","div","toNumber","eq","scaleBy","multipliedBy","minus","unscaleBy","batch","method","priceOracleAddress","Number","callProvider","getPrice","emit","oracleSymbol","isEthAsset","result","amount","gasPrice","send","baseGet","require","object","path","isSymbol","baseMatches","baseMatchesProperty","identity","property","InfoTooltip","flexShrink","baseIteratee","baseUniq","array","iteratee","length","reIsDeepProp","reIsPlainProp","test","Object","tillNextEpoch","pool","floor","getCurrentEpoch","getKpiOptionTokenIconNames","symbol","castPath","toKey","index","isObject","srcValue","isKey","stringToPath","toString","AbiTuple","LoupeContract","price","smartAlphaAddress","userAddress","predicate","fromIndex","fromRight","baseIsMatch","getMatchData","matchesStrictComparable","source","matchData","Stack","baseIsEqual","customizer","noCustomizer","objValue","stack","COMPARE_PARTIAL_FLAG","isStrictComparable","keys","hasIn","memoizeCapped","rePropName","reEscapeChar","string","charCodeAt","replace","match","number","quote","subString","memoize","func","cache","clear","MapCache","resolver","TypeError","memoized","args","arguments","apply","Cache","baseHasIn","hasPath","isArguments","isIndex","isLength","hasFunc","baseProperty","basePropertyDeep","SetCache","arrayIncludes","arrayIncludesWith","cacheHas","createSet","setToArray","comparator","includes","isCommon","seen","outer","computed","seenIndex","baseIndexOf","baseFindIndex","baseIsNaN","strictIndexOf","Set","noop","useNextEpochEstimate","saAddress","config","useConfig","loupeContract","loupeAddress","contracts","sa","loupe","nextEpochEstimates","setNextEpochEstimates","getEstimateNextEpoch","nextEpochSeniorLiquidityRate","totalLiquidity","nextEpochJuniorLiquidityRate","nextEpochUpsideLeverage","nextEpochDownsideLeverage","EpochTypeKey","epochTabs","id","estimates","Cards","PoolsView","useFetchSaPools","setLayout","epochType","setEpochType","innerWidth","useWindowSize","forceCardsView","epochTVL","sum","tvl","epochJuniorTVL","epochSeniorTVL","ZERO","entryQueueTVLInUsd","juniorEntryQueueTVL","seniorEntryQueueTVL","exitQueueTVLInUsd","juniorExitQueueTVL","seniorExitQueueTVL","exitedTVLInUsd","juniorExitedTVL","seniorExitedTVL","tokenFilter","setTokenFilter","tokenOpts","uniqBy","poolToken","filterValue","token","items","dataItem","toUpperCase","minWidth","formatUSD","tabs","activeKey","icon","iconPosition","prevLayout","cards","poolAddress","PoolCardCurrent","seniorLiquidity","state","juniorLiquidity","upsideRate","upsideExposureRate","downsideRate","downsideProtectionRate","upsideLeverage","gt","downsideLeverage","isEstimate","PoolCardEstimate","smartAlphaContract","onUpdateData","decimals","PoolCardInner","location","useLocation","useTokens","getToken","getAsset","oracleToken","oracleAssetSymbol","tokenInOracleValueLeverage","dividedBy","tokenInOracleValue","poolCard","bubble2Name","tag","poolName","textAlign","getFormattedDuration","poolCardDlRow","tooltip","formatToken","tokenName","compact","formatPercent","formatNumber","poolCardFooter","pathname","TableLayout","tne","format","exposure","getColumns"],"mappings":"+UAwDMA,EAA4B,SAAAC,GAChC,IAAQC,EAAsCD,EAAtCC,UAAWC,EAA2BF,EAA3BE,SAAaC,EAAhC,YAA8CH,EAA9C,GAEA,OACE,cAAC,IAAD,yBAAUC,UAAWG,IAAGC,IAAEC,KAAML,GAAYM,OAAO,WAAWC,cAAc,GAAWL,GAAvF,aACGD,MAUNH,EAAgCU,KA5CS,SAAAT,GACxC,IAAQC,EAA0DD,EAA1DC,UAAWS,EAA+CV,EAA/CU,MAAOC,EAAwCX,EAAxCW,KAAMC,EAAkCZ,EAAlCY,MAAOV,EAA2BF,EAA3BE,SAAaW,EAApD,YAAkEb,EAAlE,GAEA,OACE,cAAC,IAASS,KAAV,yBACER,UAAWG,IAAGC,IAAES,KAAMb,IAClBY,GAFN,IAGEH,MACE,qCACE,eAAC,IAAD,CAAMK,KAAK,MAAMC,IAAK,EAAGC,MAAM,SAA/B,UACGP,EACAC,GACC,cAAC,IAAD,CAASO,MAAOP,EAAhB,SACE,+BACE,cAAC,IAAD,CAAMQ,KAAK,OAAOC,KAAM,YAK/BR,KAfP,SAkBGV,MAuBNH,EAAgCsB,KAvDS,SAAArB,GACxC,IAAQE,EAA2BF,EAA3BE,SAAaoB,EAArB,YAAmCtB,EAAnC,GAEA,OAAO,cAAC,IAASqB,KAAV,2BAAmBC,GAAnB,aAA+BpB,MAsDzBH,O,qBCzEfwB,EAAOC,QAAU,CAAC,KAAO,gBAAgB,KAAO,kB,sPCYhD,SAASC,EAAsBC,GAC7B,IAAMC,EAAMC,mBAMZ,OAJKC,IAAQH,EAAOC,EAAIG,WACtBH,EAAIG,QAAUJ,GAGTC,EAAIG,QAGN,IAAMC,EAAc,SACzBC,GAM0B,IAAD,yDADsD,GAH7EC,EAIuB,EAJvBA,YACAC,EAGuB,EAHvBA,WACAC,EAEuB,EAFvBA,cAGF,EAA8BC,cAAtBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,QAClB,EAAiBC,cAAjB,mBAAOC,EAAP,KACA,EAAwBC,cAAhBC,EAAR,EAAQA,YAEFC,EAAWC,mBAAQ,WACvB,IAAKZ,EACH,OAAO,KAGT,IAAMW,EAA0BD,EAA2BV,GAAS,WAClE,OAAO,IAAIa,IAAc,GAAIb,MAI/B,OAFAW,EAASG,GAAGC,IAAaC,YAAaR,GAE/BG,IACN,CAACX,EAASK,EAAUG,IAEvBS,qBAAU,WACJN,GAAYV,IACdU,EAASO,WAAWZ,GACpBK,EAASV,iBAEV,CAACU,EAAUV,EAAaK,IAE3BW,qBAAU,WACJN,GAAYT,GACdS,EACGT,aACAiB,MAAK,kBAAMX,OACXY,MAAMC,SAEV,CAACV,EAAUT,EAAYM,IAE1B,IAAMc,EAAoB7B,EAAsBU,GAYhD,OAVAc,qBAAU,WACJN,GAAYW,IACVC,MAAMC,QAAQF,GAChBA,EAAkBG,SAAQ,SAAAC,GAAC,OAAIf,EAASR,cAAcuB,MAEtDf,EAASR,cAAcmB,MAG1B,CAACX,EAAUW,IAEPX,GAyBF,SAASgB,EAAmBC,GACjC,cAA6BA,QAA7B,IAA6BA,IAAW,IAAhCC,iBAAR,SACA,EAA8CzB,cAAtCE,EAAR,EAAQA,QAAmBwB,EAA3B,EAAiBzB,SACT0B,EAAmBC,cAAnBD,eACR,EAA0BxB,cAA1B,mBAAOC,EAAP,KAAeyB,EAAf,KAEMC,EAAoBtC,iBAAOmC,GAC3BI,EAAoBvC,iBAAOkC,GAC3BM,EAAaxC,iBAAOU,GAEpB+B,EAAezC,iBAAwC,IAAI0C,KAE3DC,EAAiBC,uBACrB,SAACxC,EAAiByC,EAA6Bb,GAA8D,IAAD,EACpGjB,EAAW8B,IAejB,OAdA9B,EAAS+B,gBAAgBR,EAAkBpC,SAC3Ca,EAASgC,YAAYR,EAAkBrC,SACvCa,EAASO,WAAWkB,EAAWtC,SAE/BuC,EAAavC,QAAQ8C,IAAI5C,EAAS,CAChCA,UACAyC,UACAb,UACAiB,SAAUlC,IAGL,OAAPiB,QAAO,IAAPA,GAAA,UAAAA,EAASkB,iBAAT,cAAAlB,EAAqBjB,GACrBH,IAEOG,IAET,CAACoB,EAAgBzB,EAASE,IAGtBuC,EAAkBC,aAAY,WAClCX,EAAavC,QAAQ2B,SAAQ,SAAAwB,GAAS,IAAD,IACnC,UAAAA,EAAKrB,eAAL,mBAAcsB,iBAAd,gBAA0BD,EAAKJ,UAC/BN,EAAeU,EAAKjD,SAAS,kBAAMiD,EAAKJ,WAAUI,EAAKrB,cAExD,KAECM,EAAkBpC,UAAYiC,IAChCG,EAAkBpC,QAAUiC,EAC5BgB,KAGEZ,EAAkBrC,UAAYgC,IAChCK,EAAkBrC,QAAUgC,EAC5BiB,KAGEX,EAAWtC,UAAYQ,IACzB8B,EAAWtC,QAAUQ,EACrByC,KAGF,IAAMI,EAAsBX,uBAC1B,SAACxC,EAAiByC,EAA6Bb,GAS7C,OANIS,EAAavC,QAAQsD,IAAIpD,GAChBqC,EAAavC,QAAQuD,IAAIrD,GAAU6C,SAEnCN,EAAevC,EAASyC,EAASb,KAKhD,CAACW,IA0BH,MAAO,CACLY,oBAAqBA,EACrBzC,YAzBkB8B,uBAClB,SAACxC,GACC,GAAKqC,EAAavC,QAAQsD,IAAIpD,GAI9B,OAAOqC,EAAavC,QAAQuD,IAAIrD,GAAU6C,WAE5C,CAACN,IAkBDe,UAfgB1C,mBAChB,kBACEiB,EACE,mCACGN,MAAMgC,KAAKlB,EAAavC,SAAS0D,KAAI,mCAAEC,EAAF,KAAO/D,EAAP,YACpC,cAAC,IAAD,CAA4BiB,SAAUjB,EAAMmD,UAArBY,QAGzB,OACN,CAACxB,EAASJ,KAUP,SAAS6B,EAAwCjB,EAAkBb,GACxE,OAAOD,EAAmB,CAAEE,WAAW,IAASsB,oBAAuB,WAAYV,EAASb,K,sqBCnLvF,SAAS+B,EAAY/B,GAAiD,IAAD,EACpEgC,EAAUhE,iBAAOgC,GACvBgC,EAAQ9D,QAAU8B,EAElB,MAAgCiC,oBAAS,GAAzC,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAgCF,oBAAS,GAAzC,mBAAOG,EAAP,KAAkBC,EAAlB,KAEMC,EAAc1B,uBAAY,WAC9B,GAAKoB,EAAQ9D,QAAQqE,IAIrB,OAAOC,KAAKC,IAAIT,EAAQ9D,QAAQqE,IAAIG,UAAYC,KAAKC,MAAO,KAC3D,IAEH,EAAsCC,GACpC,WAAO,IAAD,IAIgB,IAHdC,EAAWR,KACjB,aAAAN,EAAQ9D,SAAQ6E,cAAhB,uBAAyBD,QAAzB,IAAyBA,IAAY,GAEpB,IAAbA,KACFX,GAAW,GACXa,IACA,aAAAhB,EAAQ9D,SAAQ+E,aAAhB,oBAR2C,UAW/CjD,EAAQkD,aAXuC,QAW9B,KACjB,GAZF,mBAAOC,EAAP,KAAsBH,EAAtB,KA4BA,OAbA3D,qBAAU,WACuC,IAAD,QAAzCW,EAAQuC,KAAOI,KAAKC,MAAQ5C,EAAQuC,OACvCJ,GAAW,GACXgB,IACA,aAAAnB,EAAQ9D,SAAQkF,eAAhB,0BAA0Bd,WAA1B,QAA2C,IAG7C,OAAO,WACLH,GAAW,GACXa,OAED,CAAChD,EAAQuC,MAELvD,mBAAQ,WACb,MAAO,CACLkD,YACAE,YACAiB,MAAO,WAAO,IAAD,MACXlB,GAAW,GACXE,GAAW,GACXc,IACA,aAAAnB,EAAQ9D,SAAQkF,eAAhB,0BAA0Bd,WAA1B,QAA2C,IAE7CgB,KAAM,WAAO,IAAD,MACVjB,GAAW,GACXF,GAAW,GACXa,IACA,aAAAhB,EAAQ9D,SAAQqF,cAAhB,0BAAyBjB,WAAzB,QAA0C,IAE5CkB,MAAO,WACLnB,GAAW,GACXW,KAEFS,OAAQ,WACNpB,GAAW,GACXc,QAGH,CAACf,EAAWY,EAAcG,IAOxB,IAAMO,EAAoC,SAAAtH,GAAU,IAAD,EAChDuH,EAAgBC,cAAhBD,YACR,EAAiBhF,cAAVC,EAAP,oBACMiF,EAAc7F,mBAEpB,EAAgD+D,EAAY,2BACvD3F,GADsD,IAEzDgH,QAAS,SAAAtF,GAAU,IAAD,EAChB+F,EAAY3F,QAAUJ,EACtBc,IACA,UAAAxC,EAAMgH,eAAN,cAAAhH,EAAgB0B,IAElByF,OAAQ,SAAAzF,GAAU,IAAD,EACf+F,EAAY3F,QAAUJ,EACtBc,IACA,UAAAxC,EAAMmH,cAAN,cAAAnH,EAAe0B,IAEjBiF,OAAQ,SAAAjF,GAAU,IAAD,EACf+F,EAAY3F,QAAUJ,EACtBc,IACA,UAAAxC,EAAM2G,cAAN,cAAA3G,EAAe0B,OAfXoE,EAAR,EAAQA,UAAWE,EAAnB,EAAmBA,UAAWoB,EAA9B,EAA8BA,MAAOC,EAArC,EAAqCA,OAiCrC,OAdApE,qBAAU,WACH6C,KAIAE,GAAauB,EAAYG,WAC5BL,IAGErB,IAAcuB,EAAYG,WAC5BN,OAED,CAACG,EAAYG,UAAW5B,EAAWE,IAE/B,mCAAGhG,EAAME,SAAN,UAAeuH,EAAY3F,eAA3B,QAAsC,O,0LCnF3C,IAAM6F,EAA8B,SAAC,GAAuD,IAArD1H,EAAoD,EAApDA,UAAW2H,EAAyC,EAAzCA,MAAO9F,EAAkC,EAAlCA,QAAS+F,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC3EC,EAAQ3B,KAAK4B,KAAKJ,EAAQC,GAC1BI,EAAiBrF,mBAAQ,kBA5CjC,SAAoBd,EAAiBoG,GAAkC,IAKjEC,EAL6CC,EAAmB,uDAAH,EAC3DC,EAAOvG,EAAUsG,EACjBE,EAAQxG,EAAUsG,EAAQ,EAC1BG,EAAkB,GAClBC,EAAmC,GAGzC,GAAIN,EAAO,EACT,MAAO,CAAC,GAGVK,EAAME,KAAK,GACX,IAAK,IAAI/E,EAAI5B,EAAUsG,EAAO1E,GAAK5B,EAAUsG,EAAO1E,IAC9CA,GAAK2E,GAAQ3E,EAAI4E,GAAS5E,EAAIwE,GAAQxE,EAAI,GAC5C6E,EAAME,KAAK/E,GAiBf,OAdA6E,EAAME,KAAKP,GAEXK,EAAM9E,SAAQ,SAAAC,GACRyE,IACEzE,EAAIyE,IAAM,EACZK,EAAcC,KAAKN,EAAI,GACdzE,EAAIyE,IAAM,GACnBK,EAAcC,KAAK,OAGvBD,EAAcC,KAAK/E,GACnByE,EAAIzE,KAGC8E,EAa8BE,CAAW5G,EAASiG,KAAQ,CAACjG,EAASiG,IAE3E,OAAIA,EAAQ,EACH,KAIP,sBAAK9H,UAAWG,IAAGC,IAAEqI,WAAYzI,GAAjC,UACE,wBACEA,UAAWG,IAAGC,IAAEsI,KAAMtI,IAAEuI,MACxBC,KAAK,SACLC,QAAS,kBAAMhB,EAAShG,EAAU,IAClCiH,SAAUjH,GAAW,EAJvB,SAKE,cAAC,IAAD,CAAMX,KAAK,UAAU6H,OAAQ,IAAK5H,KAAM,OAEzC6G,EAAezC,KAAI,SAACmD,EAAMM,GAAP,OAClBN,EACE,wBAEEG,QAAS,kBAAMhB,EAASa,IACxB1I,UAAWG,IAAGC,IAAEsI,KAAH,eACVtI,IAAE6I,OAASP,IAAS7G,IAEvB+G,KAAK,SACLE,SAAUJ,IAAS7G,EAPrB,SAQG6G,GAPIM,GAUP,qBAAehJ,UAAWI,IAAE8I,UAA5B,gBAAUF,MAKd,wBACEhJ,UAAWG,IAAGC,IAAEsI,KAAMtI,IAAE+I,MACxBP,KAAK,SACLC,QAAS,kBAAMhB,EAAShG,EAAU,IAClCiH,SAAUjH,GAAWiG,EAJvB,SAKE,cAAC,IAAD,CAAM5G,KAAK,UAAUC,KAAM,W,qCCrEtBiI,EAAQ,YAOJ,IAAD,EANdC,EAMc,EANdA,QACAC,EAKc,EALdA,KACAC,EAIc,EAJdA,QACAC,EAGc,EAHdA,OAGc,IAFdC,iBAEc,MAFF,WAEE,EADdC,EACc,EADdA,KAEMC,EAAUC,cAEhB,OACE,sBACE5J,UAAW6J,IAAW,kBAAmBzJ,IAAE0J,eAAtB,eAClB1J,IAAEmJ,QAAUA,IAFjB,UAIE,wBACEvJ,UAAW6J,IAAWzJ,IAAE2J,OAAH,GACnBA,MAAqB,aAAdN,EACP,kBAAiC,cAAdA,GAFA,cAGlBrJ,IAAE4J,UAAYN,GAHI,cAIlBtJ,IAAEmJ,QAAUA,GAJM,IADvB,UAOE,gCACE,+BACGF,EAAQ9D,KAAI,WAAqB0E,GAArB,IAAGC,EAAH,EAAGA,QAASlJ,EAAZ,EAAYA,MAAZ,OACX,oBAAkBhB,UAAWgB,EAAK,eAAWA,QAAUmJ,EAAvD,SACGD,GADMD,MAIVP,EAAO,uBAAS,UAGrB,gCACGJ,EAAK/D,KAAI,SAAC1E,EAAMuJ,GAAP,aACR,qBAAoCvB,QAASa,EAAO,kBAAMC,EAAQnB,KAAKkB,EAAK7I,UAASsJ,EAArF,UACGd,EAAQ9D,KAAI,WAA4B0E,GAA5B,IAAWI,EAAX,EAAGC,OAAgBtJ,EAAnB,EAAmBA,MAAnB,OACX,oBAAkBhB,UAAWgB,EAAK,eAAWA,QAAUmJ,EAAvD,SACE,cAACE,EAAD,eAAYxJ,KADLoJ,MAIVP,EACC,6BACE,cAAC,IAAD,CAAMxI,KAAK,QAAQqJ,MAAM,MAAMvK,UAAWI,IAAEoK,cAE5C,OAVN,iBAAShB,QAAT,IAASA,OAAT,EAASA,EAAS3I,UAAlB,QAA2BuJ,WAehCb,GACC,cAAC,IAAD,CACEvJ,UAAWI,IAAEqK,QACbC,MAAO,CACLC,MAAO,GACPC,OAAQ,GACRC,SAAU,WACVC,WAAY,GACZC,YAAa,UAiBZC,EAAyC,SAAC,GAA2D,EAAzD/K,SAA0D,IAAhDgL,EAA+C,EAA/CA,KAAMtD,EAAyC,EAAzCA,MAAO9F,EAAkC,EAAlCA,QAAS+F,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC3FqD,EAaR,YAA2D,IACrDA,EADkBD,EAAkC,EAAlCA,KAAMtD,EAA4B,EAA5BA,MAAO9F,EAAqB,EAArBA,QAAS+F,EAAY,EAAZA,SAE5C,GAAIqD,EAAM,CACR,IAAM3F,EAAOqC,GAAS9F,EAAU,GAAK+F,EAAW,EAAI,EAC9CuD,EAAKtJ,EAAU+F,EAAWD,EAAQA,EAAQ9F,EAAU+F,EAEtC,oBAATqD,IACTC,EAAgBD,EAAK,CACnBtD,QACArC,OACA6F,SAIS,IAATF,IACFC,EACE,gDACW5F,EADX,OACqB6F,EADrB,WACiCxD,EADjC,eAON,OAAOuD,EApCeE,CAAa,CAAEH,OAAMtD,QAAO9F,UAAS+F,aAC3D,OACE,sBAAK5H,UAAW6J,IAAWzJ,IAAEiL,YAAa,QAA1C,UACGH,EACC,cAAC,IAAD,CAAMtC,KAAK,KAAK0C,OAAO,WAAWf,MAAM,YAAxC,SACGW,IAED,KACJ,cAAC,EAAD,CAAYvD,MAAOA,EAAO9F,QAASA,EAAS+F,SAAUA,EAAUC,SAAUA,S,iJCLjE0D,IA7Ef,SAAwDxL,GACtD,IAAQyL,EAAwCzL,EAAxCyL,QAAS/J,EAA+B1B,EAA/B0B,MAAOoG,EAAwB9H,EAAxB8H,SAAU7H,EAAcD,EAAdC,UAElC,EAAeyL,IAASC,UAAjBrL,EAAP,oBACA,EAA8BuF,oBAAkB,GAAhD,mBAAO+F,EAAP,KAAgBC,EAAhB,KAEMC,EAAgBlJ,mBACpB,kBACE6I,EAAQM,QAAO,SAACC,EAAGC,GACjB,OAAO,2BACFD,GADL,kBAEGC,EAAE9K,KAAO8K,EAAEC,iBAEb,MACL,CAACT,IAGGU,EAAevJ,mBAAQ,WAC3B,IAAIwJ,EAAQ,EAUZ,OARI1K,GACF+J,EAAQhI,SAAQ,SAAA4I,GACV3K,EAAM2K,EAAOlL,QAAUkL,EAAOH,cAChCE,OAKCA,IACN,CAACX,EAAS/J,IAEbuB,qBAAU,WACJvB,GACFpB,EAAKgM,eAAe5K,KAErB,CAACA,IAOJ,IAAM6K,EACJ,eAAC,IAAD,CAAMjM,KAAMA,EAAMwL,cAAeA,EAAeU,gBAAiB,CAAC,YAAaC,SANjF,SAAsBC,GACpBb,GAAW,GACX/D,EAAS4E,IAIT,UACGjB,EAAQjG,KAAI,SAAA6G,GAAM,OACjB,cAAC,IAAK5L,KAAN,CAA6BU,KAAMkL,EAAOlL,KAAMT,MAAO2L,EAAO3L,MAAOT,UAAU,QAA/E,SACGoM,EAAOM,cADMN,EAAOlL,SAIzB,sBAAKlB,UAAU,mDAAf,UACE,wBAAQ4I,KAAK,SAASC,QAAS,kBAAMxI,EAAKsM,eAAe3M,UAAU,cAAnE,2BAGA,wBAAQ4I,KAAK,SAAS5I,UAAU,iBAAhC,iCAON,OACE,cAAC,IAAD,CACEiB,MAAM,UACN2L,aAAc,CAAEjC,MAAO,KACvBkC,QAASP,EACTX,QAASA,EACTmB,gBAAiBlB,EACjBmB,UAAU,cANZ,SAOE,yBAAQnE,KAAK,SAAS5I,UAAW6J,IAAW,gCAAiC7J,GAA7E,UACE,cAAC,IAAD,CAAMkB,KAAK,SAASlB,UAAU,SAC9B,sBAAMA,UAAU,OAAhB,qBACA,cAAC,IAAD,UAAckM,W,kLC1FhBc,EAAiB,CAErBC,YAAc,QAAS,GAAI,CAAC,YAC5BA,YAAc,kBAAmB,GAAI,CAAC,YACtCA,YAAc,cAAe,GAAI,CAAC,YAClCA,YAAc,gBAAiB,GAAI,CAAC,YAEpCA,YAAc,uBAAwB,GAAI,CAAC,YAC3CA,YAAc,uBAAwB,GAAI,CAAC,YAC3CA,YAAc,8BAA+B,GAAI,CAAC,YAClDA,YAAc,0BAA2B,GAAI,CAAC,YAC9CA,YAAc,kBAAmB,GAAI,CAAC,YACtCA,YAAc,2BAA4B,GAAI,CAAC,YAC/CA,YAAc,2BAA4B,GAAI,CAAC,YAC/CA,YAAc,kCAAmC,GAAI,CAAC,YACtDA,YAAc,kCAAmC,GAAI,CAAC,YAEtDA,YAAc,4BAA6B,GAAI,CAAC,YAChDA,YAAc,6BAA8B,GAAI,CAAC,YACjDA,YAAc,yBAA0B,GAAI,CAAC,YAC7CA,YAAc,4BAA6B,GAAI,CAAC,YAChDA,YAAc,6BAA8B,GAAI,CAAC,YACjDA,YAAc,yBAA0B,GAAI,CAAC,YAE7CA,YAAc,cAAe,GAAI,CAAC,YAClCA,YAAc,cAAe,GAAI,CAAC,YAElCA,YAAc,mBAAoB,CAAC,WAAY,CAAC,UAAW,YAC3DA,YAAc,kBAAmB,CAAC,WAAY,CAAC,UAAW,YAC1DA,YAAc,mBAAoB,CAAC,WAAY,CAAC,UAAW,YAC3DA,YAAc,kBAAmB,CAAC,WAAY,CAAC,UAAW,YAG1DA,YAAc,gBAAiB,CAAC,WAAY,IAC5CA,YAAc,aAAc,CAAC,WAAY,IACzCA,YAAc,qBAAsB,GAAI,IACxCA,YAAc,yBAA0B,GAAI,IAC5CA,YAAc,gBAAiB,CAAC,WAAY,IAC5CA,YAAc,aAAc,CAAC,WAAY,IACzCA,YAAc,qBAAsB,GAAI,IACxCA,YAAc,yBAA0B,GAAI,IAC5CA,YAAc,eAAgB,GAAI,IAClCA,YAAc,eAAgB,GAAI,KAGvBC,EAAuB,GAE9BC,E,kDACJ,WAAYpL,GAAkB,uCACtB,CAACkL,YAAc,WAAY,GAAI,CAAC,aAAclL,EAAS,mB,4CAG/D,WACE,OAAOqL,KAAKC,KAAK,YAAYnK,MAAK,SAAAzB,GAAK,OAAI6L,IAAUhI,KAAK7D,U,GAN5BqB,KAU5ByK,E,kDAyBJ,WAAYxL,GAAkB,IAAD,8BAC3B,cAAMiL,EAAKjL,EAAS,gBAxBtByL,WAuB6B,IAtB7BC,kBAsB6B,IArB7BC,iBAqB6B,IApB7BC,mBAoB6B,IAnB7BC,0BAmB6B,IAlB7BC,0BAkB6B,IAjB7BC,iCAiB6B,IAhB7BC,6BAgB6B,IAf7BC,qBAe6B,IAd7BC,2BAc6B,IAb7BC,2BAa6B,IAZ7BC,+BAY6B,IAX7BC,gCAW6B,IAV7BC,4BAU6B,IAT7BC,+BAS6B,IAR7BC,gCAQ6B,IAP7BC,4BAO6B,IAN7BC,qCAM6B,IAL7BC,qCAK6B,IAJ7BC,iBAI6B,IAH7BC,yBAG6B,IAF7BC,iBAE6B,I,gDAK7B,WACE,QAA0B1E,IAAtBiD,KAAKK,mBAAqDtD,IAAvBiD,KAAKO,oBAAoDxD,IAArBiD,KAAKM,YAIhF,OAAON,KAAKM,YAAcN,KAAKK,aAAeL,KAAKO,gB,yBAGrD,WACE,IAAMmB,EAAiB1B,KAAK0B,eAE5B,QAAuB3E,IAAnB2E,EAIJ,OAAO3I,KAAKC,IAAI,EAAG0I,EAAiBC,YAAYzI,KAAKC,U,qBAGvD,WACE,QAAmB4D,IAAfiD,KAAKI,YAA6CrD,IAAtBiD,KAAKK,aAIrC,OAAOL,KAAKK,aAAeL,KAAKI,Q,+BAGlC,WACE,IAAMwB,EAAY5B,KAAK4B,UACvB,YAAqB7E,IAAd6E,GAA2BA,EAAY,I,mCAGhD,WACE,GAAK5B,KAAKQ,sBAAyBR,KAAKS,qBAIxC,OAAOT,KAAKQ,qBAAqBqB,KAAK7B,KAAKS,wB,oCAG7C,WACE,GAAKT,KAAKQ,sBAAyBR,KAAK8B,wBAIxC,OAAO9B,KAAKQ,qBAAqBuB,IAAI/B,KAAK8B,yBAAyBE,a,oCAGrE,WACE,GAAKhC,KAAKS,sBAAyBT,KAAK8B,wBAIxC,OAAO9B,KAAKS,qBAAqBsB,IAAI/B,KAAK8B,yBAAyBE,a,+BAGrE,WACE,GAAKhC,KAAKQ,sBAAyBR,KAAKS,sBAAyBT,KAAKW,wBAItE,OAAIX,KAAKS,qBAAqBwB,GAAG,GACxB,IAAI/B,IAAU,GAAGgC,QAAQpC,GAG3BE,KAAKQ,qBACTuB,IAAI/B,KAAKS,sBACT0B,aAAa,IAAIjC,IAAU,GAAGkC,MAAMpC,KAAKW,wBAAwB0B,UAAUvC,KAC3E+B,KAAK,GACLK,QAAQpC,K,iCAGb,WACE,GAAKE,KAAKQ,sBAAyBR,KAAKS,qBAIxC,OAAIT,KAAKS,qBAAqBwB,GAAG,GACxB,IAAI/B,IAAU,GAAGgC,QAAQpC,GAG3BE,KAAKQ,qBAAqBuB,IAAI/B,KAAKS,sBAAsBoB,KAAK,GAAGK,QAAQpC,K,+DAGlF,sEAAAnB,EAAA,sEAsBYqB,KAAKsC,MAAM,CACnB,CAAEC,OAAQ,SACV,CAAEA,OAAQ,mBACV,CAAEA,OAAQ,eACV,CAAEA,OAAQ,iBACV,CAAEA,OAAQ,wBACV,CAAEA,OAAQ,wBACV,CAAEA,OAAQ,+BACV,CAAEA,OAAQ,2BACV,CAAEA,OAAQ,mBACV,CAAEA,OAAQ,4BACV,CAAEA,OAAQ,4BACV,CAAEA,OAAQ,6BACV,CAAEA,OAAQ,8BACV,CAAEA,OAAQ,0BACV,CAAEA,OAAQ,6BACV,CAAEA,OAAQ,8BACV,CAAEA,OAAQ,0BACV,CAAEA,OAAQ,mCACV,CAAEA,OAAQ,mCACV,CAAEA,OAAQ,iBA1Cd,2CAEInC,EAFJ,KAGIC,EAHJ,KAIIC,EAJJ,KAKIC,EALJ,KAMIC,EANJ,KAOIC,EAPJ,KAQIC,EARJ,KASIC,EATJ,KAUIC,EAVJ,KAWIC,EAXJ,KAYIC,EAZJ,MAaIC,EAbJ,MAcIC,EAdJ,MAeIC,EAfJ,MAgBIC,EAhBJ,MAiBIC,EAjBJ,MAkBIC,EAlBJ,MAmBIC,EAnBJ,MAoBIC,EApBJ,MAqBIkB,EArBJ,MA6CExC,KAAKI,MAAQqC,OAAOrC,GACpBJ,KAAKK,aAAeoC,OAAOpC,GAC3BL,KAAKM,YAAcmC,OAAOnC,GAC1BN,KAAKO,cAAgBkC,OAAOlC,GAC5BP,KAAKQ,qBAAuBN,IAAUhI,KAAKsI,GAC3CR,KAAKS,qBAAuBP,IAAUhI,KAAKuI,GAC3CT,KAAKU,4BAA8BR,IAAUhI,KAAKwI,GAClDV,KAAKW,wBAA0BT,IAAUhI,KAAKyI,GAC9CX,KAAKY,gBAAkBV,IAAUhI,KAAK0I,GACtCZ,KAAKa,sBAAwBX,IAAUhI,KAAK2I,GAC5Cb,KAAKc,sBAAwBZ,IAAUhI,KAAK4I,GAC5Cd,KAAKe,0BAA4Bb,IAAUhI,KAAK6I,GAChDf,KAAKgB,2BAA6Bd,IAAUhI,KAAK8I,GACjDhB,KAAKiB,uBAAyBf,IAAUhI,KAAK+I,GAC7CjB,KAAKkB,0BAA4BhB,IAAUhI,KAAKgJ,GAChDlB,KAAKmB,2BAA6BjB,IAAUhI,KAAKiJ,GACjDnB,KAAKoB,uBAAyBlB,IAAUhI,KAAKkJ,GAC7CpB,KAAKqB,gCAAkCnB,IAAUhI,KAAKmJ,GACtDrB,KAAKsB,gCAAkCpB,IAAUhI,KAAKoJ,GACtDtB,KAAKwB,oBAAsB,IAAIzB,EAAoByC,GACnDxC,KAAKwB,oBAAoBnK,gBAAgB2I,KAAK0C,cAjEhD,UAkE2B1C,KAAKwB,oBAAoBmB,WAlEpD,QAkEE3C,KAAKyB,YAlEP,OAmEEzB,KAAK4C,KAAKlN,IAAaC,aAnEzB,iD,yFAsEA,SAAsBkN,GACpB,OAAOC,YAAWD,GAAgB,GAAK,I,8BAGzC,SAAiBlO,GACf,OAAOqL,KAAKC,KAAK,mBAAoB,CAACtL,GAAU,IAAImB,MAAK,SAAAiN,GAAM,MAAI,CAACN,OAAOM,EAAO,IAAK7C,IAAUhI,KAAK6K,EAAO,U,6BAG/G,SAAgBpO,GACd,OAAOqL,KAAKC,KAAK,kBAAmB,CAACtL,GAAU,IAAImB,MAAK,SAAAiN,GAAM,MAAI,CAACN,OAAOM,EAAO,IAAK7C,IAAUhI,KAAK6K,EAAO,U,8BAG9G,SAAiBpO,GACf,OAAOqL,KAAKC,KAAK,mBAAoB,CAACtL,GAAU,IAAImB,MAAK,SAAAiN,GAAM,MAAI,CAACN,OAAOM,EAAO,IAAK7C,IAAUhI,KAAK6K,EAAO,U,6BAG/G,SAAgBpO,GACd,OAAOqL,KAAKC,KAAK,kBAAmB,CAACtL,GAAU,IAAImB,MAAK,SAAAiN,GAAM,MAAI,CAACN,OAAOM,EAAO,IAAK7C,IAAUhI,KAAK6K,EAAO,U,4BAG9G,WAAkD,IAAD,OAC/C,OAAO/C,KAAKC,KAAK,cAAe,GAAI,IAAInK,MAAK,SAAAiN,GAG3C,OAFA,EAAKxB,YAAcrB,IAAUhI,KAAK6K,GAClC,EAAKH,KAAKlN,IAAaC,aAChB,EAAK4L,iB,kEAIhB,WAAoByB,EAAmBC,GAAvC,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,gBAAiB,CAACF,GAAS,GAAIC,GADjD,gD,4HAIA,WAAqBD,EAAmBC,GAAxC,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,aAAc,CAACF,GAAS,GAAIC,GAD9C,gD,gIAIA,WAAyBA,GAAzB,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,qBAAsB,GAAI,GAAID,GADhD,gD,kIAIA,WAA6BA,GAA7B,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,yBAA0B,GAAI,GAAID,GADpD,gD,yHAIA,WAAoBD,EAAmBC,GAAvC,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,gBAAiB,CAACF,GAAS,GAAIC,GADjD,gD,4HAIA,WAAqBD,EAAmBC,GAAxC,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,aAAc,CAACF,GAAS,GAAIC,GAD9C,gD,gIAIA,WAAyBA,GAAzB,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,qBAAsB,GAAI,GAAID,GADhD,gD,kIAIA,WAA6BA,GAA7B,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,yBAA0B,GAAI,GAAID,GADpD,gD,wHAIA,WAAmBA,GAAnB,SAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,eAAgB,GAAI,GAAID,GAD1C,gD,wHAIA,sBAAAtE,EAAA,sEACQqB,KAAKkD,KAAK,eAAgB,GAAI,IADtC,gD,2DAvP+BxN,KA4PlByK,O,qBC5Tf,IAAIgD,EAAUC,EAAQ,MAgCtBlP,EAAOC,QALP,SAAakP,EAAQC,EAAMzE,GACzB,IAAIkE,EAAmB,MAAVM,OAAiBtG,EAAYoG,EAAQE,EAAQC,GAC1D,YAAkBvG,IAAXgG,EAAuBlE,EAAekE,I,qBC5B/C7O,EAAOC,QAAU,CAAC,WAAa,sBAAsB,KAAO,gBAAgB,UAAY,qBAAqB,KAAO,gBAAgB,KAAO,gBAAgB,OAAS,oB,qBCApKD,EAAOC,QAAU,CAAC,eAAiB,0BAA0B,QAAU,mBAAmB,MAAQ,iBAAiB,UAAY,qBAAqB,UAAY,qBAAqB,YAAc,uBAAuB,QAAU,qB,qBCDpO,IAAIoP,EAAWH,EAAQ,KAoBvBlP,EAAOC,QARP,SAAeE,GACb,GAAoB,iBAATA,GAAqBkP,EAASlP,GACvC,OAAOA,EAET,IAAI0O,EAAU1O,EAAQ,GACtB,MAAkB,KAAV0O,GAAkB,EAAI1O,IAdjB,SAcwC,KAAO0O,I,qBCjB9D,IAAIS,EAAcJ,EAAQ,MACtBK,EAAsBL,EAAQ,MAC9BM,EAAWN,EAAQ,MACnBjN,EAAUiN,EAAQ,KAClBO,EAAWP,EAAQ,MA0BvBlP,EAAOC,QAjBP,SAAsBE,GAGpB,MAAoB,mBAATA,EACFA,EAEI,MAATA,EACKqP,EAEW,iBAATrP,EACF8B,EAAQ9B,GACXoP,EAAoBpP,EAAM,GAAIA,EAAM,IACpCmP,EAAYnP,GAEXsP,EAAStP,K,sGCnBLuP,EAAmC,SAAC,GAAD,IAAG/Q,EAAH,EAAGA,SAAUD,EAAb,EAAaA,UAAW0K,EAAxB,EAAwBA,MAAxB,OAC9C,cAAC,IAAD,CAASzJ,MAAOhB,EAAhB,SACE,cAAC,IAAD,CACEiB,KAAK,OACLC,KAAM,GACNnB,UAAWA,EACX0K,MAAK,aACHuG,WAAY,GACTvG,S,qBChBX,IAAIwG,EAAeV,EAAQ,MACvBW,EAAWX,EAAQ,MA6BvBlP,EAAOC,QAJP,SAAgB6P,EAAOC,GACrB,OAAQD,GAASA,EAAME,OAAUH,EAASC,EAAOF,EAAaG,EAAU,IAAM,K,qBC3BhF,IAAI9N,EAAUiN,EAAQ,KAClBG,EAAWH,EAAQ,KAGnBe,EAAe,mDACfC,EAAgB,QAuBpBlQ,EAAOC,QAbP,SAAeE,EAAOgP,GACpB,GAAIlN,EAAQ9B,GACV,OAAO,EAET,IAAImH,SAAcnH,EAClB,QAAY,UAARmH,GAA4B,UAARA,GAA4B,WAARA,GAC/B,MAATnH,IAAiBkP,EAASlP,MAGvB+P,EAAcC,KAAKhQ,KAAW8P,EAAaE,KAAKhQ,IAC1C,MAAVgP,GAAkBhP,KAASiQ,OAAOjB,M,mBCLvCnP,EAAOC,QAJP,SAAkBE,GAChB,OAAOA,I,kCCjBT,iFAeO,SAASkQ,EAAcC,GAC5B,IAAMrL,EAAMwI,YAAYzI,KAAKC,OACvBkH,EAZR,SAAyBmE,GACvB,IAAMrL,EAAMwI,YAAYzI,KAAKC,OAE7B,OAAIA,EAAMqL,EAAKlE,YACN,EAGFvH,KAAK0L,OAAOtL,EAAMqL,EAAKlE,aAAekE,EAAKjE,cAAgB,GAK7CmE,CAAgBF,GAC/B9C,EAAiB8C,EAAKlE,YAAcD,EAAemE,EAAKjE,cAE9D,OAAOpH,EAAMuI,EAAiBA,EAAiBvI,EAAM,EAGhD,SAASwL,EAA2BC,GACzC,OAAQA,GACN,IAAK,iBACH,MAAO,CAAC,WAAY,MAAO,OAC7B,IAAK,iBACH,MAAO,CAAC,WAAY,MAAO,QAC7B,IAAK,kBACH,MAAO,CAAC,MAAO,MAAO,QACxB,IAAK,kBACH,MAAO,CAAC,MAAO,MAAO,QACxB,QACE,MAAO,CAAC,UAAW,UAAW,c,qBClCpC,IAAIC,EAAWzB,EAAQ,MACnB0B,EAAQ1B,EAAQ,MAsBpBlP,EAAOC,QAZP,SAAiBkP,EAAQC,GAMvB,IAHA,IAAIyB,EAAQ,EACRb,GAHJZ,EAAOuB,EAASvB,EAAMD,IAGJa,OAED,MAAVb,GAAkB0B,EAAQb,GAC/Bb,EAASA,EAAOyB,EAAMxB,EAAKyB,OAE7B,OAAQA,GAASA,GAASb,EAAUb,OAAStG,I,qBCpB/C,IAAIiI,EAAW5B,EAAQ,KAcvBlP,EAAOC,QAJP,SAA4BE,GAC1B,OAAOA,IAAUA,IAAU2Q,EAAS3Q,K,mBCQtCH,EAAOC,QAVP,SAAiCiE,EAAK6M,GACpC,OAAO,SAAS5B,GACd,OAAc,MAAVA,IAGGA,EAAOjL,KAAS6M,SACPlI,IAAbkI,GAA2B7M,KAAOkM,OAAOjB,Q,qBCfhD,IAAIlN,EAAUiN,EAAQ,KAClB8B,EAAQ9B,EAAQ,MAChB+B,EAAe/B,EAAQ,MACvBgC,EAAWhC,EAAQ,KAiBvBlP,EAAOC,QAPP,SAAkBE,EAAOgP,GACvB,OAAIlN,EAAQ9B,GACHA,EAEF6Q,EAAM7Q,EAAOgP,GAAU,CAAChP,GAAS8Q,EAAaC,EAAS/Q,M,+FCb1DuL,EAAiB,CAErBC,YACE,oBACA,CAAC,WACD,CAAC,IAAIwF,IAAS,CAAC,UAAW,UAAW,UAAW,UAAW,cAE7DxF,YAAc,6BAA8B,CAAC,UAAW,WAAY,CAAC,YACrEA,YAAc,6BAA8B,CAAC,UAAW,WAAY,CAAC,YACrEA,YAAc,iCAAkC,CAAC,UAAW,WAAY,CAAC,YACzEA,YAAc,iCAAkC,CAAC,UAAW,WAAY,CAAC,aAGrEyF,E,kDAGJ,WAAY3Q,GAAkB,IAAD,8BAC3B,cAAMiL,EAAKjL,EAAS,aAHtB4Q,WAE6B,I,wDAI7B,SAAqBC,GACnB,OAAOxF,KAAKC,KAAK,oBAAqB,CAACuF,GAAoB,IAAI1P,MAAK,SAAAiN,GAAM,MAAI,CAC5E7C,IAAUhI,KAAK6K,EAAO,IACtB7C,IAAUhI,KAAK6K,EAAO,IACtB7C,IAAUhI,KAAK6K,EAAO,IACtB7C,IAAUhI,KAAK6K,EAAO,IACtB7C,IAAUhI,KAAK6K,EAAO,U,2CAI1B,SAA8ByC,EAA2BC,GACvD,OAAOzF,KAAKC,KAAK,6BAA8B,CAACuF,EAAmBC,GAAc,IAAI3P,KAAKoK,IAAUhI,Q,2CAGtG,SAA8BsN,EAA2BC,GACvD,OAAOzF,KAAKC,KAAK,6BAA8B,CAACuF,EAAmBC,GAAc,IAAI3P,KAAKoK,IAAUhI,Q,+CAGtG,SAAkCsN,EAA2BC,GAC3D,OAAOzF,KAAKC,KAAK,iCAAkC,CAACuF,EAAmBC,GAAc,IAAI3P,KAAKoK,IAAUhI,Q,+CAG1G,SAAkCsN,EAA2BC,GAC3D,OAAOzF,KAAKC,KAAK,iCAAkC,CAACuF,EAAmBC,GAAc,IAAI3P,KAAKoK,IAAUhI,U,GA9BhFxC,KAkCb4P,O,mBC5BfpR,EAAOC,QAZP,SAAuB6P,EAAO0B,EAAWC,EAAWC,GAIlD,IAHA,IAAI1B,EAASF,EAAME,OACfa,EAAQY,GAAaC,EAAY,GAAK,GAElCA,EAAYb,MAAYA,EAAQb,GACtC,GAAIwB,EAAU1B,EAAMe,GAAQA,EAAOf,GACjC,OAAOe,EAGX,OAAQ,I,qBCpBV,IAAIc,EAAczC,EAAQ,MACtB0C,EAAe1C,EAAQ,MACvB2C,EAA0B3C,EAAQ,MAmBtClP,EAAOC,QAVP,SAAqB6R,GACnB,IAAIC,EAAYH,EAAaE,GAC7B,OAAwB,GAApBC,EAAU/B,QAAe+B,EAAU,GAAG,GACjCF,EAAwBE,EAAU,GAAG,GAAIA,EAAU,GAAG,IAExD,SAAS5C,GACd,OAAOA,IAAW2C,GAAUH,EAAYxC,EAAQ2C,EAAQC,M,qBCjB5D,IAAIC,EAAQ9C,EAAQ,KAChB+C,EAAc/C,EAAQ,KA4D1BlP,EAAOC,QA5CP,SAAqBkP,EAAQ2C,EAAQC,EAAWG,GAC9C,IAAIrB,EAAQkB,EAAU/B,OAClBA,EAASa,EACTsB,GAAgBD,EAEpB,GAAc,MAAV/C,EACF,OAAQa,EAGV,IADAb,EAASiB,OAAOjB,GACT0B,KAAS,CACd,IAAI7I,EAAO+J,EAAUlB,GACrB,GAAKsB,GAAgBnK,EAAK,GAClBA,EAAK,KAAOmH,EAAOnH,EAAK,MACtBA,EAAK,KAAMmH,GAEnB,OAAO,EAGX,OAAS0B,EAAQb,GAAQ,CAEvB,IAAI9L,GADJ8D,EAAO+J,EAAUlB,IACF,GACXuB,EAAWjD,EAAOjL,GAClB6M,EAAW/I,EAAK,GAEpB,GAAImK,GAAgBnK,EAAK,IACvB,QAAiBa,IAAbuJ,KAA4BlO,KAAOiL,GACrC,OAAO,MAEJ,CACL,IAAIkD,EAAQ,IAAIL,EAChB,GAAIE,EACF,IAAIrD,EAASqD,EAAWE,EAAUrB,EAAU7M,EAAKiL,EAAQ2C,EAAQO,GAEnE,UAAiBxJ,IAAXgG,EACEoD,EAAYlB,EAAUqB,EAAUE,EAA+CJ,EAAYG,GAC3FxD,GAEN,OAAO,GAIb,OAAO,I,qBC1DT,IAAI0D,EAAqBrD,EAAQ,MAC7BsD,EAAOtD,EAAQ,KAsBnBlP,EAAOC,QAbP,SAAsBkP,GAIpB,IAHA,IAAIN,EAAS2D,EAAKrD,GACda,EAASnB,EAAOmB,OAEbA,KAAU,CACf,IAAI9L,EAAM2K,EAAOmB,GACb7P,EAAQgP,EAAOjL,GAEnB2K,EAAOmB,GAAU,CAAC9L,EAAK/D,EAAOoS,EAAmBpS,IAEnD,OAAO0O,I,qBCpBT,IAAIoD,EAAc/C,EAAQ,KACtBpL,EAAMoL,EAAQ,MACduD,EAAQvD,EAAQ,MAChB8B,EAAQ9B,EAAQ,MAChBqD,EAAqBrD,EAAQ,MAC7B2C,EAA0B3C,EAAQ,MAClC0B,EAAQ1B,EAAQ,MA0BpBlP,EAAOC,QAZP,SAA6BmP,EAAM2B,GACjC,OAAIC,EAAM5B,IAASmD,EAAmBxB,GAC7Bc,EAAwBjB,EAAMxB,GAAO2B,GAEvC,SAAS5B,GACd,IAAIiD,EAAWtO,EAAIqL,EAAQC,GAC3B,YAAqBvG,IAAbuJ,GAA0BA,IAAarB,EAC3C0B,EAAMtD,EAAQC,GACd6C,EAAYlB,EAAUqB,EAAUE,M,qBC5BxC,IAAII,EAAgBxD,EAAQ,MAGxByD,EAAa,mGAGbC,EAAe,WASf3B,EAAeyB,GAAc,SAASG,GACxC,IAAIhE,EAAS,GAOb,OAN6B,KAAzBgE,EAAOC,WAAW,IACpBjE,EAAO3H,KAAK,IAEd2L,EAAOE,QAAQJ,GAAY,SAASK,EAAOC,EAAQC,EAAOC,GACxDtE,EAAO3H,KAAKgM,EAAQC,EAAUJ,QAAQH,EAAc,MAASK,GAAUD,MAElEnE,KAGT7O,EAAOC,QAAUgR,G,qBC1BjB,IAAImC,EAAUlE,EAAQ,MAyBtBlP,EAAOC,QAZP,SAAuBoT,GACrB,IAAIxE,EAASuE,EAAQC,GAAM,SAASnP,GAIlC,OAfmB,MAYfoP,EAAMzT,MACRyT,EAAMC,QAEDrP,KAGLoP,EAAQzE,EAAOyE,MACnB,OAAOzE,I,qBCtBT,IAAI2E,EAAWtE,EAAQ,KAiDvB,SAASkE,EAAQC,EAAMI,GACrB,GAAmB,mBAARJ,GAAmC,MAAZI,GAAuC,mBAAZA,EAC3D,MAAM,IAAIC,UAhDQ,uBAkDpB,IAAIC,EAAW,SAAXA,IACF,IAAIC,EAAOC,UACP3P,EAAMuP,EAAWA,EAASK,MAAMhI,KAAM8H,GAAQA,EAAK,GACnDN,EAAQK,EAASL,MAErB,GAAIA,EAAMzP,IAAIK,GACZ,OAAOoP,EAAMxP,IAAII,GAEnB,IAAI2K,EAASwE,EAAKS,MAAMhI,KAAM8H,GAE9B,OADAD,EAASL,MAAQA,EAAMjQ,IAAIa,EAAK2K,IAAWyE,EACpCzE,GAGT,OADA8E,EAASL,MAAQ,IAAKF,EAAQW,OAASP,GAChCG,EAITP,EAAQW,MAAQP,EAEhBxT,EAAOC,QAAUmT,G,qBCxEjB,IAAIY,EAAY9E,EAAQ,MACpB+E,EAAU/E,EAAQ,MAgCtBlP,EAAOC,QAJP,SAAekP,EAAQC,GACrB,OAAiB,MAAVD,GAAkB8E,EAAQ9E,EAAQC,EAAM4E,K,mBClBjDhU,EAAOC,QAJP,SAAmBkP,EAAQjL,GACzB,OAAiB,MAAViL,GAAkBjL,KAAOkM,OAAOjB,K,qBCTzC,IAAIwB,EAAWzB,EAAQ,MACnBgF,EAAchF,EAAQ,KACtBjN,EAAUiN,EAAQ,KAClBiF,EAAUjF,EAAQ,KAClBkF,EAAWlF,EAAQ,KACnB0B,EAAQ1B,EAAQ,MAiCpBlP,EAAOC,QAtBP,SAAiBkP,EAAQC,EAAMiF,GAO7B,IAJA,IAAIxD,GAAS,EACTb,GAHJZ,EAAOuB,EAASvB,EAAMD,IAGJa,OACdnB,GAAS,IAEJgC,EAAQb,GAAQ,CACvB,IAAI9L,EAAM0M,EAAMxB,EAAKyB,IACrB,KAAMhC,EAAmB,MAAVM,GAAkBkF,EAAQlF,EAAQjL,IAC/C,MAEFiL,EAASA,EAAOjL,GAElB,OAAI2K,KAAYgC,GAASb,EAChBnB,KAETmB,EAAmB,MAAVb,EAAiB,EAAIA,EAAOa,SAClBoE,EAASpE,IAAWmE,EAAQjQ,EAAK8L,KACjD/N,EAAQkN,IAAW+E,EAAY/E,M,qBCnCpC,IAAImF,EAAepF,EAAQ,MACvBqF,EAAmBrF,EAAQ,MAC3B8B,EAAQ9B,EAAQ,MAChB0B,EAAQ1B,EAAQ,MA4BpBlP,EAAOC,QAJP,SAAkBmP,GAChB,OAAO4B,EAAM5B,GAAQkF,EAAa1D,EAAMxB,IAASmF,EAAiBnF,K,mBCfpEpP,EAAOC,QANP,SAAsBiE,GACpB,OAAO,SAASiL,GACd,OAAiB,MAAVA,OAAiBtG,EAAYsG,EAAOjL,M,qBCT/C,IAAI+K,EAAUC,EAAQ,MAetBlP,EAAOC,QANP,SAA0BmP,GACxB,OAAO,SAASD,GACd,OAAOF,EAAQE,EAAQC,M,qBCX3B,IAAIoF,EAAWtF,EAAQ,KACnBuF,EAAgBvF,EAAQ,MACxBwF,EAAoBxF,EAAQ,MAC5ByF,EAAWzF,EAAQ,KACnB0F,EAAY1F,EAAQ,MACpB2F,EAAa3F,EAAQ,KAkEzBlP,EAAOC,QApDP,SAAkB6P,EAAOC,EAAU+E,GACjC,IAAIjE,GAAS,EACTkE,EAAWN,EACXzE,EAASF,EAAME,OACfgF,GAAW,EACXnG,EAAS,GACToG,EAAOpG,EAEX,GAAIiG,EACFE,GAAW,EACXD,EAAWL,OAER,GAAI1E,GAvBY,IAuBgB,CACnC,IAAI3M,EAAM0M,EAAW,KAAO6E,EAAU9E,GACtC,GAAIzM,EACF,OAAOwR,EAAWxR,GAEpB2R,GAAW,EACXD,EAAWJ,EACXM,EAAO,IAAIT,OAGXS,EAAOlF,EAAW,GAAKlB,EAEzBqG,EACA,OAASrE,EAAQb,GAAQ,CACvB,IAAI7P,EAAQ2P,EAAMe,GACdsE,EAAWpF,EAAWA,EAAS5P,GAASA,EAG5C,GADAA,EAAS2U,GAAwB,IAAV3U,EAAeA,EAAQ,EAC1C6U,GAAYG,IAAaA,EAAU,CAErC,IADA,IAAIC,EAAYH,EAAKjF,OACdoF,KACL,GAAIH,EAAKG,KAAeD,EACtB,SAASD,EAGTnF,GACFkF,EAAK/N,KAAKiO,GAEZtG,EAAO3H,KAAK/G,QAEJ4U,EAASE,EAAME,EAAUL,KAC7BG,IAASpG,GACXoG,EAAK/N,KAAKiO,GAEZtG,EAAO3H,KAAK/G,IAGhB,OAAO0O,I,qBCpET,IAAIwG,EAAcnG,EAAQ,MAgB1BlP,EAAOC,QALP,SAAuB6P,EAAO3P,GAE5B,SADsB,MAAT2P,EAAgB,EAAIA,EAAME,SACpBqF,EAAYvF,EAAO3P,EAAO,IAAM,I,qBCbrD,IAAImV,EAAgBpG,EAAQ,MACxBqG,EAAYrG,EAAQ,MACpBsG,EAAgBtG,EAAQ,MAiB5BlP,EAAOC,QANP,SAAqB6P,EAAO3P,EAAOsR,GACjC,OAAOtR,IAAUA,EACbqV,EAAc1F,EAAO3P,EAAOsR,GAC5B6D,EAAcxF,EAAOyF,EAAW9D,K,mBCLtCzR,EAAOC,QAJP,SAAmBE,GACjB,OAAOA,IAAUA,I,mBCcnBH,EAAOC,QAZP,SAAuB6P,EAAO3P,EAAOsR,GAInC,IAHA,IAAIZ,EAAQY,EAAY,EACpBzB,EAASF,EAAME,SAEVa,EAAQb,GACf,GAAIF,EAAMe,KAAW1Q,EACnB,OAAO0Q,EAGX,OAAQ,I,mBCEV7Q,EAAOC,QAZP,SAA2B6P,EAAO3P,EAAO2U,GAIvC,IAHA,IAAIjE,GAAS,EACTb,EAAkB,MAATF,EAAgB,EAAIA,EAAME,SAE9Ba,EAAQb,GACf,GAAI8E,EAAW3U,EAAO2P,EAAMe,IAC1B,OAAO,EAGX,OAAO,I,qBClBT,IAAI4E,EAAMvG,EAAQ,KACdwG,EAAOxG,EAAQ,KACf2F,EAAa3F,EAAQ,KAYrB0F,EAAca,GAAQ,EAAIZ,EAAW,IAAIY,EAAI,CAAC,EAAE,KAAK,IAT1C,IASoE,SAAStK,GAC1F,OAAO,IAAIsK,EAAItK,IAD2DuK,EAI5E1V,EAAOC,QAAU2U,G,oICDV,SAASe,EAAqBC,GACnC,IAAMC,EAASC,cACPlS,EAAwBxB,cAAxBwB,oBAEFmS,EAAgB1U,mBAAQ,WAAO,IAAD,EAC5B2U,EAAY,UAAGH,EAAOI,UAAUC,UAApB,aAAG,EAAqBC,MAE1C,GAAKH,EAIL,OAAOpS,EAAoBoS,GAAc,WACvC,OAAO,IAAI5E,IAAc4E,QAE1B,IAEH,EAAoD1R,mBAA2C,IAA/F,mBAAO8R,EAAP,KAA2BC,EAA3B,KAEA3U,qBAAU,WACHkU,GAAcG,GAInBA,EAAcO,qBAAqBV,GAAWhU,MAAK,SAAAiN,GACjDwH,EAAsBxH,QAEvB,CAAC+G,EAAWG,IAEf,IAAMQ,EAA+BlV,mBAAQ,WAAO,IAAD,EACjD,IAAK+U,EAAmB,KAAOA,EAAmB,GAChD,OAAO,EAGT,IAAMI,EAAiBJ,EAAmB,GAAGzI,KAAKyI,EAAmB,IACrE,iBAAOA,EAAmB,UAA1B,aAAO,EAAuBvI,IAAI2I,GAAgB1I,aACjD,CAACsI,IAEEK,EAA+BpV,mBAAQ,WAAO,IAAD,EACjD,IAAK+U,EAAmB,KAAOA,EAAmB,GAChD,OAAO,EAGT,IAAMI,EAAiBJ,EAAmB,GAAGzI,KAAKyI,EAAmB,IACrE,iBAAOA,EAAmB,UAA1B,aAAO,EAAuBvI,IAAI2I,GAAgB1I,aACjD,CAACsI,IAEEM,EAA0BrV,mBAAQ,WACtC,GAAK+U,EAAmB,IAAOA,EAAmB,IAAOA,EAAmB,GAI5E,OAAIA,EAAmB,GAAGrI,GAAG,GACpB,IAAI/B,YAAU,GAGhBoK,EAAmB,GACvBvI,IAAIuI,EAAmB,IACvBnI,aAAa,IAAIjC,YAAU,GAAGkC,MAAMkI,EAAmB,GAAGjI,UAAUvC,OACpE+B,KAAK,KACP,CAACyI,IAEEO,EAA4BtV,mBAAQ,WACxC,GAAK+U,EAAmB,IAAOA,EAAmB,GAIlD,OAAIA,EAAmB,GAAGrI,GAAG,GACpB,IAAI/B,YAAU,GAGhBoK,EAAmB,GAAGvI,IAAIuI,EAAmB,IAAIzI,KAAK,KAC5D,CAACyI,IAEJ,MAAO,CACLA,qBACAG,+BACAE,+BACAC,0BACAC,+B,qBC9FJ3W,EAAOC,QAAU,CAAC,MAAQ,iBAAiB,SAAW,oBAAoB,cAAgB,yBAAyB,eAAiB,4B,maC4BxH2W,E,6gBAAAA,K,kBAAAA,E,uBAAAA,M,KAKZ,IAAMC,EAAY,CAChB,CACEC,GAAIF,EAAarW,QACjB5B,SAAU,WAEZ,CACEmY,GAAIF,EAAaG,UACjBpY,SAAU,cAmKRqY,GAFSC,UAzJG,WAAO,IAAD,QACtB,EAA0BC,cAAlBlP,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAA4B3D,mBAA2B,QAAvD,mBAAOtF,EAAP,KAAemY,EAAf,KACA,EAAkC7S,mBAAuBsS,EAAarW,SAAtE,mBAAO6W,EAAP,KAAkBC,EAAlB,KAEQC,EAAeC,IAAfD,WAEFE,GAAiBF,GAAaA,EAAa,KAE3CG,EAAWpW,mBAAQ,WACvB,cAAO2G,QAAP,IAAOA,OAAP,EAAOA,EAAMwC,QAAO,SAACkN,EAAKnY,GACxB,OAAOmY,EAAI/J,KAAKpO,EAAKoY,IAAIC,gBAAgBjK,KAAKpO,EAAKoY,IAAIE,kBACtD7L,IAAU8L,QACZ,CAAC9P,IAEE+P,EAAqB1W,mBAAQ,WACjC,cAAO2G,QAAP,IAAOA,OAAP,EAAOA,EAAMwC,QAAO,SAACkN,EAAKnY,GACxB,OAAOmY,EAAI/J,KAAKpO,EAAKoY,IAAIK,qBAAqBrK,KAAKpO,EAAKoY,IAAIM,uBAC3DjM,IAAU8L,QACZ,CAAC9P,IAEEkQ,EAAoB7W,mBAAQ,WAChC,cAAO2G,QAAP,IAAOA,OAAP,EAAOA,EAAMwC,QAAO,SAACkN,EAAKnY,GACxB,OAAOmY,EAAI/J,KAAKpO,EAAKoY,IAAIQ,oBAAoBxK,KAAKpO,EAAKoY,IAAIS,sBAC1DpM,IAAU8L,QACZ,CAAC9P,IAEEqQ,EAAiBhX,mBAAQ,WAC7B,cAAO2G,QAAP,IAAOA,OAAP,EAAOA,EAAMwC,QAAO,SAACkN,EAAKnY,GACxB,OAAOmY,EAAI/J,KAAKpO,EAAKoY,IAAIW,iBAAiB3K,KAAKpO,EAAKoY,IAAIY,mBACvDvM,IAAU8L,QACZ,CAAC9P,IAEJ,EAAsC1D,mBAAS,IAA/C,mBAAOkU,EAAP,KAAoBC,EAApB,KAEMvO,EAAU7I,mBACd,iBACE,CACE,CACEzB,KAAM,QACNT,MAAO,QACPwL,aAAc,GACdS,WAAY,WACV,IAAMsN,EAAS,CACb,CACEvY,MAAO,GACPhB,MAAO,eAHI,mBAKVwZ,IAAM,OACP3Q,QADO,IACPA,OADO,EACPA,EAAM/D,KAAI,SAAA1E,GAAI,MAAK,CACjBY,MAAOZ,EAAKqZ,UAAUlI,OACtBvR,MAAOI,EAAKqZ,UAAUlI,WAExB,WAIJ,OAAO,cAAC,IAAD,CAAQrO,QAASqW,EAAWha,UAAU,oBAIrD,CAACsJ,IAGG6Q,EAAcxX,mBAClB,iBAAO,CACLyX,MAAON,KAET,CAACA,IAGGO,EAAQ1X,mBAAQ,WAAO,IAAD,EAC1B,wBACE2G,QADF,IACEA,OADF,EACEA,EAAM8C,QAAO,SAAAkO,GACX,OAAIR,GACKQ,EAASJ,UAAUlI,OAAOuI,gBAAkBT,EAAYS,wBAHrE,QAOQ,KAEP,CAACjR,EAAMwQ,IAEV,OACE,qCACE,sBAAK9Z,UAAU,iDAAf,UACE,sBAAKA,UAAU,YAAY0K,MAAO,CAAE8P,SAAU,SAA9C,UACE,cAAC,IAAD,CAAM5R,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,OAAjE,uBAGA,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,OAAOf,MAAM,UAApC,mBACGkQ,YAAU1B,UADb,QAC0B,SAI5B,sBAAK/Y,UAAU,YAAY0K,MAAO,CAAE8P,SAAU,SAA9C,UACE,cAAC,IAAD,CAAM5R,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,OAAjE,6BAGA,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,OAAOf,MAAM,UAApC,mBACGkQ,YAAUpB,UADb,QACoC,SAItC,sBAAKrZ,UAAU,YAAY0K,MAAO,CAAE8P,SAAU,SAA9C,UACE,cAAC,IAAD,CAAM5R,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,OAAjE,4BAGA,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,OAAOf,MAAM,UAApC,mBACGkQ,YAAUjB,UADb,QACmC,SAIrC,sBAAKxZ,UAAU,YAAY0K,MAAO,CAAE8P,SAAU,SAA9C,UACE,cAAC,IAAD,CAAM5R,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,OAAjE,wBAGA,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,OAAOf,MAAM,UAApC,mBACGkQ,YAAUd,UADb,QACgC,YAIpC,sBAAK3Z,UAAU,0BAAf,UACE,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,OAAvB,mBAGA,sBAAKtL,UAAU,4BAAf,UACE,cAAC,IAAD,CAAoB0a,KAAMvC,EAAWwC,UAAWjC,EAAW7P,QAAS8P,EAAclP,UAAU,YAC3FqP,EAAiB,KAChB,cAAC,IAAD,CACErP,UAAU,YACVmR,KAAiB,UAAXta,EAAqB,YAAc,aACzCua,aAAa,OACbhS,QAAS,kBAAM4P,GAAU,SAAAqC,GAAU,MAAoB,UAAfA,EAAyB,OAAS,YAC1E9a,UAAU,UAGd,cAAC,IAAD,CACEA,UAAU,QACVwL,QAASA,EACT/J,MAAO0Y,EACPtS,SAAU,SAAC2D,GAAD,OAAiCuO,EAAevO,EAAQ4O,gBAIvEtB,GAA6B,UAAXxY,EACjB,cAAC,EAAD,CAAO+Z,MAAOA,EAAO3B,UAAWA,IAEhC,cAAC,EAAD,CAAa2B,MAAOA,EAAO3B,UAAWA,EAAWnP,QAASA,QAOpD,SAAC,GAA6E,IAA3E8Q,EAA0E,EAA1EA,MAAO3B,EAAmE,EAAnEA,UACtB,OACE,qBAAK1Y,UAAWI,IAAE2a,MAAlB,SACGV,EAAM9U,KAAI,SAAgB1E,GACzB,OAAO6X,IAAcR,EAAarW,QAChC,cAAC,EAAD,CAAwChB,KAAMA,GAAxBA,EAAKma,aAE3B,cAAC,EAAD,CAAyCna,KAAMA,GAAxBA,EAAKma,oBAOhCC,EAAkB,SAAC,GAAqC,IAAnCpa,EAAkC,EAAlCA,KACnBqa,EAAkB,IAAI5N,IAAUzM,EAAKsa,MAAMD,iBAC3CE,EAAkB,IAAI9N,IAAUzM,EAAKsa,MAAMC,iBAC3CC,EAAa,IAAI/N,IAAUzM,EAAKsa,MAAMG,oBACtCC,EAAe,IAAIjO,IAAUzM,EAAKsa,MAAMK,wBACxCC,EAAiBL,EAAgBM,GAAG,GACtCR,EAAgB/L,IAAIiM,GAAiB7L,aAAa,IAAIjC,IAAU,GAAGkC,MAAM6L,IAAapM,KAAK,GAC3F,IAAI3B,IAAU,GACZqO,EAAmBP,EAAgBM,GAAG,GAAKR,EAAgB/L,IAAIiM,GAAiBnM,KAAK,GAAK,IAAI3B,IAAU,GAE9G,OACE,cAAC,EAAD,CACEzM,KAAMA,EACN2M,MAAO3M,EAAKsa,MAAM3N,MAClB4N,gBAAiBA,EACjBF,gBAAiBA,EACjBG,WAAYA,EACZE,aAAcA,EACdE,eAAgBA,EAChBE,iBAAkBA,EAClBC,YAAY,KAKZC,EAAmB,SAAC,GAAqC,IAAD,QAAlChb,EAAkC,EAAlCA,KAC1B,EAAiByB,cAAVC,EAAP,oBACQ2C,EAAwBxB,cAAxBwB,oBACR,EAAmF+R,YACjFpW,EAAKma,aADCtD,EAAR,EAAQA,mBAAoBM,EAA5B,EAA4BA,wBAAyBC,EAArD,EAAqDA,0BAI/C6D,EAAqBnZ,mBAAQ,WACjC,OAAOuC,EACLrE,EAAKma,aACL,WACE,OAAO,IAAIzN,IAAmB1M,EAAKma,eAErC,CACEnW,UAAU,WAAD,4BAAE,WAAMnC,GAAN,SAAAqJ,EAAA,6DACTrJ,EAASqZ,aAAaxZ,GADb,SAEHG,EAAST,aAFN,2CAAF,mDAAC,OAMb,CAACpB,IAEJ,OACE,cAAC,EAAD,CACEA,KAAMA,EACN2M,MAAOsO,EAAmBrO,aAAeqO,EAAmBrO,aAAe,OAAItD,EAC/EiR,gBAAe,UAAE1D,EAAmB,UAArB,aAAE,EAAuBjI,UAAU5O,EAAKqZ,UAAU8B,UACjEd,gBAAe,UAAExD,EAAmB,UAArB,aAAE,EAAuBjI,UAAU5O,EAAKqZ,UAAU8B,UACjEX,WAAU,UAAE3D,EAAmB,UAArB,aAAE,EAAuBjI,UAAUvC,KAC7CqO,aAAY,UAAE7D,EAAmB,UAArB,aAAE,EAAuBjI,UAAUvC,KAC/CuO,eAAgBzD,EAChB2D,iBAAkB1D,EAClB2D,YAAU,KAKVK,EAAgB,SAAC,GAoBhB,IAAD,kBAnBJpb,EAmBI,EAnBJA,KACA2M,EAkBI,EAlBJA,MACA4N,EAiBI,EAjBJA,gBACAF,EAgBI,EAhBJA,gBACAG,EAeI,EAfJA,WACAE,EAcI,EAdJA,aACAE,EAaI,EAbJA,eACAE,EAYI,EAZJA,iBACAC,EAWI,EAXJA,WAYMM,EAAWC,cACjB,EAA+BC,cAAvBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SACZpC,EAAYmC,EAASxb,EAAKqZ,UAAUlI,QACpCuK,EAAcD,EAASzb,EAAK2b,mBAE5BC,EACJlB,GAAY,OAAIrB,QAAJ,IAAIA,KAAWvH,OAA3B,OAAoC4J,QAApC,IAAoCA,KAAa5J,MAAjD,UACIuH,EAAUvH,aADd,iBACI,EAAiBpD,aAAa,IAAIjC,IAAU,GAAGkC,MAAM+L,WADzD,aACI,EAAqEmB,UAAUH,EAAY5J,YAC3FxI,EAEAwS,EACK,OAATzC,QAAS,IAATA,KAAWvH,OAAX,OAAoB4J,QAApB,IAAoBA,KAAa5J,MAAjC,UAAyCuH,EAAUvH,aAAnD,aAAyC,EAAiB+J,UAAUH,EAAY5J,YAASxI,EAE3F,OACE,0BACEnK,UAAW6J,IAAWzJ,IAAEwc,SAAU,QAClClS,MACIkR,EAEE,GADA,CAAE,wBAA0B/a,EAAK8M,cAAgBgE,YAAc9Q,IAASA,EAAK8M,cAAiB,KAJtG,UAOE,yBAAQ3N,UAAU,sCAAlB,UACE,cAAC,IAAD,CAAWkB,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAMzZ,KAAM,GAAI0b,YAAW,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAM5a,UAAU,UACtF,gCACE,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,WAAWf,MAAM,UAAUuS,IAAI,KAAK9c,UAAU,OAArE,SACGa,EAAKkc,WAER,eAAC,IAAD,CAAMnU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,MAAMuS,IAAI,QAArD,0BACStP,QADT,IACSA,IAAS,WAGlBoO,GACA,sBAAK5b,UAAU,UAAU0K,MAAO,CAAEsS,UAAW,SAA7C,UACE,cAAC,IAAD,CAAMpU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYuS,IAAI,QAAQ9c,UAAU,OAA7E,2BAGA,cAAC,IAAD,CAAa6G,MAAO,IAApB,SACG,kBACC,cAAC,IAAD,CAAM+B,KAAK,KAAK0C,OAAO,WAAvB,SACG2R,YAAqBtL,YAAc9Q,eAOhD,+BACE,sBAAKb,UAAW6J,IAAWzJ,IAAE8c,cAAe,SAA5C,UACE,cAAC,IAAD,CAAMtU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,8BAA8B8c,IAAI,KAAnG,oCAGA,qBAAI9c,UAAU,oBAAd,UACE,cAAC,IAAD,CACE4I,KAAK,KACL0C,OAAO,WACP6R,QACE,eAAC,IAAD,CAAMvU,KAAK,KAAK2B,MAAM,UAAUvK,UAAU,0BAA1C,UACE,+BACGod,YAAYlC,EAAiB,CAC5BmC,UAAWxc,EAAKqZ,UAAUlI,OAC1BgK,SAAUnb,EAAKqZ,UAAU8B,aAG7B,+BAAOvB,YAAS,UAACnN,IAAUhI,KAAK4V,UAAhB,aAAC,EAAiC3L,aAAjC,iBAA8C2K,QAA9C,IAA8CA,OAA9C,EAA8CA,EAAWvH,aAAzD,QAAkE,SAXzF,SAcGyK,YAAYlC,EAAiB,CAAEoC,SAAS,MAE3C,cAAC,IAAD,CAAWpc,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAM5a,UAAU,eAGhD,sBAAKA,UAAW6J,IAAWzJ,IAAE8c,cAAe,SAA5C,UACE,eAAC,IAAD,CAAMtU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,8BAA8B8c,IAAI,KAAnG,iCAEE,cAAC,IAAD,qHAIF,6BACE,cAAC,IAAD,CAAMlU,KAAK,KAAK0C,OAAO,WAAWf,MAAM,QAAxC,SACGgT,YAAclC,UAIrB,sBAAKrb,UAAW6J,IAAWzJ,IAAE8c,cAAe,SAA5C,UACE,eAAC,IAAD,CAAMtU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,8BAA8B8c,IAAI,KAAnG,qCAEE,cAAC,IAAD,oFAEF,6BACE,cAAC,IAAD,CAAMlU,KAAK,KAAK0C,OAAO,WAAWf,MAAM,QAAxC,SACGgT,YAAchC,UAIrB,oBAAIvb,UAAU,UACd,sBAAKA,UAAW6J,IAAWzJ,IAAE8c,cAAe,SAA5C,UACE,cAAC,IAAD,CAAMtU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,8BAA8B8c,IAAI,KAAnG,oCAGA,qBAAI9c,UAAU,oBAAd,UACE,cAAC,IAAD,CACE4I,KAAK,KACL0C,OAAO,WACP6R,QACE,eAAC,IAAD,CAAMvU,KAAK,KAAK2B,MAAM,UAAUvK,UAAU,0BAA1C,UACE,+BACGod,YAAYhC,EAAiB,CAC5BiC,UAAWxc,EAAKqZ,UAAUlI,OAC1BgK,SAAUnb,EAAKqZ,UAAU8B,aAG7B,+BAAOvB,YAAS,UAACnN,IAAUhI,KAAK8V,UAAhB,aAAC,EAAiC7L,aAAjC,iBAA8C2K,QAA9C,IAA8CA,OAA9C,EAA8CA,EAAWvH,aAAzD,QAAkE,SAXzF,SAcGyK,YAAYhC,EAAiB,CAAEkC,SAAS,MAE3C,cAAC,IAAD,CAAWpc,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAM5a,UAAU,eAGhD,sBAAKA,UAAW6J,IAAWzJ,IAAE8c,cAAe,SAA5C,UACE,eAAC,IAAD,CAAMtU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,8BAA8B8c,IAAI,KAAnG,4BAEE,cAAC,IAAD,gFAEF,6BACE,cAAC,IAAD,CAAMlU,KAAK,KAAK0C,OAAO,WAAWf,MAAM,SAAxC,SACGkR,EAAc,UAAM+B,YAAa/B,GAAnB,gBAIrB,sBAAKzb,UAAW6J,IAAWzJ,IAAE8c,cAAe,SAA5C,UACE,eAAC,IAAD,CAAMtU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,8BAA8B8c,IAAI,KAAnG,8BAEE,eAAC,IAAD,kEACmDjc,EAAKqZ,UAAUlI,OADlE,mDAEE,uBAFF,oIAKE,uBALF,6BAMyBnR,EAAKqZ,UAAUlI,OANxC,kFASF,+BACE,cAAC,IAAD,CACEpJ,KAAK,KACL0C,OAAO,WACPf,MAAM,SACN4S,QAAO,+DACLtc,EAAKqZ,UAAUlI,OADV,8BAEeoL,YAAYX,EAA4B,CAC5DY,UAAS,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAavK,SAHnB,0FAKPhS,UAAU,OATZ,SAUG2b,EAAgB,gBAAO6B,YAAa7B,GAApB,WAEnB,sBAAK3b,UAAU,gCAAf,UACE,cAAC,IAAD,CAAM4I,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAA3C,mBACG6S,YAAYX,UADf,QAC8C,MAE9C,cAAC,IAAD,CAAWvb,KAAI,OAAEqb,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAMzZ,KAAM,GAAInB,UAAU,kBAI9D,oBAAIA,UAAU,UACd,sBAAKA,UAAW6J,IAAWzJ,IAAE8c,cAAe,SAA5C,UACE,eAAC,IAAD,CAAMtU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAAYvK,UAAU,8BAA8B8c,IAAI,KAAnG,iBACG5C,QADH,IACGA,OADH,EACGA,EAAWlI,OADd,oBAGA,qBAAIhS,UAAU,gCAAd,UACE,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,WAAWf,MAAM,UAAxC,mBACG6S,YAAYT,UADf,QACsC,MAEtC,cAAC,IAAD,CAAWzb,KAAI,OAAEqb,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAMzZ,KAAM,GAAInB,UAAU,kBAI9D,wBAAQA,UAAWI,IAAEqd,eAArB,SACE,cAAC,IAAD,CAAMhU,UAAU,QAAQ0B,GAAE,UAAK+Q,EAASwB,SAAd,YAA0B7c,EAAKma,aAAzD,gCAmfR,IAAM2C,EAAc,SAAC,GAQd,IAPLtD,EAOI,EAPJA,MACA3B,EAMI,EANJA,UACAnP,EAKI,EALJA,QAMM2S,EAAWC,cAEX9S,EAAU1G,mBAAQ,kBAtf1B,SAAoB+V,GAClB,OAAIA,IAAcR,EAAarW,QACtB,CACL,CACEqI,QAAS,cACTI,OAAQ,SAAgBzJ,GACtB,MAA+Bub,cAAvBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SAEZpC,EAAYmC,EAASxb,EAAKqZ,UAAUlI,QACpCuK,EAAcD,EAASzb,EAAK2b,mBAClC,OACE,sBAAKxc,UAAU,oBAAf,UACE,cAAC,IAAD,CAAWkB,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAMzZ,KAAM,GAAI0b,YAAW,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAM5a,UAAU,UACtF,gCACE,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,WAAWf,MAAM,UAAUuS,IAAI,KAAK9c,UAAU,OAArE,SACGa,EAAKkc,WAER,eAAC,IAAD,CAAMnU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,MAAMuS,IAAI,QAArD,mBACSjc,EAAKsa,MAAM3N,iBAO9B,CACEtD,QAAS,gBACTI,OAAQ,SAAAzJ,GACN,OACE,cAAC,IAAD,CAAagG,MAAO,IAApB,SACG,WACC,IAAM+W,EAAMjM,YAAc9Q,GAE1B,OACE,cAAC,IAAD,CAAM+H,KAAK,KAAK0C,OAAO,WAAvB,SACG2R,YAAqBW,OAAKzT,EAAW,CACpC0T,OAAQ,CAAC,SAAU,OAAQ,QAAS,oBASpD,CACE3T,QAAS,yBACTI,OAAQ,SAAgBzJ,GAAO,IAAD,IAEtBqZ,GAAYmC,EADGD,cAAbC,UACmBxb,EAAKqZ,UAAUlI,QAE1C,OACE,sBAAKhS,UAAU,gCAAf,UACE,cAAC,IAAD,CACE4I,KAAK,KACL0C,OAAO,WACP6R,QACE,eAAC,IAAD,CAAMvU,KAAK,KAAK2B,MAAM,UAAUvK,UAAU,0BAA1C,UACE,+BACGod,YAAYvc,EAAKsa,MAAMD,gBAAiB,CACvCmC,UAAWxc,EAAKqZ,UAAUlI,OAC1BgK,SAAUnb,EAAKqZ,UAAU8B,aAG7B,+BACGvB,YAAS,UAACnN,IAAUhI,KAAKzE,EAAKsa,MAAMD,wBAA3B,aAAC,EAA4C3L,aAA5C,iBAAyD2K,QAAzD,IAAyDA,OAAzD,EAAyDA,EAAWvH,aAApE,QAA6E,SAZhG,SAgBGyK,YAAYvc,EAAKsa,MAAMD,gBAAiB,CAAEoC,SAAS,MAEtD,cAAC,IAAD,CAAWpc,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAM5a,UAAU,cAKpD,CACEkK,QACE,sBAAKlK,UAAU,gCAAf,mBAEE,uBAFF,gBAGgB,IACd,cAAC,IAAD,CAAaA,UAAU,OAAvB,oHAKJgB,MAAO,QACPsJ,OAAQ,SAAAzJ,GACN,OACE,cAAC,IAAD,CAAM+H,KAAK,KAAK0C,OAAO,WAAWf,MAAM,QAAxC,SACGgT,YAAc1N,OAAOhP,EAAKsa,MAAMG,yBAKzC,CACEpR,QACE,sBAAKlK,UAAU,gCAAf,qBAEE,uBAFF,kBAGkB,IAChB,cAAC,IAAD,CAAaA,UAAU,OAAvB,mFAKJgB,MAAO,QACPsJ,OAAQ,SAAAzJ,GACN,OACE,cAAC,IAAD,CAAM+H,KAAK,KAAK0C,OAAO,WAAWf,MAAM,QAAxC,SACGgT,YAAc1N,OAAOhP,EAAKsa,MAAMK,6BAKzC,CACEtR,QAAS,yBACTlJ,MAAO,QACPsJ,OAAQ,SAAgBzJ,GAAO,IAAD,IAEtBqZ,GAAYmC,EADGD,cAAbC,UACmBxb,EAAKqZ,UAAUlI,QAE1C,OACE,sBAAKhS,UAAU,gCAAf,UACE,cAAC,IAAD,CACE4I,KAAK,KACL0C,OAAO,WACP6R,QACE,eAAC,IAAD,CAAMvU,KAAK,KAAK2B,MAAM,UAAUvK,UAAU,0BAA1C,UACE,+BACGod,YAAYvc,EAAKsa,MAAMC,gBAAiB,CACvCiC,UAAWxc,EAAKqZ,UAAUlI,OAC1BgK,SAAUnb,EAAKqZ,UAAU8B,aAG7B,+BACGvB,YAAS,UAACnN,IAAUhI,KAAKzE,EAAKsa,MAAMC,wBAA3B,aAAC,EAA4C7L,aAA5C,iBAAyD2K,QAAzD,IAAyDA,OAAzD,EAAyDA,EAAWvH,aAApE,QAA6E,SAZhG,SAgBGyK,YAAYvc,EAAKsa,MAAMC,gBAAiB,CAAEkC,SAAS,MAEtD,cAAC,IAAD,CAAWpc,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAM5a,UAAU,cAKpD,CACEkK,QACE,sBAAKlK,UAAU,gCAAf,mBAEE,uBAFF,WAGW,IACT,cAAC,IAAD,CAAaA,UAAU,OAAvB,+EAGJgB,MAAO,QACPsJ,OAAQ,SAAAzJ,GACN,IAAMqa,EAAkB,IAAI5N,IAAUzM,EAAKsa,MAAMD,iBAC3CE,EAAkB,IAAI9N,IAAUzM,EAAKsa,MAAMC,iBAC3C0C,EAAW,IAAIxQ,IAAUzM,EAAKsa,MAAMG,oBACpCG,EAAiBL,EAAgBM,GAAG,GACtCR,EAAgB/L,IAAIiM,GAAiB7L,aAAa,IAAIjC,IAAU,GAAGkC,MAAMsO,IAAW7O,KAAK,GACzF,IAAI3B,IAAU,GAElB,OACE,cAAC,IAAD,CAAM1E,KAAK,KAAK0C,OAAO,WAAWf,MAAM,SAAxC,SACGkR,EAAc,UAAM+B,YAAa/B,GAAnB,aAKvB,CACEvR,QACE,sBAAKlK,UAAU,gCAAf,qBAEE,uBAFF,WAGW,IACT,eAAC,IAAD,CAAaA,UAAU,OAAvB,yHAGE,uBAHF,oIAME,uBANF,oHAYJgB,MAAO,QACPsJ,OAAQ,SAAgBzJ,GAAO,IAAD,MACtBqa,EAAkB,IAAI5N,IAAUzM,EAAKsa,MAAMD,iBAC3CE,EAAkB,IAAI9N,IAAUzM,EAAKsa,MAAMC,iBAC3CO,EAAmBP,EAAgBM,GAAG,GACxCR,EAAgB/L,IAAIiM,GAAiBnM,KAAK,GAC1C,IAAI3B,IAAU,GAElB,EAA+B8O,cAAvBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SACZpC,EAAYmC,EAASxb,EAAKqZ,UAAUlI,QACpCuK,EAAcD,EAASzb,EAAK2b,mBAE5BC,EACK,OAATvC,QAAS,IAATA,KAAWvH,OAAX,OAAoB4J,QAApB,IAAoBA,KAAa5J,MAAjC,UACIuH,EAAUvH,aADd,iBACI,EACIpD,aAAa,IAAIjC,IAAU,GAAGkC,MAAMK,OAAOhP,EAAKsa,MAAMK,iCAF9D,aACI,EAEIkB,UAAUH,EAAY5J,YAC1BxI,EAEN,OACE,qCACE,cAAC,IAAD,CACEvB,KAAK,KACL0C,OAAO,WACPf,MAAM,SACN4S,QAAO,+DACLtc,EAAKqZ,UAAUlI,OADV,8BAEeoL,YAAYX,EAA4B,CAC5DY,UAAS,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAavK,SAHnB,0FAKPhS,UAAU,OATZ,SAUG2b,EAAgB,gBAAO6B,YAAa7B,GAApB,WAGnB,sBAAK3b,UAAU,gCAAf,UACE,cAAC,IAAD,CAAM4I,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAA3C,mBACG6S,YAAYX,UADf,QAC8C,MAE9C,cAAC,IAAD,CAAWvb,KAAI,OAAEqb,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAMzZ,KAAM,GAAInB,UAAU,iBAMlE,CACEkK,QAAS,2BACTlJ,MAAO,QACPsJ,OAAQ,SAAgBzJ,GAAO,IAAD,IAC5B,EAA+Bub,cAAvBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SACZpC,EAAYmC,EAASxb,EAAKqZ,UAAUlI,QACpCuK,EAAcD,EAASzb,EAAK2b,mBAE5BG,EACK,OAATzC,QAAS,IAATA,KAAWvH,OAAX,OAAoB4J,QAApB,IAAoBA,KAAa5J,MAAjC,UAAyCuH,EAAUvH,aAAnD,aAAyC,EAAiB+J,UAAUH,EAAY5J,YAASxI,EAE3F,OACE,sBAAKnK,UAAU,gCAAf,UACE,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,WAAWf,MAAM,UAAxC,mBACG6S,YAAYT,UADf,QACsC,MAEtC,cAAC,IAAD,CAAWzb,KAAI,OAAEqb,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAMzZ,KAAM,GAAInB,UAAU,eAQ7D,CACL,CACEkK,QAAS,cACTI,OAAQ,SAAgBzJ,GACtB,MAA+Bub,cAAvBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SAEZpC,EAAYmC,EAASxb,EAAKqZ,UAAUlI,QACpCuK,EAAcD,EAASzb,EAAK2b,mBAClC,OACE,sBAAKxc,UAAU,oBAAf,UACE,cAAC,IAAD,CAAWkB,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAMzZ,KAAM,GAAI0b,YAAW,OAAEN,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAM5a,UAAU,UACtF,gCACE,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,WAAWf,MAAM,UAAUuS,IAAI,KAAK9c,UAAU,OAArE,SACGa,EAAKkc,WAER,eAAC,IAAD,CAAMnU,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,MAAMuS,IAAI,QAArD,mBACSjc,EAAKsa,MAAM3N,iBAO9B,CACEtD,QAAS,yBACTI,OAAQ,SAAgBzJ,GAAO,IAAD,MAEtBqZ,GAAYmC,EADGD,cAAbC,UACmBxb,EAAKqZ,UAAUlI,QAGpCkJ,EAAe,UADUjE,YAAqBpW,EAAKma,aAAjDtD,mBACmC,UAAtB,aAAG,EAAuBjI,UAAU5O,EAAKqZ,UAAU8B,UAExE,OACE,sBAAKhc,UAAU,gCAAf,UACE,cAAC,IAAD,CACE4I,KAAK,KACL0C,OAAO,WACP6R,QACE,eAAC,IAAD,CAAMvU,KAAK,KAAK2B,MAAM,UAAUvK,UAAU,0BAA1C,UACE,+BACGod,YAAYlC,EAAiB,CAC5BmC,UAAWxc,EAAKqZ,UAAUlI,OAC1BgK,SAAUnb,EAAKqZ,UAAU8B,aAG7B,+BAAOvB,YAAS,UAACnN,IAAUhI,KAAK4V,UAAhB,aAAC,EAAiC3L,aAAjC,iBAA8C2K,QAA9C,IAA8CA,OAA9C,EAA8CA,EAAWvH,aAAzD,QAAkE,SAXzF,SAcGyK,YAAYlC,EAAiB,CAAEoC,SAAS,MAE3C,cAAC,IAAD,CAAWpc,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAM5a,UAAU,cAKpD,CACEkK,QACE,sBAAKlK,UAAU,gCAAf,mBAEE,uBAFF,gBAGgB,IACd,cAAC,IAAD,CAAaA,UAAU,OAAvB,oHAKJgB,MAAO,QACPsJ,OAAQ,SAAgBzJ,GAAO,IAAD,EAEtBwa,EAAU,UADepE,YAAqBpW,EAAKma,aAAjDtD,mBAC8B,UAAtB,aAAG,EAAuBjI,UAAUvC,KAEpD,OACE,cAAC,IAAD,CAAMtE,KAAK,KAAK0C,OAAO,WAAWf,MAAM,QAAxC,SACGgT,YAAclC,OAKvB,CACEnR,QACE,sBAAKlK,UAAU,gCAAf,qBAEE,uBAFF,kBAGkB,IAChB,cAAC,IAAD,CAAaA,UAAU,OAAvB,mFAGJgB,MAAO,QACPsJ,OAAQ,SAAgBzJ,GAAO,IAAD,EAGtB0a,EAAY,UAFatE,YAAqBpW,EAAKma,aAAjDtD,mBAEgC,UAAtB,aAAG,EAAuBjI,UAAUvC,KAEtD,OACE,cAAC,IAAD,CAAMtE,KAAK,KAAK0C,OAAO,WAAWf,MAAM,QAAxC,SACGgT,YAAchC,OAKvB,CACErR,QAAS,yBACTlJ,MAAO,QACPsJ,OAAQ,SAAgBzJ,GAAO,IAAD,MAEtBqZ,GAAYmC,EADGD,cAAbC,UACmBxb,EAAKqZ,UAAUlI,QAEpCoJ,EAAe,UADUnE,YAAqBpW,EAAKma,aAAjDtD,mBACmC,UAAtB,aAAG,EAAuBjI,UAAU5O,EAAKqZ,UAAU8B,UAExE,OACE,sBAAKhc,UAAU,gCAAf,UACE,cAAC,IAAD,CACE4I,KAAK,KACL0C,OAAO,WACP6R,QACE,eAAC,IAAD,CAAMvU,KAAK,KAAK2B,MAAM,UAAUvK,UAAU,0BAA1C,UACE,+BACGod,YAAYhC,EAAiB,CAC5BiC,UAAWxc,EAAKqZ,UAAUlI,OAC1BgK,SAAUnb,EAAKqZ,UAAU8B,aAG7B,+BAAOvB,YAAS,UAACnN,IAAUhI,KAAK8V,UAAhB,aAAC,EAAiC7L,aAAjC,iBAA8C2K,QAA9C,IAA8CA,OAA9C,EAA8CA,EAAWvH,aAAzD,QAAkE,SAXzF,SAcGyK,YAAYhC,EAAiB,CAAEkC,SAAS,MAE3C,cAAC,IAAD,CAAWpc,KAAI,OAAEgZ,QAAF,IAAEA,OAAF,EAAEA,EAAWU,KAAM5a,UAAU,cAKpD,CACEkK,QACE,sBAAKlK,UAAU,gCAAf,mBAEE,uBAFF,WAGW,IACT,cAAC,IAAD,CAAaA,UAAU,OAAvB,+EAGJgB,MAAO,QACPsJ,OAAQ,SAAgBzJ,GACtB,IAAQmX,EAA4Bf,YAAqBpW,EAAKma,aAAtDhD,wBAER,OACE,cAAC,IAAD,CAAMpP,KAAK,KAAK0C,OAAO,WAAWf,MAAM,SAAxC,SACGyN,EAAuB,UAAMwF,YAAaxF,GAAnB,aAKhC,CACE9N,QACE,sBAAKlK,UAAU,gCAAf,qBAEE,uBAFF,WAGW,IACT,eAAC,IAAD,CAAaA,UAAU,OAAvB,yHAEE,uBAFF,oIAKE,uBALF,oHAUJgB,MAAO,QACPsJ,OAAQ,SAAgBzJ,GAAO,IAAD,QAC5B,EAA+Bub,cAAvBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SAClB,EAA0DrF,YAAqBpW,EAAKma,aAA5EtD,EAAR,EAAQA,mBAAoBO,EAA5B,EAA4BA,0BAEtBiC,EAAYmC,EAASxb,EAAKqZ,UAAUlI,QACpCuK,EAAcD,EAASzb,EAAK2b,mBAE5BjB,EAAY,UAAG7D,EAAmB,UAAtB,aAAG,EAAuBjI,UAAUvC,KAEhDuP,EACJlB,GAAY,OAAIrB,QAAJ,IAAIA,KAAWvH,OAA3B,OAAoC4J,QAApC,IAAoCA,KAAa5J,MAAjD,UACIuH,EAAUvH,aADd,iBACI,EAAiBpD,aAAa,IAAIjC,IAAU,GAAGkC,MAAM+L,WADzD,aACI,EAAqEmB,UAAUH,EAAY5J,YAC3FxI,EAEN,OACE,qCACE,cAAC,IAAD,CACEvB,KAAK,KACL0C,OAAO,WACPf,MAAM,SACN4S,QAAO,+DACLtc,EAAKqZ,UAAUlI,OADV,8BAEeoL,YAAYX,EAA4B,CAC5DY,UAAS,OAAEd,QAAF,IAAEA,OAAF,EAAEA,EAAavK,SAHnB,0FAKPhS,UAAU,OATZ,SAUGiY,EAAyB,gBAAOuF,YAAavF,GAApB,WAG5B,sBAAKjY,UAAU,gCAAf,UACE,cAAC,IAAD,CAAM4I,KAAK,QAAQ0C,OAAO,WAAWf,MAAM,YAA3C,mBACG6S,YAAYX,UADf,QAC8C,MAE9C,cAAC,IAAD,CAAWvb,KAAI,OAAEqb,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAMzZ,KAAM,GAAInB,UAAU,iBAMlE,CACEkK,QAAS,2BACTlJ,MAAO,QACPsJ,OAAQ,SAAgBzJ,GAAO,IAAD,IAC5B,EAA+Bub,cAAvBC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,SACZpC,EAAYmC,EAASxb,EAAKqZ,UAAUlI,QACpCuK,EAAcD,EAASzb,EAAK2b,mBAE5BG,EACK,OAATzC,QAAS,IAATA,KAAWvH,OAAX,OAAoB4J,QAApB,IAAoBA,KAAa5J,MAAjC,UAAyCuH,EAAUvH,aAAnD,aAAyC,EAAiB+J,UAAUH,EAAY5J,YAASxI,EAE3F,OACE,sBAAKnK,UAAU,gCAAf,UACE,cAAC,IAAD,CAAM4I,KAAK,KAAK0C,OAAO,WAAWf,MAAM,UAAxC,mBACG6S,YAAYT,UADf,QACsC,MAEtC,cAAC,IAAD,CAAWzb,KAAI,OAAEqb,QAAF,IAAEA,OAAF,EAAEA,EAAa3B,KAAMzZ,KAAM,GAAInB,UAAU,eAmBpC+d,CAAWrF,KAAY,CAACA,IAEtD,OACE,cAAC,IAAD,CACErP,QAASA,EACTC,KAAM+Q,EACN5Q,UAAU,YACVC,KAAM,SAAA7I,GAAI,gBAAOqb,EAASwB,SAAhB,YAA4B7c,EAAKma,cAC3CzR,QAASA","file":"static/js/sa-pools-view.ece819d1.chunk.js","sourcesContent":["import React from 'react';\nimport AntdForm, {\n  FormItemProps as AntdFormItemProps,\n  FormListProps as AntdFormListProps,\n  FormProps as AntdFormProps,\n} from 'antd/lib/form';\nimport cn from 'classnames';\n\nimport { Icon } from 'components/icon';\n\nimport Grid from '../../custom/grid';\nimport Tooltip from '../tooltip';\n\nimport s from './s.module.scss';\n\nexport type FormListProps = AntdFormListProps;\n\nconst FormList: React.FC<FormListProps> = props => {\n  const { children, ...listProps } = props;\n\n  return <AntdForm.List {...listProps}>{children}</AntdForm.List>;\n};\n\nexport type FormItemProps = AntdFormItemProps<any> & {\n  hint?: string;\n};\n\nconst FormItem: React.FC<FormItemProps> = props => {\n  const { className, label, hint, extra, children, ...itemProps } = props;\n\n  return (\n    <AntdForm.Item\n      className={cn(s.item, className)}\n      {...itemProps}\n      label={\n        <>\n          <Grid flow=\"col\" gap={4} align=\"center\">\n            {label}\n            {hint && (\n              <Tooltip title={hint}>\n                <span>\n                  <Icon name=\"info\" size={15} />\n                </span>\n              </Tooltip>\n            )}\n          </Grid>\n          {extra}\n        </>\n      }>\n      {children}\n    </AntdForm.Item>\n  );\n};\n\nexport type FormProps = AntdFormProps;\n\nconst Form: React.FC<FormProps> = props => {\n  const { className, children, ...formProps } = props;\n\n  return (\n    <AntdForm className={cn(s.form, className)} layout=\"vertical\" requiredMark={false} {...formProps}>\n      {children}\n    </AntdForm>\n  );\n};\n\nexport type StaticFormProps = {\n  Item: React.FC<FormItemProps>;\n  List: React.FC<FormListProps>;\n};\n\n(Form as any as StaticFormProps).Item = FormItem;\n(Form as any as StaticFormProps).List = FormList;\n\nexport default Form as React.FC<FormProps> & StaticFormProps;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"s_form__36nMg\",\"item\":\"s_item__2gbuN\"};","import React, { ReactElement, useCallback, useEffect, useMemo, useRef } from 'react';\nimport useDebounce from '@rooks/use-debounce';\nimport isEqual from 'lodash/isEqual';\nimport ContractListener from 'web3/components/contract-listener';\nimport Erc20Contract from 'web3/erc20Contract';\nimport Web3Contract from 'web3/web3Contract';\n\nimport { useWeb3 } from 'components/providers/web3Provider';\nimport { useWallet } from 'wallets/walletProvider';\n\nimport { useContractManager } from '../web3/components/contractManagerProvider';\nimport { useReload } from './useReload';\n\nfunction useDeepCompareMemoize(value: any): typeof value {\n  const ref = useRef();\n\n  if (!isEqual(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n\nexport const useContract = (\n  address: string | undefined,\n  {\n    loadBalance,\n    loadCommon,\n    loadAllowance,\n  }: { loadBalance?: boolean; loadCommon?: boolean; loadAllowance?: string[] } = {},\n): Erc20Contract | null => {\n  const { provider, account } = useWallet();\n  const [reload] = useReload();\n  const { getContract } = useContractManager();\n\n  const contract = useMemo(() => {\n    if (!address) {\n      return null;\n    }\n\n    const contract: Erc20Contract = getContract<Erc20Contract>(address, () => {\n      return new Erc20Contract([], address);\n    }); // (getTokenByAddress(address)?.contract as Erc20Contract) ?? new Erc20Contract([], address);\n    contract.on(Web3Contract.UPDATE_DATA, reload);\n\n    return contract;\n  }, [address, provider, reload]);\n\n  useEffect(() => {\n    if (contract && loadBalance) {\n      contract.setAccount(account);\n      contract.loadBalance();\n    }\n  }, [contract, loadBalance, account]);\n\n  useEffect(() => {\n    if (contract && loadCommon) {\n      contract\n        .loadCommon()\n        .then(() => reload())\n        .catch(Error);\n    }\n  }, [contract, loadCommon, reload]);\n\n  const memoisedAllowance = useDeepCompareMemoize(loadAllowance);\n\n  useEffect(() => {\n    if (contract && memoisedAllowance) {\n      if (Array.isArray(memoisedAllowance)) {\n        memoisedAllowance.forEach(i => contract.loadAllowance(i));\n      } else {\n        contract.loadAllowance(memoisedAllowance);\n      }\n    }\n  }, [contract, memoisedAllowance]);\n\n  return contract;\n};\n\nexport type UseContractOptions<T extends Web3Contract> = {\n  afterInit?: (contract: T) => void;\n  onDestroy?: (contract: T) => void;\n};\n\nexport type UseContractFactoryType = {\n  getOrCreateContract<T extends Web3Contract>(address: string, factory?: () => T, options?: UseContractOptions<T>): T;\n  getContract<T extends Web3Contract>(address: string): T | undefined;\n  Listeners: ReactElement | null;\n};\n\ntype CachedContractType = {\n  address: string;\n  factory: () => Web3Contract;\n  options?: UseContractOptions<Web3Contract>;\n  instance: Web3Contract;\n};\n\nexport type UseContractFactoryOptions = {\n  listeners?: boolean;\n};\n\nexport function useContractFactory(options?: UseContractFactoryOptions): UseContractFactoryType {\n  const { listeners = true } = options ?? {};\n  const { account, provider: walletProvider } = useWallet();\n  const { activeProvider } = useWeb3();\n  const [reload, version] = useReload();\n\n  const activeProviderRef = useRef(activeProvider);\n  const walletProviderRef = useRef(walletProvider);\n  const accountRef = useRef(account);\n\n  const contractsRef = useRef<Map<string, CachedContractType>>(new Map());\n\n  const createContract = useCallback(\n    (address: string, factory: () => Web3Contract, options?: UseContractOptions<Web3Contract>): Web3Contract => {\n      const contract = factory();\n      contract.setCallProvider(activeProviderRef.current);\n      contract.setProvider(walletProviderRef.current);\n      contract.setAccount(accountRef.current);\n\n      contractsRef.current.set(address, {\n        address,\n        factory,\n        options,\n        instance: contract,\n      });\n\n      options?.afterInit?.(contract);\n      reload();\n\n      return contract;\n    },\n    [activeProvider, account, reload],\n  );\n\n  const updateContracts = useDebounce(() => {\n    contractsRef.current.forEach(meta => {\n      meta.options?.onDestroy?.(meta.instance);\n      createContract(meta.address, () => meta.instance, meta.options);\n    });\n  }, 250);\n\n  if (activeProviderRef.current !== activeProvider) {\n    activeProviderRef.current = activeProvider;\n    updateContracts();\n  }\n\n  if (walletProviderRef.current !== walletProvider) {\n    walletProviderRef.current = walletProvider;\n    updateContracts();\n  }\n\n  if (accountRef.current !== account) {\n    accountRef.current = account;\n    updateContracts();\n  }\n\n  const getOrCreateContract = useCallback(\n    (address: string, factory: () => Web3Contract, options?: UseContractOptions<Web3Contract>): Web3Contract => {\n      let contract: Web3Contract;\n\n      if (contractsRef.current.has(address)) {\n        contract = contractsRef.current.get(address)!.instance;\n      } else {\n        contract = createContract(address, factory, options);\n      }\n\n      return contract;\n    },\n    [createContract],\n  );\n\n  const getContract = useCallback(\n    (address: string): Web3Contract | undefined => {\n      if (!contractsRef.current.has(address)) {\n        return undefined;\n      }\n\n      return contractsRef.current.get(address)!.instance;\n    },\n    [createContract],\n  );\n\n  const Listeners = useMemo(\n    () =>\n      listeners ? (\n        <>\n          {Array.from(contractsRef.current).map(([key, value]) => (\n            <ContractListener key={key} contract={value.instance} />\n          ))}\n        </>\n      ) : null,\n    [version, listeners],\n  );\n\n  return {\n    getOrCreateContract: getOrCreateContract as any,\n    getContract: getContract as any,\n    Listeners,\n  };\n}\n\nexport function useWeb3Contract<T extends Web3Contract>(factory: () => T, options?: UseContractOptions<T>): T {\n  return useContractFactory({ listeners: false }).getOrCreateContract<T>('$address', factory, options);\n}\n","import React, { FC, ReactNode, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport useInterval from '@rooks/use-interval';\n\nimport { useGeneral } from 'components/providers/generalProvider';\nimport { useReload } from 'hooks/useReload';\n\nexport type UseLeftTimeOptions = {\n  end?: number | Date;\n  delay?: number;\n  onStart?: (left: number) => void;\n  onStop?: (left: number) => void;\n  onTick?: (left: number) => void;\n  onEnd?: () => void;\n};\n\nexport type UseLeftTimeReturn = {\n  isStarted: boolean;\n  isRunning: boolean;\n  start: () => void;\n  stop: () => void;\n  pause: () => void;\n  resume: () => void;\n};\n\nexport function useLeftTime(options: UseLeftTimeOptions): UseLeftTimeReturn {\n  const optsRef = useRef(options);\n  optsRef.current = options;\n\n  const [isStarted, setStarted] = useState(false);\n  const [isRunning, setRunning] = useState(false);\n\n  const getLeftTime = useCallback(() => {\n    if (!optsRef.current.end) {\n      return undefined;\n    }\n\n    return Math.max(optsRef.current.end.valueOf() - Date.now(), 0);\n  }, []);\n\n  const [startInterval, stopInterval] = useInterval(\n    () => {\n      const leftTime = getLeftTime();\n      optsRef.current.onTick?.(leftTime ?? 0);\n\n      if (leftTime === 0) {\n        setStarted(false);\n        stopInterval();\n        optsRef.current.onEnd?.();\n      }\n    },\n    options.delay ?? 1_000,\n    false,\n  );\n\n  useEffect(() => {\n    if (!options.end || Date.now() < options.end) {\n      setStarted(true);\n      startInterval();\n      optsRef.current.onStart?.(getLeftTime() ?? 0);\n    }\n\n    return () => {\n      setStarted(false);\n      stopInterval();\n    };\n  }, [options.end]);\n\n  return useMemo(() => {\n    return {\n      isStarted,\n      isRunning,\n      start: () => {\n        setStarted(true);\n        setRunning(true);\n        startInterval();\n        optsRef.current.onStart?.(getLeftTime() ?? 0);\n      },\n      stop: () => {\n        setRunning(false);\n        setStarted(false);\n        stopInterval();\n        optsRef.current.onStop?.(getLeftTime() ?? 0);\n      },\n      pause: () => {\n        setRunning(false);\n        stopInterval();\n      },\n      resume: () => {\n        setRunning(true);\n        startInterval();\n      },\n    };\n  }, [isRunning, stopInterval, startInterval]);\n}\n\nexport type UseLeftTimeProps = UseLeftTimeOptions & {\n  children: (leftTime: number) => ReactNode;\n};\n\nexport const UseLeftTime: FC<UseLeftTimeProps> = props => {\n  const { windowState } = useGeneral();\n  const [reload] = useReload();\n  const leftTimeRef = useRef<number | undefined>();\n\n  const { isStarted, isRunning, pause, resume } = useLeftTime({\n    ...props,\n    onStart: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onStart?.(value);\n    },\n    onStop: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onStop?.(value);\n    },\n    onTick: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onTick?.(value);\n    },\n  });\n\n  useEffect(() => {\n    if (!isStarted) {\n      return;\n    }\n\n    if (!isRunning && windowState.isVisible) {\n      resume();\n    }\n\n    if (isRunning && !windowState.isVisible) {\n      pause();\n    }\n  }, [windowState.isVisible, isStarted, isRunning]);\n\n  return <>{props.children(leftTimeRef.current ?? 0)}</>;\n};\n","import { useMemo } from 'react';\nimport cn from 'classnames';\n\nimport { Icon } from 'components/icon';\n\nimport s from './s.module.scss';\n\n/**\n * @param {number} current\n * @param {number} last\n * @param {number} [delta=2]\n */\nfunction pagination(current: number, last: number, delta: number = 2) {\n  const left = current - delta;\n  const right = current + delta + 1;\n  const range: number[] = [];\n  const rangeWithDots: (number | null)[] = [];\n  let l: number;\n\n  if (last < 2) {\n    return [1];\n  }\n\n  range.push(1);\n  for (let i = current - delta; i <= current + delta; i++) {\n    if (i >= left && i < right && i < last && i > 1) {\n      range.push(i);\n    }\n  }\n  range.push(last);\n\n  range.forEach(i => {\n    if (l) {\n      if (i - l === 2) {\n        rangeWithDots.push(l + 1);\n      } else if (i - l !== 1) {\n        rangeWithDots.push(null);\n      }\n    }\n    rangeWithDots.push(i);\n    l = i;\n  });\n\n  return rangeWithDots;\n}\n\ntype Props = {\n  className?: string;\n  total: number;\n  current: number;\n  pageSize: number;\n  onChange: (page: number) => void;\n};\n\nexport const Pagination: React.FC<Props> = ({ className, total, current, pageSize, onChange }) => {\n  const pages = Math.ceil(total / pageSize);\n  const paginationList = useMemo(() => pagination(current, pages), [current, pages]);\n\n  if (pages < 2) {\n    return null;\n  }\n\n  return (\n    <div className={cn(s.pagination, className)}>\n      <button\n        className={cn(s.page, s.prev)}\n        type=\"button\"\n        onClick={() => onChange(current - 1)}\n        disabled={current <= 1}>\n        <Icon name=\"chevron\" rotate={180} size={24} />\n      </button>\n      {paginationList.map((page, idx) =>\n        page ? (\n          <button\n            key={idx}\n            onClick={() => onChange(page)}\n            className={cn(s.page, {\n              [s.active]: page === current,\n            })}\n            type=\"button\"\n            disabled={page === current}>\n            {page}\n          </button>\n        ) : (\n          <div key={idx} className={s.separator}>\n            ...\n          </div>\n        ),\n      )}\n      <button\n        className={cn(s.page, s.next)}\n        type=\"button\"\n        onClick={() => onChange(current + 1)}\n        disabled={current >= pages}>\n        <Icon name=\"chevron\" size={24} />\n      </button>\n    </div>\n  );\n};\n","import { useHistory } from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport { Pagination } from 'components/custom/pagination';\nimport { Spinner } from 'components/custom/spinner';\nimport { Text } from 'components/custom/typography';\nimport { Icon } from 'components/icon';\n\nimport s from './s.module.scss';\n\nexport type ColumnType<T> = {\n  heading: React.ReactNode;\n  render: (item: T) => React.ReactElement;\n  align?: 'center' | 'right';\n};\n\ntype Props<T> = {\n  columns: ColumnType<T>[];\n  data: T[];\n  loading?: boolean;\n  rowKey?: (item: T) => string;\n  variation?: 'standard' | 'separated';\n  link?: (item: T) => string;\n};\n\nexport const Table = <T extends Record<string, any>>({\n  columns,\n  data,\n  loading,\n  rowKey,\n  variation = 'standard',\n  link,\n}: Props<T>) => {\n  const history = useHistory();\n\n  return (\n    <div\n      className={classNames('table-container', s.tableContainer, {\n        [s.loading]: loading,\n      })}>\n      <table\n        className={classNames(s.table, {\n          table: variation === 'standard',\n          'table-separated': variation === 'separated',\n          [s.clickable]: link,\n          [s.loading]: loading,\n        })}>\n        <thead>\n          <tr>\n            {columns.map(({ heading, align }, dataIdx) => (\n              <th key={dataIdx} className={align ? `text-${align}` : undefined}>\n                {heading}\n              </th>\n            ))}\n            {link ? <th /> : null}\n          </tr>\n        </thead>\n        <tbody>\n          {data.map((item, itemIdx) => (\n            <tr key={rowKey?.(item) ?? itemIdx} onClick={link ? () => history.push(link(item)) : undefined}>\n              {columns.map(({ render: Render, align }, dataIdx) => (\n                <td key={dataIdx} className={align ? `text-${align}` : undefined}>\n                  <Render {...item} />\n                </td>\n              ))}\n              {link ? (\n                <td>\n                  <Icon name=\"arrow\" color=\"red\" className={s.arrowIcon} />\n                </td>\n              ) : null}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {loading && (\n        <Spinner\n          className={s.spinner}\n          style={{\n            width: 40,\n            height: 40,\n            position: 'absolute',\n            marginTop: -20,\n            marginLeft: -20,\n          }}\n        />\n      )}\n    </div>\n  );\n};\n\ntype TableFooterType = {\n  total: number;\n  current: number;\n  pageSize: number;\n  children?: JSX.Element | (({ total, from, to }: { total: number; from: number; to: number }) => JSX.Element);\n  onChange: (page: number) => void;\n  text?: boolean | (({ total, from, to }) => React.ReactNode);\n};\n\nexport const TableFooter: React.FC<TableFooterType> = ({ children, text, total, current, pageSize, onChange }) => {\n  const generatedText = generateText({ text, total, current, pageSize });\n  return (\n    <div className={classNames(s.tableFooter, 'p-24')}>\n      {generatedText ? (\n        <Text type=\"p2\" weight=\"semibold\" color=\"secondary\">\n          {generatedText}\n        </Text>\n      ) : null}\n      <Pagination total={total} current={current} pageSize={pageSize} onChange={onChange} />\n    </div>\n  );\n};\n\nfunction generateText({ text, total, current, pageSize }) {\n  let generatedText: React.ReactNode;\n  if (text) {\n    const from = total ? (current - 1) * pageSize + 1 : 0;\n    const to = current * pageSize > total ? total : current * pageSize;\n\n    if (typeof text === 'function') {\n      generatedText = text({\n        total,\n        from,\n        to,\n      });\n    }\n\n    if (text === true) {\n      generatedText = (\n        <>\n          Showing {from} to {to} out of {total} entries\n        </>\n      );\n    }\n  }\n\n  return generatedText;\n}\n","import { ReactNode, useEffect, useMemo, useState } from 'react';\nimport AntdForm from 'antd/lib/form';\nimport classNames from 'classnames';\n\nimport Form from 'components/antd/form';\nimport Popover from 'components/antd/popover';\nimport { SquareBadge } from 'components/custom/badge';\nimport { Icon } from 'components/icon';\nimport { CP } from 'components/types.tx';\n\ntype RecordType = Record<string, any>;\n\nexport type TableFilterType<T extends RecordType = RecordType, K extends keyof T = string> = {\n  name: K;\n  label: ReactNode;\n  itemRender: () => ReactNode;\n  defaultValue: any;\n};\n\ntype Props<T extends RecordType = RecordType> = {\n  className?: string;\n  filters: TableFilterType<T>[];\n  value?: T;\n  onChange: (values: T) => void;\n};\n\nfunction TableFilter<T extends RecordType = RecordType>(props: CP<Props<T>>) {\n  const { filters, value, onChange, className } = props;\n\n  const [form] = AntdForm.useForm<Record<string, any>>();\n  const [visible, setVisible] = useState<boolean>(false);\n\n  const initialValues = useMemo(\n    () =>\n      filters.reduce((a, c) => {\n        return {\n          ...a,\n          [c.name]: c.defaultValue,\n        };\n      }, {}),\n    [filters],\n  );\n\n  const countApplied = useMemo(() => {\n    let count = 0;\n\n    if (value) {\n      filters.forEach(filter => {\n        if (value[filter.name] !== filter.defaultValue) {\n          count++;\n        }\n      });\n    }\n\n    return count;\n  }, [filters, value]);\n\n  useEffect(() => {\n    if (value) {\n      form.setFieldsValue(value);\n    }\n  }, [value]);\n\n  function handleSubmit(values: T) {\n    setVisible(false);\n    onChange(values);\n  }\n\n  const Content = (\n    <Form form={form} initialValues={initialValues} validateTrigger={['onSubmit']} onFinish={handleSubmit}>\n      {filters.map(filter => (\n        <Form.Item key={filter.name} name={filter.name} label={filter.label} className=\"mb-32\">\n          {filter.itemRender()}\n        </Form.Item>\n      ))}\n      <div className=\"grid flow-col align-center justify-space-between\">\n        <button type=\"button\" onClick={() => form.resetFields()} className=\"button-text\">\n          Reset filters\n        </button>\n        <button type=\"submit\" className=\"button-primary\">\n          Apply filters\n        </button>\n      </div>\n    </Form>\n  );\n\n  return (\n    <Popover\n      title=\"Filters\"\n      overlayStyle={{ width: 348 }}\n      content={Content}\n      visible={visible}\n      onVisibleChange={setVisible}\n      placement=\"bottomRight\">\n      <button type=\"button\" className={classNames('button-ghost-monochrome pv-16', className)}>\n        <Icon name=\"filter\" className=\"mr-8\" />\n        <span className=\"mr-8\">Filters</span>\n        <SquareBadge>{countApplied}</SquareBadge>\n      </button>\n    </Popover>\n  );\n}\n\nexport default TableFilter;\n","import BigNumber from 'bignumber.js';\nimport getUnixTime from 'date-fns/getUnixTime';\nimport { AbiItem } from 'web3-utils';\nimport Web3Contract, { createAbiItem } from 'web3/web3Contract';\n\nimport { isEthAsset } from 'components/providers/tokensProvider';\n\nconst ABI: AbiItem[] = [\n  // call\n  createAbiItem('epoch', [], ['uint256']),\n  createAbiItem('getCurrentEpoch', [], ['uint256']),\n  createAbiItem('epoch1Start', [], ['uint256']),\n  createAbiItem('epochDuration', [], ['uint256']),\n\n  createAbiItem('epochSeniorLiquidity', [], ['uint256']),\n  createAbiItem('epochJuniorLiquidity', [], ['uint256']),\n  createAbiItem('epochDownsideProtectionRate', [], ['uint256']),\n  createAbiItem('epochUpsideExposureRate', [], ['uint256']),\n  createAbiItem('epochEntryPrice', [], ['uint256']),\n  createAbiItem('getEpochSeniorTokenPrice', [], ['uint256']),\n  createAbiItem('getEpochJuniorTokenPrice', [], ['uint256']),\n  createAbiItem('estimateCurrentSeniorTokenPrice', [], ['uint256']),\n  createAbiItem('estimateCurrentJuniorTokenPrice', [], ['uint256']),\n\n  createAbiItem('queuedJuniorsUnderlyingIn', [], ['uint256']),\n  createAbiItem('queuedJuniorsUnderlyingOut', [], ['uint256']),\n  createAbiItem('queuedJuniorTokensBurn', [], ['uint256']),\n  createAbiItem('queuedSeniorsUnderlyingIn', [], ['uint256']),\n  createAbiItem('queuedSeniorsUnderlyingOut', [], ['uint256']),\n  createAbiItem('queuedSeniorTokensBurn', [], ['uint256']),\n\n  createAbiItem('feesAccrued', [], ['uint256']),\n  createAbiItem('priceOracle', [], ['address']),\n\n  createAbiItem('seniorEntryQueue', ['address'], ['uint256', 'uint256']),\n  createAbiItem('seniorExitQueue', ['address'], ['uint256', 'uint256']),\n  createAbiItem('juniorEntryQueue', ['address'], ['uint256', 'uint256']),\n  createAbiItem('juniorExitQueue', ['address'], ['uint256', 'uint256']),\n\n  // send\n  createAbiItem('depositJunior', ['uint256'], []),\n  createAbiItem('exitJunior', ['uint256'], []),\n  createAbiItem('redeemJuniorTokens', [], []),\n  createAbiItem('redeemJuniorUnderlying', [], []),\n  createAbiItem('depositSenior', ['uint256'], []),\n  createAbiItem('exitSenior', ['uint256'], []),\n  createAbiItem('redeemSeniorTokens', [], []),\n  createAbiItem('redeemSeniorUnderlying', [], []),\n  createAbiItem('transferFees', [], []),\n  createAbiItem('advanceEpoch', [], []),\n];\n\nexport const SMART_ALPHA_DECIMALS = 18;\n\nclass PriceOracleContract extends Web3Contract {\n  constructor(address: string) {\n    super([createAbiItem('getPrice', [], ['uint256'])], address, 'SA Price Oracle');\n  }\n\n  getPrice(): Promise<BigNumber | undefined> {\n    return this.call('getPrice').then(value => BigNumber.from(value));\n  }\n}\n\nclass SmartAlphaContract extends Web3Contract {\n  // common\n  epoch: number | undefined;\n  currentEpoch: number | undefined;\n  epoch1Start: number | undefined;\n  epochDuration: number | undefined;\n  epochSeniorLiquidity: BigNumber | undefined;\n  epochJuniorLiquidity: BigNumber | undefined;\n  epochDownsideProtectionRate: BigNumber | undefined;\n  epochUpsideExposureRate: BigNumber | undefined;\n  epochEntryPrice: BigNumber | undefined;\n  epochSeniorTokenPrice: BigNumber | undefined;\n  epochJuniorTokenPrice: BigNumber | undefined;\n  queuedJuniorsUnderlyingIn: BigNumber | undefined;\n  queuedJuniorsUnderlyingOut: BigNumber | undefined;\n  queuedJuniorTokensBurn: BigNumber | undefined;\n  queuedSeniorsUnderlyingIn: BigNumber | undefined;\n  queuedSeniorsUnderlyingOut: BigNumber | undefined;\n  queuedSeniorTokensBurn: BigNumber | undefined;\n  estimateCurrentSeniorTokenPrice: BigNumber | undefined;\n  estimateCurrentJuniorTokenPrice: BigNumber | undefined;\n  feesAccrued: BigNumber | undefined;\n  priceOracleContract: PriceOracleContract | undefined;\n  priceOracle: BigNumber | undefined;\n\n  constructor(address: string) {\n    super(ABI, address, 'Smart Alpha');\n  }\n\n  // computed\n  get nextEpochStart(): number | undefined {\n    if (this.currentEpoch === undefined || this.epochDuration === undefined || this.epoch1Start === undefined) {\n      return undefined;\n    }\n\n    return this.epoch1Start + this.currentEpoch * this.epochDuration;\n  }\n\n  get tillNextEpoch(): number | undefined {\n    const nextEpochStart = this.nextEpochStart;\n\n    if (nextEpochStart === undefined) {\n      return undefined;\n    }\n\n    return Math.max(0, nextEpochStart - getUnixTime(Date.now()));\n  }\n\n  get epochsGap(): number | undefined {\n    if (this.epoch === undefined || this.currentEpoch === undefined) {\n      return undefined;\n    }\n\n    return this.currentEpoch - this.epoch;\n  }\n\n  get requireEpochAdvance(): boolean {\n    const epochsGap = this.epochsGap;\n    return epochsGap !== undefined && epochsGap > 0;\n  }\n\n  get epochTotalLiquidityRate(): BigNumber | undefined {\n    if (!this.epochSeniorLiquidity || !this.epochJuniorLiquidity) {\n      return undefined;\n    }\n\n    return this.epochSeniorLiquidity.plus(this.epochJuniorLiquidity);\n  }\n\n  get epochSeniorLiquidityRate(): number | undefined {\n    if (!this.epochSeniorLiquidity || !this.epochTotalLiquidityRate) {\n      return undefined;\n    }\n\n    return this.epochSeniorLiquidity.div(this.epochTotalLiquidityRate).toNumber();\n  }\n\n  get epochJuniorLiquidityRate(): number | undefined {\n    if (!this.epochJuniorLiquidity || !this.epochTotalLiquidityRate) {\n      return undefined;\n    }\n\n    return this.epochJuniorLiquidity.div(this.epochTotalLiquidityRate).toNumber();\n  }\n\n  get epochUpsideLeverage(): BigNumber | undefined {\n    if (!this.epochSeniorLiquidity || !this.epochJuniorLiquidity || !this.epochUpsideExposureRate) {\n      return undefined;\n    }\n\n    if (this.epochJuniorLiquidity.eq(0)) {\n      return new BigNumber(1).scaleBy(SMART_ALPHA_DECIMALS);\n    }\n\n    return this.epochSeniorLiquidity\n      .div(this.epochJuniorLiquidity)\n      .multipliedBy(new BigNumber(1).minus(this.epochUpsideExposureRate.unscaleBy(SMART_ALPHA_DECIMALS)!))\n      .plus(1)\n      .scaleBy(SMART_ALPHA_DECIMALS);\n  }\n\n  get epochDownsideLeverage(): BigNumber | undefined {\n    if (!this.epochSeniorLiquidity || !this.epochJuniorLiquidity) {\n      return undefined;\n    }\n\n    if (this.epochJuniorLiquidity.eq(0)) {\n      return new BigNumber(1).scaleBy(SMART_ALPHA_DECIMALS);\n    }\n\n    return this.epochSeniorLiquidity.div(this.epochJuniorLiquidity).plus(1).scaleBy(SMART_ALPHA_DECIMALS);\n  }\n\n  async loadCommon() {\n    const [\n      epoch,\n      currentEpoch,\n      epoch1Start,\n      epochDuration,\n      epochSeniorLiquidity,\n      epochJuniorLiquidity,\n      epochDownsideProtectionRate,\n      epochUpsideExposureRate,\n      epochEntryPrice,\n      epochSeniorTokenPrice,\n      epochJuniorTokenPrice,\n      queuedJuniorsUnderlyingIn,\n      queuedJuniorsUnderlyingOut,\n      queuedJuniorTokensBurn,\n      queuedSeniorsUnderlyingIn,\n      queuedSeniorsUnderlyingOut,\n      queuedSeniorTokensBurn,\n      estimateCurrentSeniorTokenPrice,\n      estimateCurrentJuniorTokenPrice,\n      priceOracleAddress,\n    ] = await this.batch([\n      { method: 'epoch' },\n      { method: 'getCurrentEpoch' },\n      { method: 'epoch1Start' },\n      { method: 'epochDuration' },\n      { method: 'epochSeniorLiquidity' },\n      { method: 'epochJuniorLiquidity' },\n      { method: 'epochDownsideProtectionRate' },\n      { method: 'epochUpsideExposureRate' },\n      { method: 'epochEntryPrice' },\n      { method: 'getEpochSeniorTokenPrice' },\n      { method: 'getEpochJuniorTokenPrice' },\n      { method: 'queuedJuniorsUnderlyingIn' },\n      { method: 'queuedJuniorsUnderlyingOut' },\n      { method: 'queuedJuniorTokensBurn' },\n      { method: 'queuedSeniorsUnderlyingIn' },\n      { method: 'queuedSeniorsUnderlyingOut' },\n      { method: 'queuedSeniorTokensBurn' },\n      { method: 'estimateCurrentSeniorTokenPrice' },\n      { method: 'estimateCurrentJuniorTokenPrice' },\n      { method: 'priceOracle' },\n    ]);\n\n    this.epoch = Number(epoch);\n    this.currentEpoch = Number(currentEpoch);\n    this.epoch1Start = Number(epoch1Start);\n    this.epochDuration = Number(epochDuration);\n    this.epochSeniorLiquidity = BigNumber.from(epochSeniorLiquidity);\n    this.epochJuniorLiquidity = BigNumber.from(epochJuniorLiquidity);\n    this.epochDownsideProtectionRate = BigNumber.from(epochDownsideProtectionRate);\n    this.epochUpsideExposureRate = BigNumber.from(epochUpsideExposureRate);\n    this.epochEntryPrice = BigNumber.from(epochEntryPrice);\n    this.epochSeniorTokenPrice = BigNumber.from(epochSeniorTokenPrice);\n    this.epochJuniorTokenPrice = BigNumber.from(epochJuniorTokenPrice);\n    this.queuedJuniorsUnderlyingIn = BigNumber.from(queuedJuniorsUnderlyingIn);\n    this.queuedJuniorsUnderlyingOut = BigNumber.from(queuedJuniorsUnderlyingOut);\n    this.queuedJuniorTokensBurn = BigNumber.from(queuedJuniorTokensBurn);\n    this.queuedSeniorsUnderlyingIn = BigNumber.from(queuedSeniorsUnderlyingIn);\n    this.queuedSeniorsUnderlyingOut = BigNumber.from(queuedSeniorsUnderlyingOut);\n    this.queuedSeniorTokensBurn = BigNumber.from(queuedSeniorTokensBurn);\n    this.estimateCurrentSeniorTokenPrice = BigNumber.from(estimateCurrentSeniorTokenPrice);\n    this.estimateCurrentJuniorTokenPrice = BigNumber.from(estimateCurrentJuniorTokenPrice);\n    this.priceOracleContract = new PriceOracleContract(priceOracleAddress);\n    this.priceOracleContract.setCallProvider(this.callProvider);\n    this.priceOracle = await this.priceOracleContract.getPrice();\n    this.emit(Web3Contract.UPDATE_DATA);\n  }\n\n  getEntryPriceDecimals(oracleSymbol: string) {\n    return isEthAsset(oracleSymbol) ? 18 : 8;\n  }\n\n  seniorEntryQueue(address: string): Promise<[number, BigNumber | undefined]> {\n    return this.call('seniorEntryQueue', [address], {}).then(result => [Number(result[0]), BigNumber.from(result[1])]);\n  }\n\n  seniorExitQueue(address: string): Promise<[number, BigNumber | undefined]> {\n    return this.call('seniorExitQueue', [address], {}).then(result => [Number(result[0]), BigNumber.from(result[1])]);\n  }\n\n  juniorEntryQueue(address: string): Promise<[number, BigNumber | undefined]> {\n    return this.call('juniorEntryQueue', [address], {}).then(result => [Number(result[0]), BigNumber.from(result[1])]);\n  }\n\n  juniorExitQueue(address: string): Promise<[number, BigNumber | undefined]> {\n    return this.call('juniorExitQueue', [address], {}).then(result => [Number(result[0]), BigNumber.from(result[1])]);\n  }\n\n  getFeesAccrued(): Promise<BigNumber | undefined> {\n    return this.call('feesAccrued', [], {}).then(result => {\n      this.feesAccrued = BigNumber.from(result);\n      this.emit(Web3Contract.UPDATE_DATA);\n      return this.feesAccrued;\n    });\n  }\n\n  async depositJunior(amount: BigNumber, gasPrice?: number): Promise<void> {\n    await this.send('depositJunior', [amount], {}, gasPrice);\n  }\n\n  async withdrawJunior(amount: BigNumber, gasPrice?: number): Promise<void> {\n    await this.send('exitJunior', [amount], {}, gasPrice);\n  }\n\n  async redeemJuniorTokens(gasPrice?: number): Promise<void> {\n    await this.send('redeemJuniorTokens', [], {}, gasPrice);\n  }\n\n  async redeemJuniorUnderlying(gasPrice?: number): Promise<void> {\n    await this.send('redeemJuniorUnderlying', [], {}, gasPrice);\n  }\n\n  async depositSenior(amount: BigNumber, gasPrice?: number): Promise<void> {\n    await this.send('depositSenior', [amount], {}, gasPrice);\n  }\n\n  async withdrawSenior(amount: BigNumber, gasPrice?: number): Promise<void> {\n    await this.send('exitSenior', [amount], {}, gasPrice);\n  }\n\n  async redeemSeniorTokens(gasPrice?: number): Promise<void> {\n    await this.send('redeemSeniorTokens', [], {}, gasPrice);\n  }\n\n  async redeemSeniorUnderlying(gasPrice?: number): Promise<void> {\n    await this.send('redeemSeniorUnderlying', [], {}, gasPrice);\n  }\n\n  async transferFees(gasPrice?: number): Promise<void> {\n    await this.send('transferFees', [], {}, gasPrice);\n  }\n\n  async advanceEpoch(): Promise<void> {\n    await this.send('advanceEpoch', [], {});\n  }\n}\n\nexport default SmartAlphaContract;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"s_pagination__3UMZt\",\"page\":\"s_page__29oPu\",\"separator\":\"s_separator__1n_F1\",\"prev\":\"s_prev__2g1Q9\",\"next\":\"s_next__d_WwI\",\"active\":\"s_active__ec-7d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tableContainer\":\"s_tableContainer__2Dki2\",\"loading\":\"s_loading__1OMuZ\",\"table\":\"s_table__Nd1Ke\",\"clickable\":\"s_clickable__1x0tg\",\"arrowIcon\":\"s_arrowIcon__1zygh\",\"tableFooter\":\"s_tableFooter__3iZZl\",\"spinner\":\"s_spinner__1axuf\"};","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","import Tooltip from 'components/antd/tooltip';\nimport { Icon } from 'components/icon';\n\ntype PropsType = {\n  className?: string;\n  style?: React.CSSProperties;\n};\n\nexport const InfoTooltip: React.FC<PropsType> = ({ children, className, style }) => (\n  <Tooltip title={children}>\n    <Icon\n      name=\"info\"\n      size={16}\n      className={className}\n      style={{\n        flexShrink: 0,\n        ...style,\n      }}\n    />\n  </Tooltip>\n);\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","import { getUnixTime } from 'date-fns';\n\nimport { TokenIconNames } from 'components/token-icon';\nimport { PoolApiType } from 'modules/smart-alpha/api';\n\nfunction getCurrentEpoch(pool: PoolApiType) {\n  const now = getUnixTime(Date.now());\n\n  if (now < pool.epoch1Start) {\n    return 0;\n  }\n\n  return Math.floor((now - pool.epoch1Start) / pool.epochDuration + 1);\n}\n\nexport function tillNextEpoch(pool: PoolApiType): number {\n  const now = getUnixTime(Date.now());\n  const currentEpoch = getCurrentEpoch(pool);\n  const nextEpochStart = pool.epoch1Start + currentEpoch * pool.epochDuration;\n\n  return now < nextEpochStart ? nextEpochStart - now : 0;\n}\n\nexport function getKpiOptionTokenIconNames(symbol: string): [TokenIconNames, TokenIconNames, TokenIconNames] {\n  switch (symbol) {\n    case 'WETH (USD) BPT':\n      return ['balancer', 'usd', 'eth'];\n    case 'WBTC (USD) BPT':\n      return ['balancer', 'usd', 'wbtc'];\n    case 'KPI_WETH-USD-1w':\n      return ['uma', 'usd', 'weth'];\n    case 'KPI_WBTC-USD-1w':\n      return ['uma', 'usd', 'wbtc'];\n    default:\n      return ['unknown', 'unknown', 'unknown'];\n  }\n}\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","import BigNumber from 'bignumber.js';\nimport { AbiItem } from 'web3-utils';\nimport Web3Contract, { AbiTuple, createAbiItem } from 'web3/web3Contract';\n\nconst ABI: AbiItem[] = [\n  // call\n  createAbiItem(\n    'estimateNextEpoch',\n    ['address'],\n    [new AbiTuple(['uint256', 'uint256', 'uint256', 'uint256', 'uint256'])],\n  ),\n  createAbiItem('userRedeemableSeniorTokens', ['address', 'address'], ['uint256']),\n  createAbiItem('userRedeemableJuniorTokens', ['address', 'address'], ['uint256']),\n  createAbiItem('userRedeemableSeniorUnderlying', ['address', 'address'], ['uint256']),\n  createAbiItem('userRedeemableJuniorUnderlying', ['address', 'address'], ['uint256']),\n];\n\nclass LoupeContract extends Web3Contract {\n  price: BigNumber | undefined;\n\n  constructor(address: string) {\n    super(ABI, address, 'SA Loupe');\n  }\n\n  getEstimateNextEpoch(smartAlphaAddress: string): Promise<(BigNumber | undefined)[]> {\n    return this.call('estimateNextEpoch', [smartAlphaAddress], {}).then(result => [\n      BigNumber.from(result[0]), // juniorLiquidity\n      BigNumber.from(result[1]), // seniorLiquidity\n      BigNumber.from(result[2]), // upsideRate\n      BigNumber.from(result[3]), // downsideRate\n      BigNumber.from(result[4]), // startPrice\n    ]);\n  }\n\n  getUserRedeemableSeniorTokens(smartAlphaAddress: string, userAddress: string): Promise<BigNumber | undefined> {\n    return this.call('userRedeemableSeniorTokens', [smartAlphaAddress, userAddress], {}).then(BigNumber.from);\n  }\n\n  getUserRedeemableJuniorTokens(smartAlphaAddress: string, userAddress: string): Promise<BigNumber | undefined> {\n    return this.call('userRedeemableJuniorTokens', [smartAlphaAddress, userAddress], {}).then(BigNumber.from);\n  }\n\n  getUserRedeemableSeniorUnderlying(smartAlphaAddress: string, userAddress: string): Promise<BigNumber | undefined> {\n    return this.call('userRedeemableSeniorUnderlying', [smartAlphaAddress, userAddress], {}).then(BigNumber.from);\n  }\n\n  getUserRedeemableJuniorUnderlying(smartAlphaAddress: string, userAddress: string): Promise<BigNumber | undefined> {\n    return this.call('userRedeemableJuniorUnderlying', [smartAlphaAddress, userAddress], {}).then(BigNumber.from);\n  }\n}\n\nexport default LoupeContract;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","import { useEffect, useMemo, useState } from 'react';\nimport { BigNumber } from 'bignumber.js';\n\nimport { useConfig } from 'components/providers/configProvider';\nimport { useContractFactory } from 'hooks/useContract';\n\nimport LoupeContract from '../contracts/loupeContract';\nimport { SMART_ALPHA_DECIMALS } from '../contracts/smartAlphaContract';\n\ntype ReturnType = {\n  nextEpochEstimates: (BigNumber | undefined)[];\n  nextEpochSeniorLiquidityRate: number | undefined;\n  nextEpochJuniorLiquidityRate: number | undefined;\n  nextEpochUpsideLeverage: BigNumber | undefined;\n  nextEpochDownsideLeverage: BigNumber | undefined;\n};\n\nexport function useNextEpochEstimate(saAddress: string | undefined): ReturnType {\n  const config = useConfig();\n  const { getOrCreateContract } = useContractFactory();\n\n  const loupeContract = useMemo(() => {\n    const loupeAddress = config.contracts.sa?.loupe;\n\n    if (!loupeAddress) {\n      return;\n    }\n\n    return getOrCreateContract(loupeAddress, () => {\n      return new LoupeContract(loupeAddress);\n    });\n  }, []);\n\n  const [nextEpochEstimates, setNextEpochEstimates] = useState<ReturnType['nextEpochEstimates']>([]);\n\n  useEffect(() => {\n    if (!saAddress || !loupeContract) {\n      return;\n    }\n\n    loupeContract.getEstimateNextEpoch(saAddress).then(result => {\n      setNextEpochEstimates(result);\n    });\n  }, [saAddress, loupeContract]);\n\n  const nextEpochSeniorLiquidityRate = useMemo(() => {\n    if (!nextEpochEstimates[0] || !nextEpochEstimates[1]) {\n      return 0;\n    }\n\n    const totalLiquidity = nextEpochEstimates[0].plus(nextEpochEstimates[1]);\n    return nextEpochEstimates[1]?.div(totalLiquidity).toNumber();\n  }, [nextEpochEstimates]);\n\n  const nextEpochJuniorLiquidityRate = useMemo(() => {\n    if (!nextEpochEstimates[0] || !nextEpochEstimates[1]) {\n      return 0;\n    }\n\n    const totalLiquidity = nextEpochEstimates[0].plus(nextEpochEstimates[1]);\n    return nextEpochEstimates[0]?.div(totalLiquidity).toNumber();\n  }, [nextEpochEstimates]);\n\n  const nextEpochUpsideLeverage = useMemo(() => {\n    if (!nextEpochEstimates[0] || !nextEpochEstimates[1] || !nextEpochEstimates[2]) {\n      return undefined;\n    }\n\n    if (nextEpochEstimates[0].eq(0)) {\n      return new BigNumber(1);\n    }\n\n    return nextEpochEstimates[1]\n      .div(nextEpochEstimates[0])\n      .multipliedBy(new BigNumber(1).minus(nextEpochEstimates[2].unscaleBy(SMART_ALPHA_DECIMALS)!))\n      .plus(1);\n  }, [nextEpochEstimates]);\n\n  const nextEpochDownsideLeverage = useMemo(() => {\n    if (!nextEpochEstimates[0] || !nextEpochEstimates[1]) {\n      return undefined;\n    }\n\n    if (nextEpochEstimates[0].eq(0)) {\n      return new BigNumber(1);\n    }\n\n    return nextEpochEstimates[1].div(nextEpochEstimates[0]).plus(1);\n  }, [nextEpochEstimates]);\n\n  return {\n    nextEpochEstimates,\n    nextEpochSeniorLiquidityRate,\n    nextEpochJuniorLiquidityRate,\n    nextEpochUpsideLeverage,\n    nextEpochDownsideLeverage,\n  };\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cards\":\"s_cards__2P5j7\",\"poolCard\":\"s_poolCard__-eNSe\",\"poolCardDlRow\":\"s_poolCardDlRow__14WVx\",\"poolCardFooter\":\"s_poolCardFooter__3rSUn\"};","import { useMemo, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport useWindowSize from '@rooks/use-window-size';\nimport BigNumber from 'bignumber.js';\nimport classNames from 'classnames';\nimport uniqBy from 'lodash/uniqBy';\nimport { formatNumber, formatPercent, formatToken, formatUSD } from 'web3/utils';\n\nimport Select from 'components/antd/select';\nimport { Button, Link } from 'components/button';\nimport { ColumnType, Table } from 'components/custom/table';\nimport TableFilter, { TableFilterType } from 'components/custom/table-filter';\nimport { Tabs } from 'components/custom/tabs';\nimport { InfoTooltip } from 'components/custom/tooltip';\nimport { Text } from 'components/custom/typography';\nimport { useTokens } from 'components/providers/tokensProvider';\nimport { TokenIcon } from 'components/token-icon';\nimport { useContractFactory } from 'hooks/useContract';\nimport { UseLeftTime } from 'hooks/useLeftTime';\nimport { useReload } from 'hooks/useReload';\nimport { PoolApiType, useFetchSaPools } from 'modules/smart-alpha/api';\nimport SmartAlphaContract, { SMART_ALPHA_DECIMALS } from 'modules/smart-alpha/contracts/smartAlphaContract';\nimport { useNextEpochEstimate } from 'modules/smart-alpha/hooks/next-epoch-estimate';\n\nimport { tillNextEpoch } from 'modules/smart-alpha/utils';\nimport { getFormattedDuration } from 'utils';\n\nimport s from './s.module.scss';\n\nexport enum EpochTypeKey {\n  current = 'current',\n  estimates = 'estimates',\n}\n\nconst epochTabs = [\n  {\n    id: EpochTypeKey.current,\n    children: 'Current',\n  },\n  {\n    id: EpochTypeKey.estimates,\n    children: 'Estimates',\n  },\n];\n\ntype TreasuryFilterType = {\n  token: string;\n};\n\nconst PoolsView = () => {\n  const { data, loading } = useFetchSaPools();\n  const [layout, setLayout] = useState<'cards' | 'list'>('list');\n  const [epochType, setEpochType] = useState<EpochTypeKey>(EpochTypeKey.current);\n\n  const { innerWidth } = useWindowSize();\n\n  const forceCardsView = innerWidth ? innerWidth < 1440 : true;\n\n  const epochTVL = useMemo(() => {\n    return data?.reduce((sum, item) => {\n      return sum.plus(item.tvl.epochJuniorTVL).plus(item.tvl.epochSeniorTVL);\n    }, BigNumber.ZERO);\n  }, [data]);\n\n  const entryQueueTVLInUsd = useMemo(() => {\n    return data?.reduce((sum, item) => {\n      return sum.plus(item.tvl.juniorEntryQueueTVL).plus(item.tvl.seniorEntryQueueTVL);\n    }, BigNumber.ZERO);\n  }, [data]);\n\n  const exitQueueTVLInUsd = useMemo(() => {\n    return data?.reduce((sum, item) => {\n      return sum.plus(item.tvl.juniorExitQueueTVL).plus(item.tvl.seniorExitQueueTVL);\n    }, BigNumber.ZERO);\n  }, [data]);\n\n  const exitedTVLInUsd = useMemo(() => {\n    return data?.reduce((sum, item) => {\n      return sum.plus(item.tvl.juniorExitedTVL).plus(item.tvl.seniorExitedTVL);\n    }, BigNumber.ZERO);\n  }, [data]);\n\n  const [tokenFilter, setTokenFilter] = useState('');\n\n  const filters = useMemo(\n    () =>\n      [\n        {\n          name: 'token',\n          label: 'Token',\n          defaultValue: '',\n          itemRender: () => {\n            const tokenOpts = [\n              {\n                value: '',\n                label: 'All tokens',\n              },\n              ...uniqBy(\n                data?.map(item => ({\n                  value: item.poolToken.symbol,\n                  label: item.poolToken.symbol,\n                })),\n                'value',\n              ),\n            ];\n\n            return <Select options={tokenOpts} className=\"full-width\" />;\n          },\n        },\n      ] as TableFilterType<PoolApiType>[],\n    [data],\n  );\n\n  const filterValue = useMemo<TreasuryFilterType>(\n    () => ({\n      token: tokenFilter,\n    }),\n    [tokenFilter],\n  );\n\n  const items = useMemo(() => {\n    return (\n      data?.filter(dataItem => {\n        if (tokenFilter) {\n          return dataItem.poolToken.symbol.toUpperCase() === tokenFilter.toUpperCase();\n        }\n\n        return true;\n      }) ?? []\n    );\n  }, [data, tokenFilter]);\n\n  return (\n    <>\n      <div className=\"flex flow-col wrap col-gap-32 row-gap-16 mb-32\">\n        <div className=\"card p-24\" style={{ minWidth: '200px' }}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n            Epoch TVL\n          </Text>\n          <Text type=\"h3\" weight=\"bold\" color=\"primary\">\n            {formatUSD(epochTVL) ?? '-'}\n          </Text>\n        </div>\n\n        <div className=\"card p-24\" style={{ minWidth: '200px' }}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n            Entry Queue TVL\n          </Text>\n          <Text type=\"h3\" weight=\"bold\" color=\"primary\">\n            {formatUSD(entryQueueTVLInUsd) ?? '-'}\n          </Text>\n        </div>\n\n        <div className=\"card p-24\" style={{ minWidth: '200px' }}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n            Exit Queue TVL\n          </Text>\n          <Text type=\"h3\" weight=\"bold\" color=\"primary\">\n            {formatUSD(exitQueueTVLInUsd) ?? '-'}\n          </Text>\n        </div>\n\n        <div className=\"card p-24\" style={{ minWidth: '200px' }}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n            Exited TVL\n          </Text>\n          <Text type=\"h3\" weight=\"bold\" color=\"primary\">\n            {formatUSD(exitedTVLInUsd) ?? '-'}\n          </Text>\n        </div>\n      </div>\n      <div className=\"flex align-center mb-32\">\n        <Text type=\"h1\" weight=\"bold\">\n          Pools\n        </Text>\n        <div className=\"flex align-center ml-auto\">\n          <Tabs<EpochTypeKey> tabs={epochTabs} activeKey={epochType} onClick={setEpochType} variation=\"elastic\" />\n          {forceCardsView ? null : (\n            <Button\n              variation=\"ghost-alt\"\n              icon={layout === 'cards' ? 'list-view' : 'cards-view'}\n              iconPosition=\"only\"\n              onClick={() => setLayout(prevLayout => (prevLayout === 'cards' ? 'list' : 'cards'))}\n              className=\"ml-16\"\n            />\n          )}\n          <TableFilter<TreasuryFilterType>\n            className=\"ml-16\"\n            filters={filters}\n            value={filterValue}\n            onChange={(filters: TreasuryFilterType) => setTokenFilter(filters.token)}\n          />\n        </div>\n      </div>\n      {forceCardsView || layout === 'cards' ? (\n        <Cards items={items} epochType={epochType} />\n      ) : (\n        <TableLayout items={items} epochType={epochType} loading={loading} />\n      )}\n    </>\n  );\n};\nexport default PoolsView;\n\nconst Cards = ({ items, epochType }: { items: PoolApiType[]; epochType: EpochTypeKey }) => {\n  return (\n    <div className={s.cards}>\n      {items.map(function Render(item) {\n        return epochType === EpochTypeKey.current ? (\n          <PoolCardCurrent key={item.poolAddress} item={item} />\n        ) : (\n          <PoolCardEstimate key={item.poolAddress} item={item} />\n        );\n      })}\n    </div>\n  );\n};\n\nconst PoolCardCurrent = ({ item }: { item: PoolApiType }) => {\n  const seniorLiquidity = new BigNumber(item.state.seniorLiquidity);\n  const juniorLiquidity = new BigNumber(item.state.juniorLiquidity);\n  const upsideRate = new BigNumber(item.state.upsideExposureRate);\n  const downsideRate = new BigNumber(item.state.downsideProtectionRate);\n  const upsideLeverage = juniorLiquidity.gt(0)\n    ? seniorLiquidity.div(juniorLiquidity).multipliedBy(new BigNumber(1).minus(upsideRate)).plus(1)\n    : new BigNumber(1);\n  const downsideLeverage = juniorLiquidity.gt(0) ? seniorLiquidity.div(juniorLiquidity).plus(1) : new BigNumber(1);\n\n  return (\n    <PoolCardInner\n      item={item}\n      epoch={item.state.epoch}\n      juniorLiquidity={juniorLiquidity}\n      seniorLiquidity={seniorLiquidity}\n      upsideRate={upsideRate}\n      downsideRate={downsideRate}\n      upsideLeverage={upsideLeverage}\n      downsideLeverage={downsideLeverage}\n      isEstimate={false}\n    />\n  );\n};\n\nconst PoolCardEstimate = ({ item }: { item: PoolApiType }) => {\n  const [reload] = useReload();\n  const { getOrCreateContract } = useContractFactory();\n  const { nextEpochEstimates, nextEpochUpsideLeverage, nextEpochDownsideLeverage } = useNextEpochEstimate(\n    item.poolAddress,\n  );\n\n  const smartAlphaContract = useMemo(() => {\n    return getOrCreateContract(\n      item.poolAddress,\n      () => {\n        return new SmartAlphaContract(item.poolAddress);\n      },\n      {\n        afterInit: async contract => {\n          contract.onUpdateData(reload);\n          await contract.loadCommon();\n        },\n      },\n    );\n  }, [item]);\n\n  return (\n    <PoolCardInner\n      item={item}\n      epoch={smartAlphaContract.currentEpoch ? smartAlphaContract.currentEpoch + 1 : undefined}\n      juniorLiquidity={nextEpochEstimates[0]?.unscaleBy(item.poolToken.decimals)}\n      seniorLiquidity={nextEpochEstimates[1]?.unscaleBy(item.poolToken.decimals)}\n      upsideRate={nextEpochEstimates[2]?.unscaleBy(SMART_ALPHA_DECIMALS)}\n      downsideRate={nextEpochEstimates[3]?.unscaleBy(SMART_ALPHA_DECIMALS)}\n      upsideLeverage={nextEpochUpsideLeverage}\n      downsideLeverage={nextEpochDownsideLeverage}\n      isEstimate\n    />\n  );\n};\n\nconst PoolCardInner = ({\n  item,\n  epoch,\n  juniorLiquidity,\n  seniorLiquidity,\n  upsideRate,\n  downsideRate,\n  upsideLeverage,\n  downsideLeverage,\n  isEstimate,\n}: {\n  item: PoolApiType;\n  epoch?: number;\n  juniorLiquidity: BigNumber | undefined;\n  seniorLiquidity: BigNumber | undefined;\n  upsideRate: BigNumber | undefined;\n  downsideRate: BigNumber | undefined;\n  upsideLeverage: BigNumber | undefined;\n  downsideLeverage: BigNumber | undefined;\n  isEstimate: boolean;\n}) => {\n  const location = useLocation();\n  const { getToken, getAsset } = useTokens();\n  const poolToken = getToken(item.poolToken.symbol);\n  const oracleToken = getAsset(item.oracleAssetSymbol);\n\n  const tokenInOracleValueLeverage =\n    downsideRate && poolToken?.price && oracleToken?.price\n      ? poolToken.price?.multipliedBy(new BigNumber(1).minus(downsideRate))?.dividedBy(oracleToken.price)\n      : undefined;\n\n  const tokenInOracleValue =\n    poolToken?.price && oracleToken?.price ? poolToken.price?.dividedBy(oracleToken.price) : undefined;\n\n  return (\n    <section\n      className={classNames(s.poolCard, 'card')}\n      style={\n        (!isEstimate\n          ? { '--pool-card-progress': ((item.epochDuration - tillNextEpoch(item)) / item.epochDuration) * 100 }\n          : {}) as React.CSSProperties\n      }>\n      <header className=\"card-header flex align-center mb-32\">\n        <TokenIcon name={poolToken?.icon} size={40} bubble2Name={oracleToken?.icon} className=\"mr-16\" />\n        <div>\n          <Text type=\"p1\" weight=\"semibold\" color=\"primary\" tag=\"h2\" className=\"mb-4\">\n            {item.poolName}\n          </Text>\n          <Text type=\"small\" weight=\"semibold\" color=\"red\" tag=\"small\">\n            Epoch {epoch ?? '-'}\n          </Text>\n        </div>\n        {!isEstimate && (\n          <div className=\"ml-auto\" style={{ textAlign: 'right' }}>\n            <Text type=\"small\" weight=\"semibold\" color=\"secondary\" tag=\"small\" className=\"mb-4\">\n              Epoch ends in\n            </Text>\n            <UseLeftTime delay={1_000}>\n              {() => (\n                <Text type=\"p1\" weight=\"semibold\">\n                  {getFormattedDuration(tillNextEpoch(item))}\n                </Text>\n              )}\n            </UseLeftTime>\n          </div>\n        )}\n      </header>\n      <dl>\n        <div className={classNames(s.poolCardDlRow, 'mb-24')}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"flex align-middle col-gap-4\" tag=\"dt\">\n            Epoch senior liquidity\n          </Text>\n          <dd className=\"flex align-center\">\n            <Text\n              type=\"p1\"\n              weight=\"semibold\"\n              tooltip={\n                <Text type=\"p2\" color=\"primary\" className=\"flex flow-row row-gap-4\">\n                  <span>\n                    {formatToken(seniorLiquidity, {\n                      tokenName: item.poolToken.symbol,\n                      decimals: item.poolToken.decimals,\n                    })}\n                  </span>\n                  <span>{formatUSD(BigNumber.from(seniorLiquidity)?.multipliedBy(poolToken?.price ?? 0))}</span>\n                </Text>\n              }>\n              {formatToken(seniorLiquidity, { compact: true })}\n            </Text>\n            <TokenIcon name={poolToken?.icon} className=\"ml-8\" />\n          </dd>\n        </div>\n        <div className={classNames(s.poolCardDlRow, 'mb-24')}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"flex align-middle col-gap-4\" tag=\"dt\">\n            Upside exposure rate\n            <InfoTooltip>\n              Senior positions will only receive this much of every percentage point gain in the underlying asset\n            </InfoTooltip>\n          </Text>\n          <dd>\n            <Text type=\"p1\" weight=\"semibold\" color=\"green\">\n              {formatPercent(upsideRate)}\n            </Text>\n          </dd>\n        </div>\n        <div className={classNames(s.poolCardDlRow, 'mb-16')}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"flex align-middle col-gap-4\" tag=\"dt\">\n            Downside protection rate\n            <InfoTooltip>Senior positions will only start taking losses beyond this decline</InfoTooltip>\n          </Text>\n          <dd>\n            <Text type=\"p1\" weight=\"semibold\" color=\"green\">\n              {formatPercent(downsideRate)}\n            </Text>\n          </dd>\n        </div>\n        <hr className=\"mb-24\" />\n        <div className={classNames(s.poolCardDlRow, 'mb-24')}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"flex align-middle col-gap-4\" tag=\"dt\">\n            Epoch junior liquidity\n          </Text>\n          <dd className=\"flex align-center\">\n            <Text\n              type=\"p1\"\n              weight=\"semibold\"\n              tooltip={\n                <Text type=\"p2\" color=\"primary\" className=\"flex flow-row row-gap-4\">\n                  <span>\n                    {formatToken(juniorLiquidity, {\n                      tokenName: item.poolToken.symbol,\n                      decimals: item.poolToken.decimals,\n                    })}\n                  </span>\n                  <span>{formatUSD(BigNumber.from(juniorLiquidity)?.multipliedBy(poolToken?.price ?? 0))}</span>\n                </Text>\n              }>\n              {formatToken(juniorLiquidity, { compact: true })}\n            </Text>\n            <TokenIcon name={poolToken?.icon} className=\"ml-8\" />\n          </dd>\n        </div>\n        <div className={classNames(s.poolCardDlRow, 'mb-24')}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"flex align-middle col-gap-4\" tag=\"dt\">\n            Upside leverage\n            <InfoTooltip>Junior positions will have their upside amplified by this much</InfoTooltip>\n          </Text>\n          <dd>\n            <Text type=\"p1\" weight=\"semibold\" color=\"purple\">\n              {upsideLeverage ? `${formatNumber(upsideLeverage)}x` : `-`}\n            </Text>\n          </dd>\n        </div>\n        <div className={classNames(s.poolCardDlRow, 'mb-24')}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"flex align-middle col-gap-4\" tag=\"dt\">\n            Downside leverage\n            <InfoTooltip>\n              {`How much of every 1% move to the downside in ${item.poolToken.symbol} price a junior position will have exposure to.`}\n              <br />\n              The downside leverage is only applicable until senior downside protection is fully covered, and junior\n              losses are fully realized.\n              <br />\n              {`Below that, is the ${item.poolToken.symbol} price after which there is no more senior downside protection to cover.`}\n            </InfoTooltip>\n          </Text>\n          <dd>\n            <Text\n              type=\"p1\"\n              weight=\"semibold\"\n              color=\"purple\"\n              tooltip={`You have this amount of downside leverage, until the ${\n                item.poolToken.symbol\n              } price drops under ${formatToken(tokenInOracleValueLeverage, {\n                tokenName: oracleToken?.symbol,\n              })} - after which there is no more downside leverage - or you can consider it as being 1x`}\n              className=\"mb-4\">\n              {downsideLeverage ? `≤${formatNumber(downsideLeverage)}x` : `-`}\n            </Text>\n            <div className=\"flex align-center justify-end\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                {formatToken(tokenInOracleValueLeverage) ?? '-'}\n              </Text>\n              <TokenIcon name={oracleToken?.icon} size={16} className=\"ml-4\" />\n            </div>\n          </dd>\n        </div>\n        <hr className=\"mb-24\" />\n        <div className={classNames(s.poolCardDlRow, 'mb-24')}>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"flex align-middle col-gap-4\" tag=\"dt\">\n            {poolToken?.symbol} current price\n          </Text>\n          <dd className=\"flex align-center justify-end\">\n            <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n              {formatToken(tokenInOracleValue) ?? '-'}\n            </Text>\n            <TokenIcon name={oracleToken?.icon} size={16} className=\"ml-4\" />\n          </dd>\n        </div>\n      </dl>\n      <footer className={s.poolCardFooter}>\n        <Link variation=\"ghost\" to={`${location.pathname}/${item.poolAddress}`}>\n          View details\n        </Link>\n      </footer>\n    </section>\n  );\n};\n\nfunction getColumns(epochType: EpochTypeKey): ColumnType<PoolApiType>[] {\n  if (epochType === EpochTypeKey.current) {\n    return [\n      {\n        heading: 'Asset/Epoch',\n        render: function Render(item) {\n          const { getToken, getAsset } = useTokens();\n\n          const poolToken = getToken(item.poolToken.symbol);\n          const oracleToken = getAsset(item.oracleAssetSymbol);\n          return (\n            <div className=\"flex align-center\">\n              <TokenIcon name={poolToken?.icon} size={40} bubble2Name={oracleToken?.icon} className=\"mr-16\" />\n              <div>\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\" tag=\"h2\" className=\"mb-4\">\n                  {item.poolName}\n                </Text>\n                <Text type=\"small\" weight=\"semibold\" color=\"red\" tag=\"small\">\n                  Epoch {item.state.epoch}\n                </Text>\n              </div>\n            </div>\n          );\n        },\n      },\n      {\n        heading: 'Epoch ends in',\n        render: item => {\n          return (\n            <UseLeftTime delay={1_000}>\n              {() => {\n                const tne = tillNextEpoch(item);\n\n                return (\n                  <Text type=\"p1\" weight=\"semibold\">\n                    {getFormattedDuration(tne, undefined, {\n                      format: ['months', 'days', 'hours', 'minutes'],\n                    })}\n                  </Text>\n                );\n              }}\n            </UseLeftTime>\n          );\n        },\n      },\n      {\n        heading: 'Epoch senior liquidity',\n        render: function Render(item) {\n          const { getToken } = useTokens();\n          const poolToken = getToken(item.poolToken.symbol);\n\n          return (\n            <div className=\"flex align-center justify-end\">\n              <Text\n                type=\"p1\"\n                weight=\"semibold\"\n                tooltip={\n                  <Text type=\"p2\" color=\"primary\" className=\"flex flow-row row-gap-4\">\n                    <span>\n                      {formatToken(item.state.seniorLiquidity, {\n                        tokenName: item.poolToken.symbol,\n                        decimals: item.poolToken.decimals,\n                      })}\n                    </span>\n                    <span>\n                      {formatUSD(BigNumber.from(item.state.seniorLiquidity)?.multipliedBy(poolToken?.price ?? 0))}\n                    </span>\n                  </Text>\n                }>\n                {formatToken(item.state.seniorLiquidity, { compact: true })}\n              </Text>\n              <TokenIcon name={poolToken?.icon} className=\"ml-8\" />\n            </div>\n          );\n        },\n      },\n      {\n        heading: (\n          <div className=\"flex align-center justify-end\">\n            Upside\n            <br />\n            exposure rate{' '}\n            <InfoTooltip className=\"ml-4\">\n              Senior positions will only receive this much of every percentage point gain in the underlying asset\n            </InfoTooltip>\n          </div>\n        ),\n        align: 'right',\n        render: item => {\n          return (\n            <Text type=\"p1\" weight=\"semibold\" color=\"green\">\n              {formatPercent(Number(item.state.upsideExposureRate))}\n            </Text>\n          );\n        },\n      },\n      {\n        heading: (\n          <div className=\"flex align-center justify-end\">\n            Downside\n            <br />\n            protection rate{' '}\n            <InfoTooltip className=\"ml-4\">\n              Senior positions will only start taking losses beyond this decline\n            </InfoTooltip>\n          </div>\n        ),\n        align: 'right',\n        render: item => {\n          return (\n            <Text type=\"p1\" weight=\"semibold\" color=\"green\">\n              {formatPercent(Number(item.state.downsideProtectionRate))}\n            </Text>\n          );\n        },\n      },\n      {\n        heading: 'Epoch junior liquidity',\n        align: 'right',\n        render: function Render(item) {\n          const { getToken } = useTokens();\n          const poolToken = getToken(item.poolToken.symbol);\n\n          return (\n            <div className=\"flex align-center justify-end\">\n              <Text\n                type=\"p1\"\n                weight=\"semibold\"\n                tooltip={\n                  <Text type=\"p2\" color=\"primary\" className=\"flex flow-row row-gap-4\">\n                    <span>\n                      {formatToken(item.state.juniorLiquidity, {\n                        tokenName: item.poolToken.symbol,\n                        decimals: item.poolToken.decimals,\n                      })}\n                    </span>\n                    <span>\n                      {formatUSD(BigNumber.from(item.state.juniorLiquidity)?.multipliedBy(poolToken?.price ?? 0))}\n                    </span>\n                  </Text>\n                }>\n                {formatToken(item.state.juniorLiquidity, { compact: true })}\n              </Text>\n              <TokenIcon name={poolToken?.icon} className=\"ml-8\" />\n            </div>\n          );\n        },\n      },\n      {\n        heading: (\n          <div className=\"flex align-center justify-end\">\n            Upside\n            <br />\n            leverage{' '}\n            <InfoTooltip className=\"ml-4\">Junior positions will have their upside amplified by this much</InfoTooltip>\n          </div>\n        ),\n        align: 'right',\n        render: item => {\n          const seniorLiquidity = new BigNumber(item.state.seniorLiquidity);\n          const juniorLiquidity = new BigNumber(item.state.juniorLiquidity);\n          const exposure = new BigNumber(item.state.upsideExposureRate);\n          const upsideLeverage = juniorLiquidity.gt(0)\n            ? seniorLiquidity.div(juniorLiquidity).multipliedBy(new BigNumber(1).minus(exposure)).plus(1)\n            : new BigNumber(1);\n\n          return (\n            <Text type=\"p1\" weight=\"semibold\" color=\"purple\">\n              {upsideLeverage ? `${formatNumber(upsideLeverage)}x` : `-`}\n            </Text>\n          );\n        },\n      },\n      {\n        heading: (\n          <div className=\"flex align-center justify-end\">\n            Downside\n            <br />\n            leverage{' '}\n            <InfoTooltip className=\"ml-4\">\n              How much of every 1% move to the downside in underlying token price a junior position will have exposure\n              to.\n              <br />\n              The downside leverage is only applicable until senior downside protection is fully covered, and junior\n              losses are fully realized.\n              <br />\n              Below that, is the underlying token price after which there is no more senior downside protection to\n              cover.\n            </InfoTooltip>\n          </div>\n        ),\n        align: 'right',\n        render: function Render(item) {\n          const seniorLiquidity = new BigNumber(item.state.seniorLiquidity);\n          const juniorLiquidity = new BigNumber(item.state.juniorLiquidity);\n          const downsideLeverage = juniorLiquidity.gt(0)\n            ? seniorLiquidity.div(juniorLiquidity).plus(1)\n            : new BigNumber(1);\n\n          const { getToken, getAsset } = useTokens();\n          const poolToken = getToken(item.poolToken.symbol);\n          const oracleToken = getAsset(item.oracleAssetSymbol);\n\n          const tokenInOracleValueLeverage =\n            poolToken?.price && oracleToken?.price\n              ? poolToken.price\n                  ?.multipliedBy(new BigNumber(1).minus(Number(item.state.downsideProtectionRate)))\n                  ?.dividedBy(oracleToken.price)\n              : undefined;\n\n          return (\n            <>\n              <Text\n                type=\"p1\"\n                weight=\"semibold\"\n                color=\"purple\"\n                tooltip={`You have this amount of downside leverage, until the ${\n                  item.poolToken.symbol\n                } price drops under ${formatToken(tokenInOracleValueLeverage, {\n                  tokenName: oracleToken?.symbol,\n                })} - after which there is no more downside leverage - or you can consider it as being 1x`}\n                className=\"mb-4\">\n                {downsideLeverage ? `≤${formatNumber(downsideLeverage)}x` : `-`}\n              </Text>\n\n              <div className=\"flex align-center justify-end\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                  {formatToken(tokenInOracleValueLeverage) ?? '-'}\n                </Text>\n                <TokenIcon name={oracleToken?.icon} size={16} className=\"ml-4\" />\n              </div>\n            </>\n          );\n        },\n      },\n      {\n        heading: 'Pool token current price',\n        align: 'right',\n        render: function Render(item) {\n          const { getToken, getAsset } = useTokens();\n          const poolToken = getToken(item.poolToken.symbol);\n          const oracleToken = getAsset(item.oracleAssetSymbol);\n\n          const tokenInOracleValue =\n            poolToken?.price && oracleToken?.price ? poolToken.price?.dividedBy(oracleToken.price) : undefined;\n\n          return (\n            <div className=\"flex align-center justify-end\">\n              <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                {formatToken(tokenInOracleValue) ?? '-'}\n              </Text>\n              <TokenIcon name={oracleToken?.icon} size={16} className=\"ml-4\" />\n            </div>\n          );\n        },\n      },\n    ];\n  }\n\n  return [\n    {\n      heading: 'Asset/Epoch',\n      render: function Render(item) {\n        const { getToken, getAsset } = useTokens();\n\n        const poolToken = getToken(item.poolToken.symbol);\n        const oracleToken = getAsset(item.oracleAssetSymbol);\n        return (\n          <div className=\"flex align-center\">\n            <TokenIcon name={poolToken?.icon} size={40} bubble2Name={oracleToken?.icon} className=\"mr-16\" />\n            <div>\n              <Text type=\"p1\" weight=\"semibold\" color=\"primary\" tag=\"h2\" className=\"mb-4\">\n                {item.poolName}\n              </Text>\n              <Text type=\"small\" weight=\"semibold\" color=\"red\" tag=\"small\">\n                Epoch {item.state.epoch}\n              </Text>\n            </div>\n          </div>\n        );\n      },\n    },\n    {\n      heading: 'Epoch senior liquidity',\n      render: function Render(item) {\n        const { getToken } = useTokens();\n        const poolToken = getToken(item.poolToken.symbol);\n\n        const { nextEpochEstimates } = useNextEpochEstimate(item.poolAddress);\n        const seniorLiquidity = nextEpochEstimates[1]?.unscaleBy(item.poolToken.decimals);\n\n        return (\n          <div className=\"flex align-center justify-end\">\n            <Text\n              type=\"p1\"\n              weight=\"semibold\"\n              tooltip={\n                <Text type=\"p2\" color=\"primary\" className=\"flex flow-row row-gap-4\">\n                  <span>\n                    {formatToken(seniorLiquidity, {\n                      tokenName: item.poolToken.symbol,\n                      decimals: item.poolToken.decimals,\n                    })}\n                  </span>\n                  <span>{formatUSD(BigNumber.from(seniorLiquidity)?.multipliedBy(poolToken?.price ?? 0))}</span>\n                </Text>\n              }>\n              {formatToken(seniorLiquidity, { compact: true })}\n            </Text>\n            <TokenIcon name={poolToken?.icon} className=\"ml-8\" />\n          </div>\n        );\n      },\n    },\n    {\n      heading: (\n        <div className=\"flex align-center justify-end\">\n          Upside\n          <br />\n          exposure rate{' '}\n          <InfoTooltip className=\"ml-4\">\n            Senior positions will only receive this much of every percentage point gain in the underlying asset\n          </InfoTooltip>\n        </div>\n      ),\n      align: 'right',\n      render: function Render(item) {\n        const { nextEpochEstimates } = useNextEpochEstimate(item.poolAddress);\n        const upsideRate = nextEpochEstimates[2]?.unscaleBy(SMART_ALPHA_DECIMALS);\n\n        return (\n          <Text type=\"p1\" weight=\"semibold\" color=\"green\">\n            {formatPercent(upsideRate)}\n          </Text>\n        );\n      },\n    },\n    {\n      heading: (\n        <div className=\"flex align-center justify-end\">\n          Downside\n          <br />\n          protection rate{' '}\n          <InfoTooltip className=\"ml-4\">Senior positions will only start taking losses beyond this decline</InfoTooltip>\n        </div>\n      ),\n      align: 'right',\n      render: function Render(item) {\n        const { nextEpochEstimates } = useNextEpochEstimate(item.poolAddress);\n\n        const downsideRate = nextEpochEstimates[3]?.unscaleBy(SMART_ALPHA_DECIMALS);\n\n        return (\n          <Text type=\"p1\" weight=\"semibold\" color=\"green\">\n            {formatPercent(downsideRate)}\n          </Text>\n        );\n      },\n    },\n    {\n      heading: 'Epoch junior liquidity',\n      align: 'right',\n      render: function Render(item) {\n        const { getToken } = useTokens();\n        const poolToken = getToken(item.poolToken.symbol);\n        const { nextEpochEstimates } = useNextEpochEstimate(item.poolAddress);\n        const juniorLiquidity = nextEpochEstimates[0]?.unscaleBy(item.poolToken.decimals);\n\n        return (\n          <div className=\"flex align-center justify-end\">\n            <Text\n              type=\"p1\"\n              weight=\"semibold\"\n              tooltip={\n                <Text type=\"p2\" color=\"primary\" className=\"flex flow-row row-gap-4\">\n                  <span>\n                    {formatToken(juniorLiquidity, {\n                      tokenName: item.poolToken.symbol,\n                      decimals: item.poolToken.decimals,\n                    })}\n                  </span>\n                  <span>{formatUSD(BigNumber.from(juniorLiquidity)?.multipliedBy(poolToken?.price ?? 0))}</span>\n                </Text>\n              }>\n              {formatToken(juniorLiquidity, { compact: true })}\n            </Text>\n            <TokenIcon name={poolToken?.icon} className=\"ml-8\" />\n          </div>\n        );\n      },\n    },\n    {\n      heading: (\n        <div className=\"flex align-center justify-end\">\n          Upside\n          <br />\n          leverage{' '}\n          <InfoTooltip className=\"ml-4\">Junior positions will have their upside amplified by this much</InfoTooltip>\n        </div>\n      ),\n      align: 'right',\n      render: function Render(item) {\n        const { nextEpochUpsideLeverage } = useNextEpochEstimate(item.poolAddress);\n\n        return (\n          <Text type=\"p1\" weight=\"semibold\" color=\"purple\">\n            {nextEpochUpsideLeverage ? `${formatNumber(nextEpochUpsideLeverage)}x` : `-`}\n          </Text>\n        );\n      },\n    },\n    {\n      heading: (\n        <div className=\"flex align-center justify-end\">\n          Downside\n          <br />\n          leverage{' '}\n          <InfoTooltip className=\"ml-4\">\n            How much of every 1% move to the downside in underlying token price a junior position will have exposure to.\n            <br />\n            The downside leverage is only applicable until senior downside protection is fully covered, and junior\n            losses are fully realized.\n            <br />\n            Below that, is the underlying token price after which there is no more senior downside protection to cover.\n          </InfoTooltip>\n        </div>\n      ),\n      align: 'right',\n      render: function Render(item) {\n        const { getToken, getAsset } = useTokens();\n        const { nextEpochEstimates, nextEpochDownsideLeverage } = useNextEpochEstimate(item.poolAddress);\n\n        const poolToken = getToken(item.poolToken.symbol);\n        const oracleToken = getAsset(item.oracleAssetSymbol);\n\n        const downsideRate = nextEpochEstimates[3]?.unscaleBy(SMART_ALPHA_DECIMALS);\n\n        const tokenInOracleValueLeverage =\n          downsideRate && poolToken?.price && oracleToken?.price\n            ? poolToken.price?.multipliedBy(new BigNumber(1).minus(downsideRate))?.dividedBy(oracleToken.price)\n            : undefined;\n\n        return (\n          <>\n            <Text\n              type=\"p1\"\n              weight=\"semibold\"\n              color=\"purple\"\n              tooltip={`You have this amount of downside leverage, until the ${\n                item.poolToken.symbol\n              } price drops under ${formatToken(tokenInOracleValueLeverage, {\n                tokenName: oracleToken?.symbol,\n              })} - after which there is no more downside leverage - or you can consider it as being 1x`}\n              className=\"mb-4\">\n              {nextEpochDownsideLeverage ? `≤${formatNumber(nextEpochDownsideLeverage)}x` : `-`}\n            </Text>\n\n            <div className=\"flex align-center justify-end\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                {formatToken(tokenInOracleValueLeverage) ?? '-'}\n              </Text>\n              <TokenIcon name={oracleToken?.icon} size={16} className=\"ml-4\" />\n            </div>\n          </>\n        );\n      },\n    },\n    {\n      heading: 'Pool token current price',\n      align: 'right',\n      render: function Render(item) {\n        const { getToken, getAsset } = useTokens();\n        const poolToken = getToken(item.poolToken.symbol);\n        const oracleToken = getAsset(item.oracleAssetSymbol);\n\n        const tokenInOracleValue =\n          poolToken?.price && oracleToken?.price ? poolToken.price?.dividedBy(oracleToken.price) : undefined;\n\n        return (\n          <div className=\"flex align-center justify-end\">\n            <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n              {formatToken(tokenInOracleValue) ?? '-'}\n            </Text>\n            <TokenIcon name={oracleToken?.icon} size={16} className=\"ml-4\" />\n          </div>\n        );\n      },\n    },\n  ];\n}\n\nconst TableLayout = ({\n  items,\n  epochType,\n  loading,\n}: {\n  items: PoolApiType[];\n  epochType: EpochTypeKey;\n  loading: boolean;\n}) => {\n  const location = useLocation();\n\n  const columns = useMemo(() => getColumns(epochType), [epochType]);\n\n  return (\n    <Table<PoolApiType>\n      columns={columns}\n      data={items}\n      variation=\"separated\"\n      link={item => `${location.pathname}/${item.poolAddress}`}\n      loading={loading}\n    />\n  );\n};\n"],"sourceRoot":""}