(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[13],{1361:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var c=a(4),n=a(17),r=a(8),s=a.n(r),o=a(33),i=a(1429),l=a.n(i),d=a(1),b=["className","children","spinning"],j=function(e){var t=e.className,a=e.children,r=e.spinning,i=Object(n.a)(e,b);return a?r?Object(d.jsxs)("div",{className:l.a.container,children:[Object(d.jsx)("div",{className:l.a.children,children:a}),Object(d.jsx)(o.a,Object(c.a)({name:"loader",className:s()(l.a.spinner,t)},i))]}):Object(d.jsx)(d.Fragment,{children:a}):Object(d.jsx)(o.a,Object(c.a)({name:"loader",className:s()(l.a.spinner,t)},i))}},1399:function(e,t,a){"use strict";a.d(t,"a",(function(){return O})),a.d(t,"b",(function(){return g}));var c=a(4),n=a(13),r=a(56),s=a(8),o=a.n(s),i=a(0),l=a(33),d=a(1444),b=a.n(d),j=a(1);var u=function(e){var t=e.className,a=e.total,c=e.current,r=e.pageSize,s=e.onChange,d=Math.ceil(a/r),u=Object(i.useMemo)((function(){return function(e,t){var a,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=e-c,r=e+c+1,s=[],o=[];if(t<2)return[1];s.push(1);for(var i=e-c;i<=e+c;i++)i>=n&&i<r&&i<t&&i>1&&s.push(i);return s.push(t),s.forEach((function(e){a&&(e-a===2?o.push(a+1):e-a!==1&&o.push(null)),o.push(e),a=e})),o}(c,d)}),[c,d]);return d<2?null:Object(j.jsxs)("div",{className:o()(b.a.pagination,t),children:[Object(j.jsx)("button",{className:o()(b.a.page,b.a.prev),type:"button",onClick:function(){return s(c-1)},disabled:c<=1,children:Object(j.jsx)(l.a,{name:"chevron",rotate:180,size:24})}),u.map((function(e,t){return e?Object(j.jsx)("button",{onClick:function(){return s(e)},className:o()(b.a.page,Object(n.a)({},b.a.active,e===c)),type:"button",disabled:e===c,children:e},t):Object(j.jsx)("div",{className:b.a.separator,children:"..."},t)})),Object(j.jsx)("button",{className:o()(b.a.page,b.a.next),type:"button",onClick:function(){return s(c+1)},disabled:c>=d,children:Object(j.jsx)(l.a,{name:"chevron",size:24})})]})},m=a(1361),h=a(12),x=a(1445),p=a.n(x),O=function(e){var t,a=e.columns,s=e.data,i=e.loading,d=e.rowKey,b=e.variation,u=void 0===b?"standard":b,h=e.link,x=Object(r.g)();return Object(j.jsxs)("div",{className:o()("table-container",p.a.tableContainer,Object(n.a)({},p.a.loading,i)),children:[Object(j.jsxs)("table",{className:o()(p.a.table,(t={table:"standard"===u,"table-separated":"separated"===u},Object(n.a)(t,p.a.clickable,h),Object(n.a)(t,p.a.loading,i),t)),children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[a.map((function(e,t){var a=e.heading,c=e.align;return Object(j.jsx)("th",{className:c?"text-".concat(c):void 0,children:a},t)})),h?Object(j.jsx)("th",{}):null]})}),Object(j.jsx)("tbody",{children:s.map((function(e,t){var n;return Object(j.jsxs)("tr",{onClick:h?function(){return x.push(h(e))}:void 0,children:[a.map((function(t,a){var n=t.render,r=t.align;return Object(j.jsx)("td",{className:r?"text-".concat(r):void 0,children:Object(j.jsx)(n,Object(c.a)({},e))},a)})),h?Object(j.jsx)("td",{children:Object(j.jsx)(l.a,{name:"arrow",color:"red",className:p.a.arrowIcon})}):null]},null!==(n=null===d||void 0===d?void 0:d(e))&&void 0!==n?n:t)}))})]}),i&&Object(j.jsx)(m.a,{className:p.a.spinner,style:{width:40,height:40,position:"absolute",marginTop:-20,marginLeft:-20}})]})},g=function(e){e.children;var t=e.text,a=e.total,c=e.current,n=e.pageSize,r=e.onChange,s=function(e){var t,a=e.text,c=e.total,n=e.current,r=e.pageSize;if(a){var s=c?(n-1)*r+1:0,o=n*r>c?c:n*r;"function"===typeof a&&(t=a({total:c,from:s,to:o})),!0===a&&(t=Object(j.jsxs)(j.Fragment,{children:["Showing ",s," to ",o," out of ",c," entries"]}))}return t}({text:t,total:a,current:c,pageSize:n});return Object(j.jsxs)("div",{className:o()(p.a.tableFooter,"p-24"),children:[s?Object(j.jsx)(h.b,{type:"p2",weight:"semibold",color:"secondary",children:s}):null,Object(j.jsx)(u,{total:a,current:c,pageSize:n,onChange:r})]})}},1429:function(e,t,a){e.exports={spinner:"s_spinner__2lxg5",rotate:"s_rotate__K9I_G",container:"s_container__2DwVy",children:"s_children__1ZC_G"}},1444:function(e,t,a){e.exports={pagination:"s_pagination__3UMZt",page:"s_page__29oPu",separator:"s_separator__1n_F1",prev:"s_prev__2g1Q9",next:"s_next__d_WwI",active:"s_active__ec-7d"}},1445:function(e,t,a){e.exports={tableContainer:"s_tableContainer__2Dki2",loading:"s_loading__1OMuZ",table:"s_table__Nd1Ke",clickable:"s_clickable__1x0tg",arrowIcon:"s_arrowIcon__1zygh",tableFooter:"s_tableFooter__3iZZl",spinner:"s_spinner__1axuf"}},1464:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a(4),n=a(99),r=a(33),s=a(1),o=function(e){var t=e.children,a=e.className,o=e.style;return Object(s.jsx)(n.a,{title:t,children:Object(s.jsx)(r.a,{name:"info",size:16,className:a,style:Object(c.a)({flexShrink:0},o)})})}},2227:function(e,t,a){e.exports={progress:"s_progress__Zi7Jh"}},2294:function(e,t,a){"use strict";a.r(t);var c=a(15),n=a(5),r=a(0),s=a(8),o=a.n(s),i=a(141),l=a(65),d=a(99),b=a(63),j=a(1464),u=a(12),m=a(33),h=a(183),x=a(415),p=a(1437),O=a(58),g=a(2227),v=a.n(g),f=a(1),N=function(e){var t=e.target,a=e.value,c=e.backgroundColor,n=void 0===c?"#627EEA":c,r=e.progressColor,s=void 0===r?"#F7931A":r,o="transparent";return a<t&&(o=s),a>t&&(o=n),Object(f.jsx)("progress",{max:"100",value:100*t,className:v.a.progress,style:{"--background-color":n,"--progress-color":s,"--current-color":o,"--current-progress":100*a,"--target-progress":100*t},children:Object(l.c)(t)})},y=a(1399),_=[{heading:Object(f.jsxs)("div",{className:"flex align-center col-gap-4",children:["Target & current ratio"," ",Object(f.jsx)(j.a,{children:"The target funds ratio (top) and the current actual ratio (bottom)"})]}),render:function(e){var t=Object(h.c)().getTokenBySymbol,a=t(e.tokenA.symbol),c=t(e.tokenB.symbol);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"flex col-gap-32 mb-8",children:[Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(x.a,{name:null===a||void 0===a?void 0:a.icon,className:"mr-8"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"text-p1 fw-semibold color-primary",children:Object(l.c)(Number(e.tokenARatio))}),Object(f.jsx)(w,{current:Number(e.state.tokenACurrentRatio),target:Number(e.tokenARatio)})]})]}),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(x.a,{name:null===c||void 0===c?void 0:c.icon,className:"mr-8"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"text-p1 fw-semibold color-primary",children:Object(l.c)(Number(e.tokenBRatio))}),Object(f.jsx)(w,{current:Number(e.state.tokenBCurrentRatio),target:Number(e.tokenBRatio)})]})]})})]}),Object(f.jsx)(N,{target:Number(e.tokenARatio),value:Number(e.state.tokenACurrentRatio)})]})}},{heading:Object(f.jsxs)("div",{className:"flex align-center col-gap-4",children:["Tranche liquidity ",Object(f.jsx)(j.a,{children:"Total value locked in the tranche"})]}),render:function(e){return Object(f.jsx)("div",{className:"text-p1 fw-semibold color-primary",children:Object(l.e)(Number(e.state.tokenALiquidity)+Number(e.state.tokenBLiquidity))})}},{heading:Object(f.jsxs)("div",{className:"flex align-center col-gap-4",children:["Exposure token conversion rate"," ",Object(f.jsx)(j.a,{children:"1 token of this tranche can be redeemed for this amount"})]}),render:function(e){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"text-p1 fw-semibold color-primary",children:Object(l.e)(e.state.eTokenPrice)}),Object(f.jsxs)("div",{className:"text-sm fw-semibold color-secondary text-nowrap",children:["per ",e.eTokenSymbol]})]})}},{heading:"",render:function(e){return Object(f.jsx)(O.c,{to:"/smart-exposure/pools/".concat(e.poolAddress,"/").concat(e.eTokenAddress),className:"button-ghost",children:"View details"})}}],k=function(e){var t=e.pool,a=Object(r.useState)([]),c=Object(n.a)(a,2),s=c[0],o=c[1],i=Object(p.c)();return Object(r.useEffect)((function(){i.fetchTranches(t.poolAddress).then(o)}),[t.poolAddress]),Object(f.jsx)(y.a,{columns:_,data:s})},w=function(e){var t=e.current,a=e.target;return t<a?Object(f.jsxs)("div",{className:"text-sm fw-semibold color-red flex",children:[Object(l.c)(t),Object(f.jsx)(m.a,{name:"arrow",rotate:45,className:"mr-8",size:16,color:"red"})]}):t>a?Object(f.jsxs)("div",{className:"text-sm fw-semibold color-green flex",children:[Object(l.c)(t),Object(f.jsx)(m.a,{name:"arrow",rotate:315,className:"mr-8",size:16,color:"green"})]}):Object(f.jsx)("div",{className:"text-sm fw-semibold color-secondary flex",children:Object(l.c)(t)})},A=a(60);t.default=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],s=t[1],O=Object(r.useState)([]),g=Object(n.a)(O,2),v=g[0],N=g[1],y=Object(h.c)().getTokenBySymbol,_=Object(p.c)();Object(r.useEffect)((function(){_.fetchPools().then((function(e){s(null!==e&&void 0!==e?e:[])}))}),[]);var w=v.length?v:a,C=Object(r.useMemo)((function(){return a.reduce((function(e,t){return e+Number(t.state.poolLiquidity)}),0)}),[a]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"tab-cards mb-40",children:a.map((function(e){var t=y(e.tokenA.symbol),a=y(e.tokenB.symbol),n=v.includes(e);return Object(f.jsxs)("button",{type:"button",className:o()("tab-card",n&&"active"),disabled:!1,style:{color:""},onClick:function(){var t=v.includes(e)?v.filter((function(t){return t!==e})):[].concat(Object(c.a)(v),[e]);N(t)},children:[Object(f.jsx)(x.b,{name1:null===t||void 0===t?void 0:t.icon,name2:null===a||void 0===a?void 0:a.icon,size:40,className:"mr-16"}),Object(f.jsxs)("div",{children:[Object(f.jsx)(u.b,{type:"p1",weight:"semibold",color:"primary",children:e.poolName}),Object(f.jsx)(u.b,{type:"small",weight:"semibold",color:"secondary",children:"Pools"})]}),Object(f.jsx)(b.a,{name:n?"checkbox-checked":"checkbox",style:{marginLeft:24,flexShrink:0}})]},e.poolName)}))}),Object(f.jsx)(u.b,{type:"p1",weight:"semibold",color:"secondary",className:"mb-4",children:"Total value locked"}),Object(f.jsxs)("div",{className:"mb-40 flex align-center",children:[Object(f.jsx)(u.b,{type:"h2",weight:"bold",color:"primary",className:"mr-8",children:Object(l.e)(C)}),Object(f.jsx)(d.a,{title:Object(f.jsxs)(f.Fragment,{children:["The BarnBridge SMART Exposure contracts are covered by:",Object(f.jsx)("br",{})," - Bridge Mutual,"," ",Object(f.jsx)("a",{href:"https://app.bridgemutual.io/user/cover/0xdb9A242cfD588507106919051818e771778202e9",rel:"noopener noreferrer",target:"_blank",children:"click here"})," ","to purchase coverage"]}),children:Object(f.jsx)(m.a,{name:"insured",color:"green",size:32})})]}),w.map((function(e){var t=y(e.tokenA.symbol),a=y(e.tokenB.symbol);return Object(f.jsxs)(r.Fragment,{children:[Object(f.jsxs)("div",{className:"card mb-8 p-24 flex wrap align-center col-gap-64 row-gap-16",children:[Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(x.b,{name1:null===t||void 0===t?void 0:t.icon,name2:null===a||void 0===a?void 0:a.icon,size:40,className:"mr-16"}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(u.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:[e.poolName," total liquidity"]}),Object(f.jsx)(u.b,{type:"small",weight:"semibold",color:"secondary",children:Object(l.e)(e.state.poolLiquidity)})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsxs)(u.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4 mb-4",children:["Rebalancing Strategy",Object(f.jsx)(j.a,{children:"Rebalancing of the tranche is triggered based on the conditions the pool is set up with. They can be either time or deviation based."})]}),Object(f.jsxs)(u.b,{type:"p1",weight:"semibold",color:"primary",className:"flex align-center",children:["Every ",Object(A.d)(e.state.rebalancingInterval)||"0 seconds"]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)(u.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Last rebalance"}),Object(f.jsx)(u.b,{type:"p1",weight:"semibold",color:"primary",className:"flex align-center",children:e.state.lastRebalance?Object(i.a)(new Date(1e3*e.state.lastRebalance),"dd.MM.yyyy HH:mm"):"Always"})]})]}),Object(f.jsx)("div",{className:"card mb-32",children:Object(f.jsx)(k,{pool:e})})]},e.poolAddress)}))]})}}}]);
//# sourceMappingURL=pools-view.cc814173.chunk.js.map