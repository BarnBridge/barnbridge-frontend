{"version":3,"sources":["components/antd/form/index.tsx","components/antd/divider/index.tsx","components/antd/form/s.module.scss","components/antd/divider/s.module.scss","components/custom/gas-fee-list/index.tsx","components/antd/radio-button/index.tsx","components/antd/radio-button/s.module.scss","components/custom/gas-fee-list/s.module.scss","components/antd/input/index.tsx","hooks/useLeftTime.tsx","components/antd/input/s.module.scss","components/custom/transaction-details/index.tsx","components/custom/transaction-details/s.module.scss","modules/smart-yield/components/tx-confirm-modal/index.tsx","modules/smart-yield/components/tx-confirm-modal/s.module.scss","components/antd/slider/s.module.scss","components/custom/token-amount/s.module.scss","components/antd/slider/index.tsx","components/custom/numeric-input/index.tsx","components/custom/token-amount/index.tsx","modules/smart-yield/views/withdraw-view/two-step-withdraw/index.tsx"],"names":["Form","props","className","children","formProps","cn","s","form","layout","requiredMark","Item","label","hint","extra","itemProps","item","flow","gap","align","title","name","size","List","listProps","Divider","dividerProps","divider","module","exports","GasFeeList","value","groupProps","onChange","activeNetwork","useNetwork","useMergeState","options","loading","selected","undefined","state","setState","React","useEffect","url","explorer","apiUrl","key","fetch","then","result","json","veryFast","Number","FastGasPrice","fast","ProposeGasPrice","average","Math","round","SafeGasPrice","safeLow","catch","length","Group","style","width","ev","target","list","map","option","type","weight","color","RadioButton","radioProps","component","Input","disabled","inputProps","autoComplete","useLeftTime","optsRef","useRef","current","useState","isStarted","setStarted","isRunning","setRunning","getLeftTime","useCallback","end","max","valueOf","Date","now","useInterval","leftTime","onTick","stopInterval","onEnd","delay","startInterval","onStart","useMemo","start","stop","onStop","pause","resume","UseLeftTime","windowState","useGeneral","useReload","reload","leftTimeRef","isVisible","SLIPPAGE_OPTIONS","TransactionCustomization","showSlippage","slippage","showDeadline","deadline","Antd","useForm","handleValuesChange","values","strValue","String","slice","setFieldsValue","handleReset","resetFields","handleFinish","initialValues","validateTrigger","onValuesChange","onFinish","opt","onClick","rules","required","message","validator","_","Promise","resolve","reject","noStyle","deadlineInput","suffix","htmlType","TransactionDetails","slippageHint","visible","setVisible","handleChange","container","overlayStyle","content","onVisibleChange","text","TxConfirmModal","header","submitText","onConfirm","modalProps","submitting","setSubmitting","a","gasPrice","onCancel","Slider","rest","tooltipPlacement","removeComma","replace","NumericInput","maximumFractionDigits","forceRender","valueRef","onChangeRef","stateVal","val","BigNumber","toFormat","bnValue","event","rx","RegExp","test","onBlur","TokenAmount","tokenIcon","slider","displayDecimals","step","min","bnMaxValue","MAX_UINT_256","placeholder","formatBigValue","addonBefore","addonAfter","inputValue","toNumber","tipFormatter","sliderValue","InitialFormValues","to","TwoStepWithdraw","history","useHistory","poolCtx","useSYPool","projectToken","useKnownTokens","getContract","useContractManager","withdrawModalVisible","showWithdrawModal","pool","marketId","tokenId","handleTxDetailsChange","args","getFieldsValue","ZERO","smartYieldContract","smartYieldAddress","SYSmartYieldContract","getAbond","abond","decimals","underlyingDecimals","tokenAmount","getNonHumanValue","maxMaturesAt","maturesAt","deadlineMs","actions","twoStepWithdraw","href","token","icon","bubble1Name","bubble2Name","market","active","getHumanValue","contracts","smartYield","balance","hidden","shouldUpdate","getFormattedDuration","underlyingSymbol","justify","push","pathname","search","height","symbol"],"mappings":"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","file":"static/js/40.0690cab8.chunk.js","sourcesContent":["import React from 'react';\nimport AntdForm, {\n  FormItemProps as AntdFormItemProps,\n  FormListProps as AntdFormListProps,\n  FormProps as AntdFormProps,\n} from 'antd/lib/form';\nimport cn from 'classnames';\n\nimport { Icon } from 'components/icon';\n\nimport Grid from '../../custom/grid';\nimport Tooltip from '../tooltip';\n\nimport s from './s.module.scss';\n\nexport type FormListProps = AntdFormListProps;\n\nconst FormList: React.FC<FormListProps> = props => {\n  const { children, ...listProps } = props;\n\n  return <AntdForm.List {...listProps}>{children}</AntdForm.List>;\n};\n\nexport type FormItemProps = AntdFormItemProps<any> & {\n  hint?: string;\n};\n\nconst FormItem: React.FC<FormItemProps> = props => {\n  const { className, label, hint, extra, children, ...itemProps } = props;\n\n  return (\n    <AntdForm.Item\n      className={cn(s.item, className)}\n      {...itemProps}\n      label={\n        <>\n          <Grid flow=\"col\" gap={4} align=\"center\">\n            {label}\n            {hint && (\n              <Tooltip title={hint}>\n                <span>\n                  <Icon name=\"info\" size={15} />\n                </span>\n              </Tooltip>\n            )}\n          </Grid>\n          {extra}\n        </>\n      }>\n      {children}\n    </AntdForm.Item>\n  );\n};\n\nexport type FormProps = AntdFormProps;\n\nconst Form: React.FC<FormProps> = props => {\n  const { className, children, ...formProps } = props;\n\n  return (\n    <AntdForm className={cn(s.form, className)} layout=\"vertical\" requiredMark={false} {...formProps}>\n      {children}\n    </AntdForm>\n  );\n};\n\nexport type StaticFormProps = {\n  Item: React.FC<FormItemProps>;\n  List: React.FC<FormListProps>;\n};\n\n(Form as any as StaticFormProps).Item = FormItem;\n(Form as any as StaticFormProps).List = FormList;\n\nexport default Form as React.FC<FormProps> & StaticFormProps;\n","import React from 'react';\nimport AntdDivider, { DividerProps as AntdDividerProps } from 'antd/lib/divider';\nimport cn from 'classnames';\n\nimport s from './s.module.scss';\n\nconst Divider: React.FC<AntdDividerProps> = props => {\n  const { className, ...dividerProps } = props;\n\n  return <AntdDivider className={cn(s.divider, className)} {...dividerProps} />;\n};\n\nexport default Divider;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"s_form__36nMg\",\"item\":\"s_item__2gbuN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"s_divider__3YM-J\"};","import React from 'react';\nimport AntdRadio, { RadioChangeEvent, RadioGroupProps } from 'antd/lib/radio';\nimport AntdSpin from 'antd/lib/spin';\n\nimport RadioButton from 'components/antd/radio-button';\nimport Grid from 'components/custom/grid';\nimport { Text } from 'components/custom/typography';\nimport { useNetwork } from 'components/providers/networkProvider';\nimport useMergeState from 'hooks/useMergeState';\n\nimport s from './s.module.scss';\n\ntype GasFeeOption = {\n  key: string;\n  name: string;\n  value: number;\n};\n\ntype GasFeeListState = {\n  options: GasFeeOption[];\n  loading: boolean;\n  selected?: GasFeeOption;\n};\n\nexport type GasFeeListProps = RadioGroupProps & {\n  value?: GasFeeOption;\n  onChange?: (value: GasFeeOption) => void;\n};\n\nconst GasFeeList: React.FC<GasFeeListProps> = props => {\n  const { className, value, onChange, ...groupProps } = props;\n\n  const { activeNetwork } = useNetwork();\n  const [state, setState] = useMergeState<GasFeeListState>({\n    options: [],\n    loading: false,\n    selected: undefined,\n  });\n\n  React.useEffect(() => {\n    setState({\n      loading: true,\n    });\n\n    const url = `${activeNetwork.explorer.apiUrl}/api?module=gastracker&action=gasoracle&apikey=${activeNetwork.explorer.key}`;\n\n    fetch(url)\n      .then(result => result.json())\n      .then(result => result.result)\n      .then(result => {\n        return {\n          veryFast: Number(result.FastGasPrice),\n          fast: Number(result.ProposeGasPrice),\n          average: Math.round((Number(result.ProposeGasPrice) + Number(result.SafeGasPrice)) / 2),\n          safeLow: Number(result.SafeGasPrice),\n        };\n      })\n      .then(result => {\n        const options = [\n          {\n            key: 'fastest',\n            name: 'Very fast',\n            value: result.veryFast,\n          },\n          {\n            key: 'fast',\n            name: 'Fast',\n            value: result.fast,\n          },\n          {\n            key: 'average',\n            name: 'Standard',\n            value: result.average,\n          },\n          {\n            key: 'safeLow',\n            name: 'Slow',\n            value: result.safeLow,\n          },\n        ];\n\n        setState({\n          loading: false,\n          options,\n        });\n      })\n      .catch(() => {\n        setState({\n          loading: false,\n        });\n      });\n  }, []);\n\n  React.useEffect(() => {\n    if (value === undefined && state.options.length > 2) {\n      props.onChange?.(state.options[2]);\n    }\n  }, [value, state.options]);\n\n  function handleChange(ev: RadioChangeEvent) {\n    props.onChange?.(ev.target.value);\n  }\n\n  React.useEffect(() => {\n    setState({\n      selected: value,\n    });\n  }, [value]);\n\n  return (\n    <AntdRadio.Group\n      className={className}\n      style={{ width: '100%' }}\n      {...groupProps}\n      value={state.selected}\n      onChange={handleChange}>\n      {state.loading ? (\n        <AntdSpin />\n      ) : (\n        <div className={s.list}>\n          {state.options.map(option => (\n            <RadioButton\n              key={option.key}\n              label={\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  {option.name}\n                </Text>\n              }\n              hint={\n                <Grid flow=\"col\" gap={4}>\n                  <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                    {option.value}\n                  </Text>\n                  <Text type=\"p2\" weight=\"semibold\" color=\"secondary\">\n                    Gwei\n                  </Text>\n                </Grid>\n              }\n              value={option}\n            />\n          ))}\n        </div>\n      )}\n    </AntdRadio.Group>\n  );\n};\n\nexport default GasFeeList;\n","import React from 'react';\nimport AntdRadio, { RadioProps as AntdRadioProps } from 'antd/lib/radio';\nimport cn from 'classnames';\n\nimport Grid from 'components/custom/grid';\n\nimport s from './s.module.scss';\n\nexport type RadioButtonProps = {\n  label: React.ReactNode;\n  hint?: React.ReactNode;\n};\n\nconst RadioButton: React.FC<AntdRadioProps & RadioButtonProps> = props => {\n  const { label, hint, className, ...radioProps } = props;\n\n  return (\n    <AntdRadio className={cn(s.component, className)} {...radioProps}>\n      <Grid flow=\"row\" gap={4}>\n        {label}\n        {hint}\n      </Grid>\n    </AntdRadio>\n  );\n};\n\nexport default RadioButton;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"s_component__2RWFR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"s_list__mhVNU\"};","import React from 'react';\nimport AntdInput, { InputProps as AntdInputProps } from 'antd/lib/input';\nimport cn from 'classnames';\n\nimport s from './s.module.scss';\n\nexport type InputProps = AntdInputProps;\n\nconst Input: React.FC<InputProps> = props => {\n  const { className, disabled, ...inputProps } = props;\n\n  return (\n    <AntdInput\n      className={cn(s.component, className, disabled && s.disabled)}\n      disabled={disabled}\n      autoComplete=\"off\"\n      {...inputProps}\n    />\n  );\n};\n\nexport default Input;\n","import React, { FC, ReactNode, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport useInterval from '@rooks/use-interval';\n\nimport { useGeneral } from 'components/providers/generalProvider';\nimport { useReload } from 'hooks/useReload';\n\nexport type UseLeftTimeOptions = {\n  end?: number | Date;\n  delay?: number;\n  onStart?: (left: number) => void;\n  onStop?: (left: number) => void;\n  onTick?: (left: number) => void;\n  onEnd?: () => void;\n};\n\nexport type UseLeftTimeReturn = {\n  isStarted: boolean;\n  isRunning: boolean;\n  start: () => void;\n  stop: () => void;\n  pause: () => void;\n  resume: () => void;\n};\n\nexport function useLeftTime(options: UseLeftTimeOptions): UseLeftTimeReturn {\n  const optsRef = useRef(options);\n  optsRef.current = options;\n\n  const [isStarted, setStarted] = useState(false);\n  const [isRunning, setRunning] = useState(false);\n\n  const getLeftTime = useCallback(() => {\n    if (!optsRef.current.end) {\n      return undefined;\n    }\n\n    return Math.max(optsRef.current.end.valueOf() - Date.now(), 0);\n  }, []);\n\n  const [startInterval, stopInterval] = useInterval(\n    () => {\n      const leftTime = getLeftTime();\n      optsRef.current.onTick?.(leftTime ?? 0);\n\n      if (leftTime === 0) {\n        setStarted(false);\n        stopInterval();\n        optsRef.current.onEnd?.();\n      }\n    },\n    options.delay ?? 1_000,\n    false,\n  );\n\n  useEffect(() => {\n    if (!options.end || Date.now() < options.end) {\n      setStarted(true);\n      startInterval();\n      optsRef.current.onStart?.(getLeftTime() ?? 0);\n    }\n\n    return () => {\n      setStarted(false);\n      stopInterval();\n    };\n  }, [options.end]);\n\n  return useMemo(() => {\n    return {\n      isStarted,\n      isRunning,\n      start: () => {\n        setStarted(true);\n        setRunning(true);\n        startInterval();\n        optsRef.current.onStart?.(getLeftTime() ?? 0);\n      },\n      stop: () => {\n        setRunning(false);\n        setStarted(false);\n        stopInterval();\n        optsRef.current.onStop?.(getLeftTime() ?? 0);\n      },\n      pause: () => {\n        setRunning(false);\n        stopInterval();\n      },\n      resume: () => {\n        setRunning(true);\n        startInterval();\n      },\n    };\n  }, [isRunning, stopInterval, startInterval]);\n}\n\nexport type UseLeftTimeProps = UseLeftTimeOptions & {\n  children: (leftTime: number) => ReactNode;\n};\n\nexport const UseLeftTime: FC<UseLeftTimeProps> = props => {\n  const { windowState } = useGeneral();\n  const [reload] = useReload();\n  const leftTimeRef = useRef<number | undefined>();\n\n  const { isStarted, isRunning, pause, resume } = useLeftTime({\n    ...props,\n    onStart: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onStart?.(value);\n    },\n    onStop: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onStop?.(value);\n    },\n    onTick: value => {\n      leftTimeRef.current = value;\n      reload();\n      props.onTick?.(value);\n    },\n  });\n\n  useEffect(() => {\n    if (!isStarted) {\n      return;\n    }\n\n    if (!isRunning && windowState.isVisible) {\n      resume();\n    }\n\n    if (isRunning && !windowState.isVisible) {\n      pause();\n    }\n  }, [windowState.isVisible, isStarted, isRunning]);\n\n  return <>{props.children(leftTimeRef.current ?? 0)}</>;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"s_component__2HckH\",\"disabled\":\"s_disabled__3ybza\"};","import React, { useState } from 'react';\nimport * as Antd from 'antd';\nimport cn from 'classnames';\n\nimport Button from 'components/antd/button';\nimport Divider from 'components/antd/divider';\nimport Form from 'components/antd/form';\nimport Input from 'components/antd/input';\nimport Popover from 'components/antd/popover';\nimport { Hint, Text } from 'components/custom/typography';\nimport { Icon } from 'components/icon';\n\nimport s from './s.module.scss';\n\ntype FormData = {\n  slippage?: number;\n  deadline?: number;\n};\n\ntype TransactionCustomizationProps = {\n  showSlippage?: boolean;\n  slippage?: number;\n  showDeadline?: boolean;\n  deadline?: number;\n  onChange?: (values: FormData) => void;\n};\n\nconst SLIPPAGE_OPTIONS = [0.1, 0.3, 0.5];\n\nconst TransactionCustomization: React.FC<TransactionCustomizationProps> = props => {\n  const { showSlippage, slippage, showDeadline, deadline, onChange } = props;\n\n  const [form] = Antd.Form.useForm<FormData>();\n\n  const handleValuesChange = React.useCallback((values: FormData) => {\n    if (values.deadline) {\n      const strValue = String(values.deadline).slice(0, 6);\n\n      form.setFieldsValue({\n        deadline: Number(strValue),\n      });\n    }\n  }, []);\n\n  const handleReset = React.useCallback(() => {\n    form.resetFields();\n  }, []);\n\n  const handleFinish = React.useCallback((values: FormData) => {\n    onChange?.(values);\n  }, []);\n\n  return (\n    <Form\n      form={form}\n      initialValues={{\n        slippage,\n        deadline,\n      }}\n      validateTrigger={['onSubmit']}\n      onValuesChange={handleValuesChange}\n      onFinish={handleFinish}>\n      <div className=\"grid flow-row row-gap-32\">\n        {showSlippage && (\n          <Form.Item label=\"Slippage tolerance\">\n            <div className=\"grid flow-col col-gap-16\">\n              {SLIPPAGE_OPTIONS.map(opt => (\n                <Button\n                  key={opt}\n                  type=\"ghost\"\n                  style={{ width: 70 }}\n                  onClick={() => {\n                    form.setFieldsValue({\n                      slippage: Number(opt),\n                    });\n                  }}>\n                  {opt}%\n                </Button>\n              ))}\n              <Form.Item\n                name=\"slippage\"\n                rules={[\n                  { required: true, message: 'Required' },\n                  {\n                    validator: (_: any, value: number) => {\n                      return value > 0 && value <= 100 ? Promise.resolve() : Promise.reject();\n                    },\n                    message: 'Enter a valid slippage percentage',\n                  },\n                ]}\n                noStyle>\n                <Input type=\"number\" />\n              </Form.Item>\n            </div>\n          </Form.Item>\n        )}\n        {showDeadline && (\n          <Form.Item name=\"deadline\" label=\"Transaction deadline\" rules={[{ required: true, message: 'Required' }]}>\n            <Input\n              type=\"number\"\n              className={s.deadlineInput}\n              suffix={\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  minutes\n                </Text>\n              }\n            />\n          </Form.Item>\n        )}\n        <div className=\"grid flow-col align-center justify-space-between\">\n          <Button type=\"light\" onClick={handleReset}>\n            Reset changes\n          </Button>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Apply changes\n          </Button>\n        </div>\n      </div>\n    </Form>\n  );\n};\n\ntype TransactionDetailsProps = {\n  className?: string;\n  showSlippage?: boolean;\n  slippage?: number;\n  slippageHint?: string;\n  showDeadline?: boolean;\n  deadline?: number;\n  onChange?: (values: FormData) => void;\n};\n\nconst TransactionDetails: React.FC<TransactionDetailsProps> = props => {\n  const { className, showSlippage = false, slippage, slippageHint, showDeadline = false, deadline, onChange } = props;\n\n  const [visible, setVisible] = useState<boolean>(false);\n\n  const handleChange = React.useCallback((values: FormData) => {\n    setVisible(false);\n    onChange?.(values);\n  }, []);\n\n  return (\n    <section className={cn(s.container, className)}>\n      <header className=\"flex ph-24 pv-16\">\n        <Text type=\"p2\" weight=\"semibold\" color=\"secondary\">\n          {props.children}\n        </Text>\n        <Popover\n          title=\"Customize transaction\"\n          overlayStyle={{ width: 423 }}\n          content={\n            <TransactionCustomization\n              showSlippage={showSlippage}\n              slippage={slippage}\n              showDeadline={showDeadline}\n              deadline={deadline}\n              onChange={handleChange}\n            />\n          }\n          visible={visible}\n          onVisibleChange={setVisible}>\n          <Button type=\"light\" className=\"ml-auto\">\n            <Icon name=\"gear\" />\n          </Button>\n        </Popover>\n      </header>\n      <Divider />\n      <div className=\"ph-24 pv-16\">\n        {showSlippage && (\n          <div className=\"flex mb-24\">\n            <Hint text={slippageHint}>\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                Slippage tolerance\n              </Text>\n            </Hint>\n            <Text type=\"small\" weight=\"semibold\" color=\"primary\" className=\"ml-auto\">\n              {slippage}%\n            </Text>\n          </div>\n        )}\n        {showDeadline && (\n          <div className=\"flex\">\n            <Hint text=\"Your transaction will revert if it isn't mined in this amount of time.\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                Transaction deadline\n              </Text>\n            </Hint>\n            <Text type=\"small\" weight=\"semibold\" color=\"primary\" className=\"ml-auto\">\n              {deadline} minutes\n            </Text>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default TransactionDetails;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"s_container__2ZM0_\",\"deadlineInput\":\"s_deadlineInput__pUUH-\"};","import React from 'react';\nimport * as Antd from 'antd';\n\nimport Button from 'components/antd/button';\nimport Divider from 'components/antd/divider';\nimport Form from 'components/antd/form';\nimport Modal, { ModalProps } from 'components/antd/modal';\nimport GasFeeList from 'components/custom/gas-fee-list';\nimport Grid from 'components/custom/grid';\n\nimport s from './s.module.scss';\n\nexport type ConfirmTxModalArgs = {\n  gasPrice: number;\n};\n\ntype FormValues = {\n  gasPrice?: {\n    value: number;\n  };\n};\n\ntype ChildrenProps = {\n  form: Antd.FormInstance;\n  submitting: boolean;\n};\n\ntype Props = ModalProps & {\n  header?: React.ReactNode;\n  submitText: string;\n  children?: (props: ChildrenProps) => React.ReactNode;\n  onConfirm: <A extends ConfirmTxModalArgs>(args: A) => Promise<void>;\n};\n\nconst TxConfirmModal: React.FC<Props> = props => {\n  const { header, submitText, children, onConfirm, ...modalProps } = props;\n\n  const [form] = Antd.Form.useForm<FormValues>();\n  const [submitting, setSubmitting] = React.useState<boolean>(false);\n\n  async function handleSubmit(values: FormValues) {\n    const { gasPrice } = values;\n\n    if (!gasPrice) {\n      return;\n    }\n\n    setSubmitting(true);\n\n    try {\n      await onConfirm({\n        ...values,\n        gasPrice: gasPrice.value,\n      });\n      props.onCancel?.();\n    } catch {}\n\n    setSubmitting(false);\n  }\n\n  return (\n    <Modal width={560} {...modalProps}>\n      <Form form={form} validateTrigger={['onSubmit']} onFinish={handleSubmit}>\n        {header && (\n          <>\n            {header}\n            <Divider className={s.divider} />\n          </>\n        )}\n        <Grid flow=\"row\" gap={32}>\n          {children?.({ form, submitting })}\n\n          <Form.Item name=\"gasPrice\" label=\"Gas Fee (Gwei)\" rules={[{ required: true, message: 'Required' }]}>\n            <GasFeeList disabled={submitting} />\n          </Form.Item>\n\n          <Button htmlType=\"submit\" type=\"primary\" loading={submitting}>\n            {submitText}\n          </Button>\n        </Grid>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default TxConfirmModal;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"s_divider__2CK3W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"s_component__1xVSX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"s_component__3CuS1\"};","import React from 'react';\nimport AntdSlider, { SliderSingleProps } from 'antd/lib/slider';\nimport cn from 'classnames';\n\nimport s from './s.module.scss';\n\nexport type SliderProps = SliderSingleProps;\n\nconst Slider: React.FC<SliderProps> = props => {\n  const { className, ...rest } = props;\n\n  return <AntdSlider className={cn(s.component, className)} tooltipPlacement=\"bottom\" {...rest} />;\n};\n\nexport default Slider;\n","import React from 'react';\nimport { InputProps } from 'antd/lib/input/Input';\nimport BigNumber from 'bignumber.js';\n\nimport Input from 'components/antd/input';\n\nexport type NumericInputProps = Omit<InputProps, 'value' | 'onChange'> & {\n  value?: BigNumber | number;\n  maximumFractionDigits?: number;\n  onChange?: (value: BigNumber | undefined) => void;\n};\n\nfunction removeComma(value: string): string {\n  return value.replace(/,/g, '');\n}\n\nconst NumericInput: React.FC<NumericInputProps> = props => {\n  const { maximumFractionDigits, ...inputProps } = props;\n\n  const [, forceRender] = React.useState({});\n  const valueRef = React.useRef<string>('');\n  const onChangeRef = React.useRef<(value: BigNumber | undefined) => void | undefined>();\n  onChangeRef.current = props.onChange;\n\n  const stateVal = valueRef.current;\n\n  React.useEffect(() => {\n    const val = props.value;\n\n    valueRef.current = val !== undefined ? new BigNumber(val).toFormat() : '';\n    forceRender({});\n  }, [props.value]);\n\n  React.useEffect(() => {\n    if (valueRef.current === '') {\n      onChangeRef.current?.(undefined);\n      return;\n    }\n\n    const val = removeComma(valueRef.current);\n    const bnValue = new BigNumber(val);\n\n    if (removeComma(bnValue.toFormat()) !== val) {\n      return;\n    }\n\n    valueRef.current = bnValue.toFormat();\n    onChangeRef.current?.(bnValue);\n  }, [stateVal]);\n\n  function handleChange(event: React.ChangeEvent<HTMLInputElement>) {\n    const val = event.target.value;\n\n    let rx = `^[,|\\\\d*]*(\\\\.\\\\d*)?$`;\n\n    if (props.maximumFractionDigits) {\n      rx = `^[,|\\\\d*]*(\\\\.\\\\d{0,${props.maximumFractionDigits}})?$`;\n    }\n\n    if (new RegExp(rx, 'g').test(val)) {\n      valueRef.current = val;\n      forceRender({});\n    }\n  }\n\n  function handleBlur(event: React.FocusEvent<HTMLInputElement>) {\n    const val = removeComma(event.target.value);\n\n    if (val === '' || val === '.') {\n      valueRef.current = '';\n      onChangeRef.current?.(undefined);\n      forceRender({});\n      return;\n    }\n\n    const bnValue = new BigNumber(val);\n\n    if (bnValue.toFormat() !== val) {\n      onChangeRef.current?.(bnValue);\n    }\n  }\n\n  return <Input {...inputProps} onChange={handleChange} onBlur={handleBlur} value={valueRef.current} />;\n};\n\nexport default NumericInput;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\nimport cn from 'classnames';\nimport { formatBigValue } from 'web3/utils';\n\nimport Slider from 'components/antd/slider';\nimport Grid from 'components/custom/grid';\nimport NumericInput from 'components/custom/numeric-input';\nimport { TokenIcon, TokenIconNames } from 'components/token-icon';\n\nimport s from './s.module.scss';\n\nexport type TokenAmountProps = {\n  className?: string;\n  tokenIcon?: TokenIconNames | React.ReactNode;\n  max?: number | BigNumber;\n  maximumFractionDigits?: number;\n  value?: number | BigNumber;\n  disabled?: boolean;\n  slider?: boolean;\n  displayDecimals?: number;\n  onChange?: (value?: BigNumber) => void;\n};\n\nconst TokenAmount: React.FC<TokenAmountProps> = props => {\n  const {\n    className,\n    tokenIcon,\n    max,\n    maximumFractionDigits = 4,\n    value,\n    disabled = false,\n    slider = false,\n    displayDecimals = 4,\n    onChange,\n  } = props;\n\n  const step = 1 / 10 ** Math.min(displayDecimals, 6);\n  const bnMaxValue = new BigNumber(max ?? BigNumber.MAX_UINT_256);\n\n  const bnValue = value !== undefined ? BigNumber.min(new BigNumber(value), bnMaxValue) : undefined;\n\n  function onMaxHandle() {\n    onChange?.(bnMaxValue);\n  }\n\n  function handleInputChange(inputValue?: BigNumber) {\n    onChange?.(inputValue ? BigNumber.min(inputValue, bnMaxValue) : undefined);\n  }\n\n  function onSliderChange(sliderValue: number) {\n    onChange?.(new BigNumber(sliderValue));\n  }\n\n  return (\n    <Grid flow=\"row\" gap={32}>\n      <NumericInput\n        className={cn(s.component, className)}\n        placeholder={max !== undefined ? `0 (Max ${formatBigValue(bnMaxValue, displayDecimals)})` : ''}\n        addonBefore={\n          <>\n            {typeof tokenIcon === 'string' && <TokenIcon name={tokenIcon as TokenIconNames} size={36} />}\n            {typeof tokenIcon === 'object' && tokenIcon}\n          </>\n        }\n        addonAfter={\n          max !== undefined ? (\n            <button type=\"button\" className=\"button-ghost\" disabled={disabled} onClick={onMaxHandle}>\n              MAX\n            </button>\n          ) : null\n        }\n        maximumFractionDigits={maximumFractionDigits}\n        disabled={disabled}\n        value={bnValue}\n        onChange={handleInputChange}\n      />\n      {slider && (\n        <Slider\n          min={0}\n          max={bnMaxValue.toNumber()}\n          step={step}\n          tooltipPlacement=\"bottom\"\n          tipFormatter={sliderValue => (sliderValue ? formatBigValue(new BigNumber(sliderValue), displayDecimals) : 0)}\n          disabled={disabled}\n          value={bnValue?.toNumber()}\n          onChange={onSliderChange}\n        />\n      )}\n    </Grid>\n  );\n};\n\nexport default TokenAmount;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport * as Antd from 'antd';\nimport BigNumber from 'bignumber.js';\nimport { useContractManager } from 'web3/components/contractManagerProvider';\nimport { formatBigValue, getHumanValue, getNonHumanValue } from 'web3/utils';\n\nimport Button from 'components/antd/button';\nimport Divider from 'components/antd/divider';\nimport Form from 'components/antd/form';\nimport Input from 'components/antd/input';\nimport { ExternalLink } from 'components/button';\nimport Grid from 'components/custom/grid';\nimport Icon from 'components/custom/icon';\nimport TokenAmount from 'components/custom/token-amount';\nimport TransactionDetails from 'components/custom/transaction-details';\nimport { Text } from 'components/custom/typography';\nimport { useKnownTokens } from 'components/providers/knownTokensProvider';\nimport { TokenIcon, TokenIconNames } from 'components/token-icon';\nimport { UseLeftTime } from 'hooks/useLeftTime';\nimport { useReload } from 'hooks/useReload';\nimport TxConfirmModal, { ConfirmTxModalArgs } from 'modules/smart-yield/components/tx-confirm-modal';\nimport SYSmartYieldContract from 'modules/smart-yield/contracts/sySmartYieldContract';\nimport { useSYPool } from 'modules/smart-yield/providers/pool-provider';\n\nimport { getFormattedDuration } from 'utils';\n\ntype FormData = {\n  to?: BigNumber;\n  deadline?: number;\n};\n\nconst InitialFormValues: FormData = {\n  to: undefined,\n  deadline: 20,\n};\n\nconst TwoStepWithdraw: React.FC = () => {\n  const history = useHistory();\n  const poolCtx = useSYPool();\n  const { projectToken } = useKnownTokens();\n  const { getContract } = useContractManager();\n  const [reload] = useReload();\n  const [form] = Antd.Form.useForm<FormData>();\n\n  const [withdrawModalVisible, showWithdrawModal] = React.useState<boolean>();\n\n  const { pool, marketId, tokenId } = poolCtx;\n\n  const handleTxDetailsChange = React.useCallback(values => {\n    form.setFieldsValue(values);\n    reload();\n  }, []);\n\n  function handleCancel() {\n    history.push({\n      pathname: `/smart-yield/withdraw`,\n      search: `?m=${marketId}&t=${tokenId}`,\n    });\n  }\n\n  function handleSubmit() {\n    showWithdrawModal(true);\n  }\n\n  function handleWithdrawCancel() {\n    showWithdrawModal(false);\n  }\n\n  async function handleWithdrawConfirm(args: ConfirmTxModalArgs) {\n    const { to = BigNumber.ZERO, deadline = 20 } = form.getFieldsValue();\n\n    if (!pool) {\n      return;\n    }\n\n    showWithdrawModal(false);\n\n    const smartYieldContract = getContract<SYSmartYieldContract>(pool.smartYieldAddress, () => {\n      return new SYSmartYieldContract(pool.smartYieldAddress);\n    });\n\n    try {\n      const abond = await smartYieldContract.getAbond();\n      const decimals = pool.underlyingDecimals;\n      const tokenAmount = getNonHumanValue(new BigNumber(to), decimals);\n      const maxMaturesAt = 1 + abond.maturesAt;\n      const deadlineMs = Math.round(Date.now() / 1_000) + deadline * 60;\n\n      await poolCtx.actions.twoStepWithdraw(tokenAmount, maxMaturesAt, deadlineMs, args.gasPrice);\n      form.resetFields();\n    } catch {}\n  }\n\n  if (!pool) {\n    return null;\n  }\n\n  return (\n    <div className=\"card p-24\">\n      <Text type=\"h3\" weight=\"semibold\" color=\"primary\" className=\"mb-16\">\n        2 step withdraw\n      </Text>\n      <Text type=\"p2\" weight=\"semibold\" className=\"mb-32\">\n        Choose the amount of junior tokens you want to redeem through the 2 step process. Make sure you understand what\n        this purchase of a junior bond means, and double check the amount and wait time. &nbsp;\n        <ExternalLink href=\"https://integrations.barnbridge.com/specs/smart-yield-specifications#steps-for-exit\">\n          Learn more\n        </ExternalLink>\n      </Text>\n\n      <Form form={form} initialValues={InitialFormValues} validateTrigger={['onSubmit']} onFinish={handleSubmit}>\n        <Form.Item className=\"mb-32\" name=\"to\" label=\"Amount\" rules={[{ required: true, message: 'Required' }]}>\n          <TokenAmount\n            tokenIcon={\n              <TokenIcon\n                name={pool.token?.icon as TokenIconNames}\n                bubble1Name={projectToken.icon}\n                bubble2Name={pool.market?.icon.active as TokenIconNames}\n                size={36}\n              />\n            }\n            max={getHumanValue(pool.contracts.smartYield.balance, pool.underlyingDecimals)}\n            maximumFractionDigits={pool.underlyingDecimals}\n            displayDecimals={pool.underlyingDecimals}\n            disabled={false}\n          />\n        </Form.Item>\n\n        <Form.Item name=\"deadline\" noStyle hidden>\n          <Input />\n        </Form.Item>\n        <Form.Item shouldUpdate noStyle>\n          {() => {\n            const { deadline } = form.getFieldsValue();\n\n            return (\n              <TransactionDetails className=\"mb-32\" showDeadline deadline={deadline} onChange={handleTxDetailsChange}>\n                Transaction details\n              </TransactionDetails>\n            );\n          }}\n        </Form.Item>\n\n        <div className=\"card mb-32\">\n          <div className=\"pv-24 ph-24\">\n            <Text type=\"p2\" weight=\"semibold\" color=\"secondary\">\n              Transaction summary\n            </Text>\n          </div>\n          <Divider />\n          <div className=\"pv-24 ph-24\">\n            <div className=\"grid flow-col justify-space-between mb-16\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                Wait time\n              </Text>\n              <UseLeftTime end={(pool.contracts.smartYield.abond?.maturesAt ?? 0) * 1_000} delay={1_000}>\n                {leftTime => (\n                  <Text type=\"p2\" weight=\"semibold\" color=\"primary\">\n                    {leftTime > 0\n                      ? getFormattedDuration(0, (pool.contracts.smartYield.abond?.maturesAt ?? 0) * 1_000)\n                      : '0s'}\n                  </Text>\n                )}\n              </UseLeftTime>\n            </div>\n            <div className=\"grid flow-col justify-space-between\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                Transaction fees\n              </Text>\n              <Text type=\"p2\" weight=\"semibold\" color=\"primary\">\n                0 {pool.underlyingSymbol} (0%)\n              </Text>\n            </div>\n          </div>\n        </div>\n\n        <Grid flow=\"col\" gap={64} align=\"center\" justify=\"space-between\">\n          <button type=\"button\" className=\"button-back\" onClick={handleCancel}>\n            <Icon name=\"arrow-back\" width={9} height={8} className=\"mr-8\" color=\"inherit\" />\n            Cancel\n          </button>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Initiate withdraw\n          </Button>\n        </Grid>\n      </Form>\n\n      {withdrawModalVisible && (\n        <TxConfirmModal\n          title=\"Confirm your withdrawal\"\n          header={\n            <div className=\"grid flow-col col-gap-32\">\n              <div className=\"grid flow-row row-gap-4\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                  Token amount\n                </Text>\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  {formatBigValue(form.getFieldsValue().to)} {pool.contracts.smartYield.symbol}\n                </Text>\n              </div>\n              <div className=\"grid flow-row row-gap-4\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                  Withdrawal type\n                </Text>\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  2 step\n                </Text>\n              </div>\n              <div className=\"grid flow-row row-gap-4\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                  Wait time\n                </Text>\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  {getFormattedDuration(0, (pool.contracts.smartYield.abond?.maturesAt ?? 0) * 1_000)}\n                </Text>\n              </div>\n            </div>\n          }\n          submitText=\"Confirm withdrawal initiation\"\n          onCancel={handleWithdrawCancel}\n          onConfirm={handleWithdrawConfirm}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default TwoStepWithdraw;\n"],"sourceRoot":""}