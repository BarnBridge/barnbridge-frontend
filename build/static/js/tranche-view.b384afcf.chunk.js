(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[24],{1357:function(e,t,a){"use strict";var c=a(4),r=a(17),n=(a(0),a(1393)),s=a.n(n),o=a(8),i=a.n(o),l=a(1362),d=a.n(l),b=a(1),j=["className"];t.a=function(e){var t=e.className,a=Object(r.a)(e,j);return Object(b.jsx)(s.a,Object(c.a)({className:i()(d.a.divider,t)},a))}},1361:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var c=a(4),r=a(17),n=a(8),s=a.n(n),o=a(33),i=a(1429),l=a.n(i),d=a(1),b=["className","children","spinning"],j=function(e){var t=e.className,a=e.children,n=e.spinning,i=Object(r.a)(e,b);return a?n?Object(d.jsxs)("div",{className:l.a.container,children:[Object(d.jsx)("div",{className:l.a.children,children:a}),Object(d.jsx)(o.a,Object(c.a)({name:"loader",className:s()(l.a.spinner,t)},i))]}):Object(d.jsx)(d.Fragment,{children:a}):Object(d.jsx)(o.a,Object(c.a)({name:"loader",className:s()(l.a.spinner,t)},i))}},1362:function(e,t,a){e.exports={divider:"s_divider__3YM-J"}},1393:function(e,t,a){"use strict";var c=a(26),r=a(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(44)),s=r(a(72)),o=c(a(0)),i=r(a(8)),l=a(70),d=function(e,t){var a={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(a[c]=e[c]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(c=Object.getOwnPropertySymbols(e);r<c.length;r++)t.indexOf(c[r])<0&&Object.prototype.propertyIsEnumerable.call(e,c[r])&&(a[c[r]]=e[c[r]])}return a},b=function(e){return o.createElement(l.ConfigConsumer,null,(function(t){var a,c=t.getPrefixCls,r=t.direction,l=e.prefixCls,b=e.type,j=void 0===b?"horizontal":b,m=e.orientation,h=void 0===m?"center":m,O=e.className,u=e.children,p=e.dashed,x=e.plain,y=d(e,["prefixCls","type","orientation","className","children","dashed","plain"]),f=c("divider",l),v=h.length>0?"-".concat(h):h,g=!!u,w=(0,i.default)(f,"".concat(f,"-").concat(j),(a={},(0,s.default)(a,"".concat(f,"-with-text"),g),(0,s.default)(a,"".concat(f,"-with-text").concat(v),g),(0,s.default)(a,"".concat(f,"-dashed"),!!p),(0,s.default)(a,"".concat(f,"-plain"),!!x),(0,s.default)(a,"".concat(f,"-rtl"),"rtl"===r),a),O);return o.createElement("div",(0,n.default)({className:w},y,{role:"separator"}),u&&o.createElement("span",{className:"".concat(f,"-inner-text")},u))}))};t.default=b},1429:function(e,t,a){e.exports={spinner:"s_spinner__2lxg5",rotate:"s_rotate__K9I_G",container:"s_container__2DwVy",children:"s_children__1ZC_G"}},1464:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var c=a(4),r=a(99),n=a(33),s=a(1),o=function(e){var t=e.children,a=e.className,o=e.style;return Object(s.jsx)(r.a,{title:t,children:Object(s.jsx)(n.a,{name:"info",size:16,className:a,style:Object(c.a)({flexShrink:0},o)})})}},1619:function(e,t,a){"use strict";var c=a(4),r=a(0),n={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},s=a(117),o=function(e,t){return r.createElement(s.a,Object(c.a)(Object(c.a)({},e),{},{ref:t,icon:n}))};o.displayName="LoadingOutlined";t.a=r.forwardRef(o)},1811:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var c=a(15),r=a(4),n=a(5),s=a(0),o=a(19),i=a.n(o),l=a(141),d=a(65),b=a(38),j=a(1399),m=a(12),h=a(183),O=a(415),u=a(1437),p=a(1),x=function(e){var t=e.transactionType,a=e.accountAddress,o=e.poolAddress,x=e.eTokenAddress,y=Object(h.c)().getTokenIconBySymbol,f=Object(u.c)(),v=Object(s.useState)([]),g=Object(n.a)(v,2),w=g[0],N=g[1],k=Object(s.useState)(!1),T=Object(n.a)(k,2),A=T[0],B=T[1],S=Object(s.useState)({total:0,page:1,pageSize:10,accountAddress:a,poolAddress:o,eTokenAddress:x,transactionType:t}),D=Object(n.a)(S,2),C=D[0],_=D[1];Object(s.useEffect)((function(){_((function(e){return Object(r.a)(Object(r.a)({},e),{},{page:1,accountAddress:a,poolAddress:o,eTokenAddress:x,transactionType:t})}))}),[a,o,t]),Object(s.useEffect)((function(){B(!0),f.fetchTransactions({page:C.page,limit:C.pageSize,accountAddress:C.accountAddress,poolAddress:C.poolAddress,eTokenAddress:C.eTokenAddress,transactionType:C.transactionType}).then((function(e){Array.isArray(e.data)?(N(e.data),_((function(t){return Object(r.a)(Object(r.a)({},t),{},{total:e.meta.count})}))):(N([]),_((function(e){return Object(r.a)(Object(r.a)({},e),{},{total:0})})))})).catch((function(e){N([]),console.error(e)})).finally((function(){return B(!1)}))}),[C.page,C.pageSize,C.accountAddress,C.poolAddress,C.transactionType]);var L=Object(s.useMemo)((function(){return[{heading:"Tranche / Transaction",render:function(e){return Object(p.jsxs)("div",{className:"flex align-center",style:{whiteSpace:"nowrap"},children:[Object(p.jsx)(O.b,{name1:y(e.tokenA.symbol),name2:y(e.tokenB.symbol),size:32,className:"mr-16"}),Object(p.jsxs)("div",{children:[Object(p.jsx)(m.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:e.eTokenSymbol}),Object(p.jsxs)(m.b,{type:"small",weight:"semibold",color:"secondary",children:["WITHDRAW"===e.transactionType?"Withdraw":"Deposit"," \u2013 multiple tokens"]})]})]})}},{heading:"Token 1 amount",render:function(e){var t,a,c;return Object(p.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[Object(p.jsxs)("div",{className:"flex align-center mb-4",children:[Object(p.jsx)(O.a,{name:y(e.tokenA.symbol),size:16,className:"mr-4"}),Object(p.jsxs)(m.b,{type:"p1",weight:"semibold",color:"DEPOSIT"===e.transactionType?"red":"green",children:["DEPOSIT"===e.transactionType?"-":"+",Object(d.d)(null===(t=i.a.from(e.amountA))||void 0===t?void 0:t.unscaleBy(e.tokenA.decimals))]})]}),Object(p.jsx)(m.b,{type:"small",weight:"semibold",color:"secondary",children:Object(d.e)(null===(a=i.a.from(e.amountA))||void 0===a||null===(c=a.unscaleBy(e.tokenA.decimals))||void 0===c?void 0:c.multipliedBy(e.tokenAPrice))})]})}},{heading:"Token 2 amount",render:function(e){var t,a,c;return Object(p.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[Object(p.jsxs)("div",{className:"flex align-center mb-4",children:[Object(p.jsx)(O.a,{name:y(e.tokenB.symbol),size:16,className:"mr-4"}),Object(p.jsxs)(m.b,{type:"p1",weight:"semibold",color:"DEPOSIT"===e.transactionType?"red":"green",children:["DEPOSIT"===e.transactionType?"-":"+",Object(d.d)(null===(t=i.a.from(e.amountB))||void 0===t?void 0:t.unscaleBy(e.tokenB.decimals))]})]}),Object(p.jsx)(m.b,{type:"small",weight:"semibold",color:"secondary",children:Object(d.e)(null===(a=i.a.from(e.amountB))||void 0===a||null===(c=a.unscaleBy(e.tokenB.decimals))||void 0===c?void 0:c.multipliedBy(e.tokenBPrice))})]})}},{heading:"Pool token amount",render:function(e){var t;return Object(p.jsxs)(m.b,{type:"p1",weight:"semibold",color:"DEPOSIT"===e.transactionType?"green":"red",children:["DEPOSIT"===e.transactionType?"+":"-",Object(d.d)(null===(t=i.a.from(e.amountEToken))||void 0===t?void 0:t.dividedBy(e.sFactorE))]})}}].concat(Object(c.a)(a?[]:[{heading:"Address",render:function(e){return Object(p.jsx)(b.b,{address:e.accountAddress,variation:"link",children:Object(d.j)(e.accountAddress,6,4)})}}]),[{heading:"Transaction Hash",render:function(e){return Object(p.jsx)(b.c,{address:e.transactionHash,variation:"link",children:Object(d.j)(e.transactionHash,6,4)})}},{heading:"Date",render:function(e){var t=new Date(1e3*e.blockTimestamp);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(l.a)(t,"dd.MM.yyyy")}),Object(p.jsx)(m.b,{type:"small",weight:"semibold",color:"secondary",children:Object(l.a)(t,"HH:mm")})]})}}])}),[a]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{columns:L,data:w,loading:A}),Object(p.jsx)(j.b,{total:C.total,current:C.page,pageSize:C.pageSize,onChange:function(e){return _((function(t){return Object(r.a)(Object(r.a)({},t),{},{page:e})}))},text:!0})]})}},2228:function(e,t,a){e.exports={header:"s_header__3K7UY"}},2229:function(e,t,a){e.exports={trendDetailsRow:"s_trendDetailsRow__9nOCs"}},2289:function(e,t,a){"use strict";a.r(t);var c,r=a(5),n=a(0),s=a(56),o=a(58),i=a(8),l=a.n(i),d=a(65),b=a(63),j=a(183),m=a(415),h=a(1437),O=a(73),u=a(338),p=a.n(u),x=a(141),y=a(2275),f=a(1720),v=a(2280),g=a(1612),w=a(1613),N=a(2267),k=a(1578),T=a(1366),A=a(1368),B=a(12),S=a(1632),D=a(1);!function(e){e.ratio="ratio",e.tranche="tranche"}(c||(c={}));var C=[{id:c.ratio,children:"Ratio deviation"},{id:c.tranche,children:"Tranche liquidity"}],_=function(e){var t=e.tranche,a=e.className,o=Object(s.i)().tranche,i=Object(n.useState)(c.ratio),d=Object(r.a)(i,2),b=d[0],j=d[1],m=Object(n.useState)(A.d.day),h=Object(r.a)(m,2),O=h[0],u=h[1];return Object(D.jsxs)("section",{className:l()("card",a),children:[Object(D.jsxs)("header",{className:"flex align-center",style:{borderBottom:"1px solid var(--theme-border-color)",padding:"0 16px 0 24px",overflowX:"auto"},children:[Object(D.jsx)(A.g,{tabs:C,activeKey:b,onClick:j,variation:"normal"}),Object(D.jsx)(A.c,{activeKey:O,onClick:u,size:"small",className:"ml-auto"})]}),Object(D.jsx)("div",{className:"p-24",children:b===c.ratio?Object(D.jsx)(L,{trancheAddress:o,periodFilter:O}):Object(D.jsx)(F,{tranche:t,trancheAddress:o,periodFilter:O})})]})},L=function(e){var t=e.trancheAddress,a=e.periodFilter,c=Object(n.useState)([]),s=Object(r.a)(c,2),o=s[0],i=s[1],l=Object(n.useState)(!1),b=Object(r.a)(l,2),j=b[0],m=b[1],O=Object(h.c)();return Object(n.useEffect)((function(){m(!0),O.fetchRatioDeviation(t,a).then((function(e){return i(e)})).catch((function(e){i([]),console.error(e),p.a.error({message:e.data})})).finally((function(){return m(!1)}))}),[t,a]),Object(D.jsx)(T.a,{spinning:j,children:Object(D.jsx)(y.a,{width:"100%",height:300,className:"mb-24",children:Object(D.jsxs)(f.a,{data:o,children:[Object(D.jsx)("defs",{children:Object(D.jsxs)("linearGradient",{id:"chart-red-gradient",gradientTransform:"rotate(180)",children:[Object(D.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-red-color-rgb), 0.08)"}),Object(D.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-red-color-rgb), 0)"})]})}),Object(D.jsx)(v.a,{vertical:!1,strokeDasharray:"3 0",stroke:"var(--theme-border-color)"}),Object(D.jsx)(g.a,{dataKey:"point",axisLine:!1,tickLine:!1,tickFormatter:function(e){return Object(S.a)(e,a)}}),Object(D.jsx)(w.a,{axisLine:!1,tickLine:!1,tickFormatter:function(e){var t;return null!==(t=Object(d.c)(e))&&void 0!==t?t:""}}),Object(D.jsx)(N.a,{separator:"",labelFormatter:function(e){return Object(D.jsx)("span",{className:"text-p2 fw-semibold color-primary",children:e?Object(x.a)(new Date(e),"MM.dd.yyyy HH:mm"):""})},formatter:function(e,t,a){var c;a.dataKey;return Object(D.jsx)("span",{className:"text-p2 fw-semibold color-red",children:null!==(c="".concat(100*Number(e),"%"))&&void 0!==c?c:""})}}),Object(D.jsx)(k.a,{name:"Ratio deviation ",dataKey:"deviation",type:"monotone",fill:"url(#chart-red-gradient)",stroke:"var(--theme-red-color)",strokeWidth:2})]})})})},F=function(e){var t=e.tranche,a=e.trancheAddress,c=e.periodFilter,s=Object(n.useState)([]),o=Object(r.a)(s,2),i=o[0],l=o[1],b=Object(n.useState)(!1),j=Object(r.a)(b,2),m=j[0],O=j[1],u=Object(h.c)();return Object(n.useEffect)((function(){O(!0),u.fetchTrancheLiquidity(a,c).then((function(e){return l(e)})).catch((function(e){l([]),console.error(e),p.a.error({message:e.data})})).finally((function(){return O(!1)}))}),[a,c]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(T.a,{spinning:m,children:Object(D.jsx)(y.a,{width:"100%",height:300,className:"mb-24",children:Object(D.jsxs)(f.a,{data:i,margin:{left:25},children:[Object(D.jsxs)("defs",{children:[Object(D.jsxs)("linearGradient",{id:"chart-yellow-gradient",gradientTransform:"rotate(180)",children:[Object(D.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-yellow-color-rgb), 0.08)"}),Object(D.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-yellow-color-rgb), 0)"})]}),Object(D.jsxs)("linearGradient",{id:"chart-blue-gradient",gradientTransform:"rotate(180)",children:[Object(D.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-blue-color-rgb), 0.08)"}),Object(D.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-blue-color-rgb), 0)"})]})]}),Object(D.jsx)(v.a,{vertical:!1,strokeDasharray:"3 0",stroke:"var(--theme-border-color)"}),Object(D.jsx)(g.a,{dataKey:"point",axisLine:!1,tickLine:!1,tickFormatter:function(e){return Object(S.a)(e,c)}}),Object(D.jsx)(w.a,{axisLine:!1,tickLine:!1,tickFormatter:function(e){var t;return null!==(t=Object(d.e)(e,{compact:!0}))&&void 0!==t?t:""}}),Object(D.jsx)(N.a,{separator:"",labelFormatter:function(e){return Object(D.jsx)(B.b,{type:"p2",tag:"span",weight:"semibold",color:"primary",children:"string"===typeof e?Object(x.a)(new Date(e),"MM.dd.yyyy HH:mm"):""})},formatter:function(e,t,a){var c=a.dataKey;return Object(D.jsx)(B.b,{type:"p2",tag:"span",weight:"semibold",color:"tokenALiquidity"===c?"yellow":"blue",children:Object(d.e)(e)})}}),Object(D.jsx)(k.a,{name:"".concat(t.tokenA.symbol," Liquidity "),dataKey:"tokenALiquidity",type:"monotone",fill:"url(#chart-yellow-gradient)",stroke:"var(--theme-yellow-color)",strokeWidth:2}),Object(D.jsx)(k.a,{name:"".concat(t.tokenB.symbol," Liquidity "),dataKey:"tokenBLiquidity",type:"monotone",fill:"url(#chart-blue-gradient)",stroke:"var(--theme-blue-color)",strokeWidth:2})]})})}),Object(D.jsxs)("div",{className:"flex flow-col justify-center col-gap-24 row-gap-16",children:[Object(D.jsxs)("div",{className:"chart-label",style:{"--dot-color":"var(--theme-yellow-color)"},children:[t.tokenA.symbol," Liquidity"]}),Object(D.jsxs)("div",{className:"chart-label",style:{"--dot-color":"var(--theme-blue-color)"},children:[t.tokenB.symbol," Liquidity"]})]})]})},E=a(19),R=a.n(E),P=a(1357),z=a(1464),K=a(1365),H=a(60),I=a(2228),M=a.n(I),W=[{id:"rebalancing",children:"Rebalancing details"},{id:"tranche",children:"Tranche details"}],q=function(e){var t=e.tranche,a=Object(n.useState)("rebalancing"),c=Object(r.a)(a,2),s=c[0],o=c[1];return Object(D.jsxs)("section",{className:"card",children:[Object(D.jsx)("header",{className:l()("card-header flex align-center",M.a.header),children:Object(D.jsx)(A.g,{tabs:W,activeKey:s,onClick:o,variation:"normal"})}),"rebalancing"===s&&Object(D.jsx)(G,{tranche:t}),"tranche"===s&&Object(D.jsx)(J,{tranche:t})]})},G=function(e){var t=e.tranche,a=Object(j.c)().getTokenBySymbol,c=a(t.tokenA.symbol),r=a(t.tokenB.symbol);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsx)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Target ratio"}),Object(D.jsxs)(B.b,{type:"p1",weight:"semibold",color:"primary",className:" flex align-center col-gap-4",children:[Object(D.jsx)(m.a,{name:null===c||void 0===c?void 0:c.icon,size:16})," ",Object(d.c)(Number(t.tokenARatio)),Object(D.jsx)("span",{className:"ph-4",children:":"})," ",Object(D.jsx)(m.a,{name:null===r||void 0===r?void 0:r.icon,size:16})," ",Object(d.c)(Number(t.tokenBRatio))]})]}),Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsx)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Current ratio"}),Object(D.jsxs)(B.b,{type:"p1",weight:"semibold",color:"primary",className:" flex align-center col-gap-4",children:[Object(D.jsx)(m.a,{name:null===c||void 0===c?void 0:c.icon,size:16})," ",Object(d.c)(Number(t.state.tokenACurrentRatio))," ",Object(D.jsx)("span",{className:"ph-4",children:":"})," ",Object(D.jsx)(m.a,{name:null===r||void 0===r?void 0:r.icon,size:16})," ",Object(d.c)(Number(t.state.tokenBCurrentRatio))]})]})]}),Object(D.jsx)(P.a,{}),Object(D.jsx)("div",{className:"flexbox-grid p-24",children:Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsxs)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4 mb-4",children:["Rebalancing Strategy",Object(D.jsx)(z.a,{children:"Rebalancing of the tranche is triggered based on the conditions the pool is set up with. They can be either time or deviation based."})]}),Object(D.jsxs)(B.b,{type:"p1",weight:"semibold",color:"primary",className:"flex align-center",children:["Every ",Object(H.d)(t.rebalancingInterval)||"0 seconds"]})]})}),Object(D.jsx)(P.a,{}),Object(D.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsx)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Last rebalance"}),t.state.lastRebalance?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(x.a)(new Date(1e3*t.state.lastRebalance),"dd.MM.yyyy")}),Object(D.jsx)(B.b,{type:"small",weight:"semibold",color:"secondary",children:Object(x.a)(new Date(1e3*t.state.lastRebalance),"HH:mm")})]}):Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:"Always"})]}),Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsx)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Conversion rate"}),Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(d.e)(t.state.eTokenPrice)}),Object(D.jsx)(B.b,{type:"small",weight:"semibold",color:"secondary",children:"per eToken"})]})]})]})},J=function(e){var t,a,c,r,n,s,o=e.tranche,i=Object(O.c)(),l=Object(K.a)(o.tokenA.address,{loadBalance:!0}),b=Object(K.a)(o.tokenB.address,{loadBalance:!0}),j=R.a.from(null===l||void 0===l||null===(t=l.getBalanceOf(i.account))||void 0===t?void 0:t.unscaleBy(o.tokenA.decimals)),m=R.a.from(null===b||void 0===b||null===(a=b.getBalanceOf(i.account))||void 0===a?void 0:a.unscaleBy(o.tokenB.decimals));return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsxs)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:[o.tokenA.symbol," price"]}),Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",children:Object(d.e)(o.tokenA.state.price)})]}),Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsxs)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:[o.tokenB.symbol," price"]}),Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",children:Object(d.e)(o.tokenB.state.price)})]})]}),Object(D.jsx)(P.a,{}),Object(D.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsxs)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:["Wallet ",o.tokenA.symbol," balance"]}),Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null!==(c=Object(d.d)(j))&&void 0!==c?c:"-"}),Object(D.jsx)(B.b,{type:"small",weight:"semibold",color:"secondary",children:Object(d.e)(null!==(r=null===j||void 0===j?void 0:j.multipliedBy(o.tokenA.state.price))&&void 0!==r?r:0)})]}),Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsxs)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:["Wallet ",o.tokenB.symbol," balance"]}),Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null!==(n=Object(d.d)(m))&&void 0!==n?n:"-"}),Object(D.jsx)(B.b,{type:"small",weight:"semibold",color:"secondary",children:Object(d.e)(null!==(s=null===m||void 0===m?void 0:m.multipliedBy(o.tokenB.state.price))&&void 0!==s?s:0)})]})]}),Object(D.jsx)(P.a,{}),Object(D.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsxs)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:["Pool ",o.tokenA.symbol," balance"]}),Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(d.e)(R.a.from(o.state.tokenALiquidity))})]}),Object(D.jsxs)("div",{className:"flex flow-row",children:[Object(D.jsxs)(B.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:["Pool ",o.tokenB.symbol," balance"]}),Object(D.jsx)(B.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(d.e)(R.a.from(o.state.tokenBLiquidity))})]})]})]})},V=a(4),U=a(420),X=a(1435),Y=a(1811),Z={transactionType:""},Q=[{name:"transactionType",label:"Transaction type",defaultValue:"",itemRender:function(){return Object(D.jsx)(U.a,{options:[{value:"",label:"All types"},{value:"DEPOSIT",label:"Deposit"},{value:"WITHDRAW",label:"Withdraw"}],className:"full-width"})}}],$=function(e){var t=e.tranche,a=Object(n.useState)(Z),c=Object(r.a)(a,2),s=c[0],o=c[1];return Object(D.jsxs)("div",{className:"card",children:[Object(D.jsxs)("header",{className:"flex align-center",style:{borderBottom:"1px solid var(--theme-border-color)",padding:"12px 16px 12px 24px",overflowX:"auto"},children:[Object(D.jsx)("div",{className:"text-p1 fw-semibold color-primary mr-8",children:"Transaction history"}),Object(D.jsx)(X.a,{filters:Q,value:s,onChange:function(e){o((function(t){return Object(V.a)(Object(V.a)({},t),e)}))},className:"ml-auto"})]}),Object(D.jsx)(Y.a,{transactionType:s.transactionType||void 0,eTokenAddress:t.eTokenAddress})]})},ee=function(e){e.poolAddress;var t=e.trancheAddress,a=Object(n.useState)(A.d.day),c=Object(r.a)(a,2),s=c[0],o=c[1],i=Object(n.useState)([]),l=Object(r.a)(i,2),b=l[0],j=l[1],m=Object(n.useState)(!1),O=Object(r.a)(m,2),u=O[0],B=O[1],C=Object(h.c)();return Object(n.useEffect)((function(){B(!0),C.fetchETokenPrice(t,s).then(j).catch((function(e){j([]),console.error(e),p.a.error({message:e.data})})).finally((function(){return B(!1)}))}),[t,s]),Object(D.jsxs)("section",{className:"card",children:[Object(D.jsxs)("header",{className:"card-header flex align-center",style:{padding:"16px 16px 16px 24px"},children:[Object(D.jsx)("div",{className:"text-p1 fw-semibold color-primary mr-8",children:"eToken price trend"}),Object(D.jsx)(A.c,{activeKey:s,onClick:o,size:"small",className:"ml-auto"})]}),Object(D.jsx)("div",{className:"p-24",children:Object(D.jsx)(T.a,{spinning:u,children:Object(D.jsx)(y.a,{width:"100%",height:300,className:"mb-24",children:Object(D.jsxs)(f.a,{data:b,children:[Object(D.jsx)("defs",{children:Object(D.jsxs)("linearGradient",{id:"chart-red-gradient",gradientTransform:"rotate(180)",children:[Object(D.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-red-color-rgb), 0.08)"}),Object(D.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-red-color-rgb), 0)"})]})}),Object(D.jsx)(v.a,{vertical:!1,strokeDasharray:"3 0",stroke:"var(--theme-border-color)"}),Object(D.jsx)(g.a,{dataKey:"point",axisLine:!1,tickLine:!1,tickFormatter:function(e){return Object(S.a)(e,s)}}),Object(D.jsx)(w.a,{axisLine:!1,tickLine:!1,tickFormatter:function(e){return Intl.NumberFormat("en",{notation:"compact",style:"currency",currency:"USD"}).format(e)}}),Object(D.jsx)(N.a,{separator:"",labelFormatter:function(e){return Object(D.jsx)("span",{className:"text-p2 fw-semibold color-primary",children:e?Object(x.a)(new Date(e),"MM.dd.yyyy HH:mm"):""})},formatter:function(e,t,a){a.dataKey;return Object(D.jsx)("span",{className:"text-p2 fw-semibold color-red",children:Object(d.e)(e)})}}),Object(D.jsx)(k.a,{name:"Value ",dataKey:"eTokenPrice",type:"monotone",fill:"url(#chart-red-gradient)",stroke:"var(--theme-red-color)",strokeWidth:2})]})})})})]})},te=a(2229),ae=a.n(te);t.default=function(){var e=Object(s.i)(),t=e.pool,a=e.tranche,c=Object(s.h)(),i=Object(O.c)(),u=Object(n.useState)(),p=Object(r.a)(u,2),x=p[0],y=p[1],f=Object(j.c)().getTokenBySymbol,v=Object(h.c)();if(Object(n.useEffect)((function(){v.fetchTranche(a).then((function(e){y(e)}))}),[a]),!x)return null;var g=f(x.tokenA.symbol),w=f(x.tokenB.symbol);return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)("div",{className:"flex mb-16",children:Object(D.jsxs)(o.b,{to:"/smart-exposure/pools",className:"button-text",children:[Object(D.jsx)(b.a,{name:"arrow-back",color:"inherit",className:"mr-8"}),"Tranches"]})}),Object(D.jsxs)("div",{className:"flex align-center mb-40",children:[Object(D.jsxs)("div",{className:"flex",children:[Object(D.jsx)(m.b,{name1:null===g||void 0===g?void 0:g.icon,name2:null===w||void 0===w?void 0:w.icon,size:40,className:"mr-16"}),Object(D.jsxs)("div",{children:[Object(D.jsx)("div",{className:"text-p1 fw-semibold color-primary mr-4",children:"".concat(Object(d.c)(Number(x.tokenARatio))," ").concat(null===g||void 0===g?void 0:g.symbol," / ").concat(Object(d.c)(Number(x.tokenBRatio))," ").concat(null===w||void 0===w?void 0:w.symbol)}),Object(D.jsx)("div",{className:"text-sm fw-semibold color-secondary",children:"".concat(null===g||void 0===g?void 0:g.name," / ").concat(null===w||void 0===w?void 0:w.name)})]})]}),Object(D.jsxs)("div",{className:"flex col-gap-24 ml-auto",children:[Object(D.jsx)(o.b,{to:"".concat(c.pathname,"/deposit"),className:l()("button-primary",{disabled:!i.account}),children:"Deposit"}),Object(D.jsx)(o.b,{to:"".concat(c.pathname,"/withdraw"),className:l()("button-ghost",{disabled:!i.account}),children:"Withdraw"})]})]}),Object(D.jsxs)("div",{className:l()(ae.a.trendDetailsRow,"mb-32"),children:[Object(D.jsx)(ee,{poolAddress:t,trancheAddress:a}),Object(D.jsx)(q,{tranche:x})]}),Object(D.jsx)(_,{tranche:x,className:"mb-32"}),Object(D.jsx)($,{tranche:x})]})}}}]);
//# sourceMappingURL=tranche-view.b384afcf.chunk.js.map