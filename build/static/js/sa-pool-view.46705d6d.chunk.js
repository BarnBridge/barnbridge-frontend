(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[19],{1384:function(e,t,i){"use strict";i.d(t,"b",(function(){return d})),i.d(t,"a",(function(){return u}));var n=i(4),o=i(5),c=i(0);var r=function(e,t){var i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(c.useRef)(null),s=Object(c.useState)(n),a=Object(o.a)(s,2),l=a[0],d=a[1],u=Object(c.useRef)();function b(){l||d(!0)}function j(){l&&d(!1)}return Object(c.useEffect)((function(){u.current=e})),Object(c.useEffect)((function(){if(null!==t&&l){var e=setInterval((function(){u.current&&u.current()}),t);return r.current=e,function(){r.current=null,clearInterval(e)}}}),[t,l]),(i=[b,j,r.current]).start=b,i.stop=j,i.intervalId=r.current,i},s=i(91),a=i(116),l=i(1);function d(e){var t,i=Object(c.useRef)(e);i.current=e;var n=Object(c.useState)(!1),s=Object(o.a)(n,2),a=s[0],l=s[1],d=Object(c.useState)(!1),u=Object(o.a)(d,2),b=u[0],j=u[1],h=Object(c.useCallback)((function(){if(i.current.end)return Math.max(i.current.end.valueOf()-Date.now(),0)}),[]),m=r((function(){var e,t,n,o,c=h();(null===(e=(t=i.current).onTick)||void 0===e||e.call(t,null!==c&&void 0!==c?c:0),0===c)&&(l(!1),v(),null===(n=(o=i.current).onEnd)||void 0===n||n.call(o))}),null!==(t=e.delay)&&void 0!==t?t:1e3,!1),p=Object(o.a)(m,2),O=p[0],v=p[1];return Object(c.useEffect)((function(){var t,n,o;(!e.end||Date.now()<e.end)&&(l(!0),O(),null===(t=(n=i.current).onStart)||void 0===t||t.call(n,null!==(o=h())&&void 0!==o?o:0));return function(){l(!1),v()}}),[e.end]),Object(c.useMemo)((function(){return{isStarted:a,isRunning:b,start:function(){var e,t,n;l(!0),j(!0),O(),null===(e=(t=i.current).onStart)||void 0===e||e.call(t,null!==(n=h())&&void 0!==n?n:0)},stop:function(){var e,t,n;j(!1),l(!1),v(),null===(e=(t=i.current).onStop)||void 0===e||e.call(t,null!==(n=h())&&void 0!==n?n:0)},pause:function(){j(!1),v()},resume:function(){j(!0),O()}}}),[b,v,O])}var u=function(e){var t,i=Object(s.b)().windowState,r=Object(a.a)(),u=Object(o.a)(r,1)[0],b=Object(c.useRef)(),j=d(Object(n.a)(Object(n.a)({},e),{},{onStart:function(t){var i;b.current=t,u(),null===(i=e.onStart)||void 0===i||i.call(e,t)},onStop:function(t){var i;b.current=t,u(),null===(i=e.onStop)||void 0===i||i.call(e,t)},onTick:function(t){var i;b.current=t,u(),null===(i=e.onTick)||void 0===i||i.call(e,t)}})),h=j.isStarted,m=j.isRunning,p=j.pause,O=j.resume;return Object(c.useEffect)((function(){h&&(!m&&i.isVisible&&O(),m&&!i.isVisible&&p())}),[i.isVisible,h,m]),Object(l.jsx)(l.Fragment,{children:e.children(null!==(t=b.current)&&void 0!==t?t:0)})}},1436:function(e,t,i){"use strict";i.d(t,"a",(function(){return O}));var n=i(5),o=i(29),c=i(14),r=i(16),s=i(23),a=i(24),l=i(9),d=i.n(l),u=i(19),b=i.n(u),j=i(431),h=i(37),m=i(250),p=[Object(h.c)("epoch",[],["uint256"]),Object(h.c)("getCurrentEpoch",[],["uint256"]),Object(h.c)("epoch1Start",[],["uint256"]),Object(h.c)("epochDuration",[],["uint256"]),Object(h.c)("epochSeniorLiquidity",[],["uint256"]),Object(h.c)("epochJuniorLiquidity",[],["uint256"]),Object(h.c)("epochDownsideProtectionRate",[],["uint256"]),Object(h.c)("epochUpsideExposureRate",[],["uint256"]),Object(h.c)("epochEntryPrice",[],["uint256"]),Object(h.c)("getEpochSeniorTokenPrice",[],["uint256"]),Object(h.c)("getEpochJuniorTokenPrice",[],["uint256"]),Object(h.c)("estimateCurrentSeniorTokenPrice",[],["uint256"]),Object(h.c)("estimateCurrentJuniorTokenPrice",[],["uint256"]),Object(h.c)("queuedJuniorsUnderlyingIn",[],["uint256"]),Object(h.c)("queuedJuniorsUnderlyingOut",[],["uint256"]),Object(h.c)("queuedJuniorTokensBurn",[],["uint256"]),Object(h.c)("queuedSeniorsUnderlyingIn",[],["uint256"]),Object(h.c)("queuedSeniorsUnderlyingOut",[],["uint256"]),Object(h.c)("queuedSeniorTokensBurn",[],["uint256"]),Object(h.c)("feesAccrued",[],["uint256"]),Object(h.c)("priceOracle",[],["address"]),Object(h.c)("seniorEntryQueue",["address"],["uint256","uint256"]),Object(h.c)("seniorExitQueue",["address"],["uint256","uint256"]),Object(h.c)("juniorEntryQueue",["address"],["uint256","uint256"]),Object(h.c)("juniorExitQueue",["address"],["uint256","uint256"]),Object(h.c)("depositJunior",["uint256"],[]),Object(h.c)("exitJunior",["uint256"],[]),Object(h.c)("redeemJuniorTokens",[],[]),Object(h.c)("redeemJuniorUnderlying",[],[]),Object(h.c)("depositSenior",["uint256"],[]),Object(h.c)("exitSenior",["uint256"],[]),Object(h.c)("redeemSeniorTokens",[],[]),Object(h.c)("redeemSeniorUnderlying",[],[]),Object(h.c)("transferFees",[],[]),Object(h.c)("advanceEpoch",[],[])],O=18,v=function(e){Object(s.a)(i,e);var t=Object(a.a)(i);function i(e){return Object(c.a)(this,i),t.call(this,[Object(h.c)("getPrice",[],["uint256"])],e,"SA Price Oracle")}return Object(r.a)(i,[{key:"getPrice",value:function(){return this.call("getPrice").then((function(e){return b.a.from(e)}))}}]),i}(h.d),y=function(e){Object(s.a)(i,e);var t=Object(a.a)(i);function i(e){var n;return Object(c.a)(this,i),(n=t.call(this,p,e,"Smart Alpha")).epoch=void 0,n.currentEpoch=void 0,n.epoch1Start=void 0,n.epochDuration=void 0,n.epochSeniorLiquidity=void 0,n.epochJuniorLiquidity=void 0,n.epochDownsideProtectionRate=void 0,n.epochUpsideExposureRate=void 0,n.epochEntryPrice=void 0,n.epochSeniorTokenPrice=void 0,n.epochJuniorTokenPrice=void 0,n.queuedJuniorsUnderlyingIn=void 0,n.queuedJuniorsUnderlyingOut=void 0,n.queuedJuniorTokensBurn=void 0,n.queuedSeniorsUnderlyingIn=void 0,n.queuedSeniorsUnderlyingOut=void 0,n.queuedSeniorTokensBurn=void 0,n.estimateCurrentSeniorTokenPrice=void 0,n.estimateCurrentJuniorTokenPrice=void 0,n.feesAccrued=void 0,n.priceOracleContract=void 0,n.priceOracle=void 0,n}return Object(r.a)(i,[{key:"nextEpochStart",get:function(){if(void 0!==this.currentEpoch&&void 0!==this.epochDuration&&void 0!==this.epoch1Start)return this.epoch1Start+this.currentEpoch*this.epochDuration}},{key:"tillNextEpoch",get:function(){var e=this.nextEpochStart;if(void 0!==e)return Math.max(0,e-Object(j.a)(Date.now()))}},{key:"epochsGap",get:function(){if(void 0!==this.epoch&&void 0!==this.currentEpoch)return this.currentEpoch-this.epoch}},{key:"requireEpochAdvance",get:function(){var e=this.epochsGap;return void 0!==e&&e>0}},{key:"epochTotalLiquidityRate",get:function(){if(this.epochSeniorLiquidity&&this.epochJuniorLiquidity)return this.epochSeniorLiquidity.plus(this.epochJuniorLiquidity)}},{key:"epochSeniorLiquidityRate",get:function(){if(this.epochSeniorLiquidity&&this.epochTotalLiquidityRate)return this.epochSeniorLiquidity.div(this.epochTotalLiquidityRate).toNumber()}},{key:"epochJuniorLiquidityRate",get:function(){if(this.epochJuniorLiquidity&&this.epochTotalLiquidityRate)return this.epochJuniorLiquidity.div(this.epochTotalLiquidityRate).toNumber()}},{key:"epochUpsideLeverage",get:function(){if(this.epochSeniorLiquidity&&this.epochJuniorLiquidity&&this.epochUpsideExposureRate)return this.epochJuniorLiquidity.eq(0)?new b.a(1).scaleBy(O):this.epochSeniorLiquidity.div(this.epochJuniorLiquidity).multipliedBy(new b.a(1).minus(this.epochUpsideExposureRate.unscaleBy(O))).plus(1).scaleBy(O)}},{key:"epochDownsideLeverage",get:function(){if(this.epochSeniorLiquidity&&this.epochJuniorLiquidity)return this.epochJuniorLiquidity.eq(0)?new b.a(1).scaleBy(O):this.epochSeniorLiquidity.div(this.epochJuniorLiquidity).plus(1).scaleBy(O)}},{key:"loadCommon",value:function(){var e=Object(o.a)(d.a.mark((function e(){var t,i,o,c,r,s,a,l,u,j,m,p,O,y,x,f,g,N,w,k,S,_;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.batch([{method:"epoch"},{method:"getCurrentEpoch"},{method:"epoch1Start"},{method:"epochDuration"},{method:"epochSeniorLiquidity"},{method:"epochJuniorLiquidity"},{method:"epochDownsideProtectionRate"},{method:"epochUpsideExposureRate"},{method:"epochEntryPrice"},{method:"getEpochSeniorTokenPrice"},{method:"getEpochJuniorTokenPrice"},{method:"queuedJuniorsUnderlyingIn"},{method:"queuedJuniorsUnderlyingOut"},{method:"queuedJuniorTokensBurn"},{method:"queuedSeniorsUnderlyingIn"},{method:"queuedSeniorsUnderlyingOut"},{method:"queuedSeniorTokensBurn"},{method:"estimateCurrentSeniorTokenPrice"},{method:"estimateCurrentJuniorTokenPrice"},{method:"priceOracle"}]);case 2:return t=e.sent,i=Object(n.a)(t,20),o=i[0],c=i[1],r=i[2],s=i[3],a=i[4],l=i[5],u=i[6],j=i[7],m=i[8],p=i[9],O=i[10],y=i[11],x=i[12],f=i[13],g=i[14],N=i[15],w=i[16],k=i[17],S=i[18],_=i[19],this.epoch=Number(o),this.currentEpoch=Number(c),this.epoch1Start=Number(r),this.epochDuration=Number(s),this.epochSeniorLiquidity=b.a.from(a),this.epochJuniorLiquidity=b.a.from(l),this.epochDownsideProtectionRate=b.a.from(u),this.epochUpsideExposureRate=b.a.from(j),this.epochEntryPrice=b.a.from(m),this.epochSeniorTokenPrice=b.a.from(p),this.epochJuniorTokenPrice=b.a.from(O),this.queuedJuniorsUnderlyingIn=b.a.from(y),this.queuedJuniorsUnderlyingOut=b.a.from(x),this.queuedJuniorTokensBurn=b.a.from(f),this.queuedSeniorsUnderlyingIn=b.a.from(g),this.queuedSeniorsUnderlyingOut=b.a.from(N),this.queuedSeniorTokensBurn=b.a.from(w),this.estimateCurrentSeniorTokenPrice=b.a.from(k),this.estimateCurrentJuniorTokenPrice=b.a.from(S),this.priceOracleContract=new v(_),this.priceOracleContract.setCallProvider(this.callProvider),e.next=47,this.priceOracleContract.getPrice();case 47:this.priceOracle=e.sent,this.emit(h.d.UPDATE_DATA);case 49:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getEntryPriceDecimals",value:function(e){return Object(m.c)(e)?18:8}},{key:"seniorEntryQueue",value:function(e){return this.call("seniorEntryQueue",[e],{}).then((function(e){return[Number(e[0]),b.a.from(e[1])]}))}},{key:"seniorExitQueue",value:function(e){return this.call("seniorExitQueue",[e],{}).then((function(e){return[Number(e[0]),b.a.from(e[1])]}))}},{key:"juniorEntryQueue",value:function(e){return this.call("juniorEntryQueue",[e],{}).then((function(e){return[Number(e[0]),b.a.from(e[1])]}))}},{key:"juniorExitQueue",value:function(e){return this.call("juniorExitQueue",[e],{}).then((function(e){return[Number(e[0]),b.a.from(e[1])]}))}},{key:"getFeesAccrued",value:function(){var e=this;return this.call("feesAccrued",[],{}).then((function(t){return e.feesAccrued=b.a.from(t),e.emit(h.d.UPDATE_DATA),e.feesAccrued}))}},{key:"depositJunior",value:function(){var e=Object(o.a)(d.a.mark((function e(t,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("depositJunior",[t],{},i);case 2:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"withdrawJunior",value:function(){var e=Object(o.a)(d.a.mark((function e(t,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("exitJunior",[t],{},i);case 2:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"redeemJuniorTokens",value:function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("redeemJuniorTokens",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"redeemJuniorUnderlying",value:function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("redeemJuniorUnderlying",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"depositSenior",value:function(){var e=Object(o.a)(d.a.mark((function e(t,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("depositSenior",[t],{},i);case 2:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"withdrawSenior",value:function(){var e=Object(o.a)(d.a.mark((function e(t,i){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("exitSenior",[t],{},i);case 2:case"end":return e.stop()}}),e,this)})));return function(t,i){return e.apply(this,arguments)}}()},{key:"redeemSeniorTokens",value:function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("redeemSeniorTokens",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"redeemSeniorUnderlying",value:function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("redeemSeniorUnderlying",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"transferFees",value:function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("transferFees",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"advanceEpoch",value:function(){var e=Object(o.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("advanceEpoch",[],{});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),i}(h.d);t.b=y},1464:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));var n=i(4),o=i(99),c=i(33),r=i(1),s=function(e){var t=e.children,i=e.className,s=e.style;return Object(r.jsx)(o.a,{title:t,children:Object(r.jsx)(c.a,{name:"info",size:16,className:i,style:Object(n.a)({flexShrink:0},s)})})}},1591:function(e,t,i){"use strict";var n=i(14),o=i(16),c=i(23),r=i(24),s=i(19),a=i.n(s),l=i(37),d=[Object(l.c)("estimateNextEpoch",["address"],[new l.a(["uint256","uint256","uint256","uint256","uint256"])]),Object(l.c)("userRedeemableSeniorTokens",["address","address"],["uint256"]),Object(l.c)("userRedeemableJuniorTokens",["address","address"],["uint256"]),Object(l.c)("userRedeemableSeniorUnderlying",["address","address"],["uint256"]),Object(l.c)("userRedeemableJuniorUnderlying",["address","address"],["uint256"])],u=function(e){Object(c.a)(i,e);var t=Object(r.a)(i);function i(e){var o;return Object(n.a)(this,i),(o=t.call(this,d,e,"SA Loupe")).price=void 0,o}return Object(o.a)(i,[{key:"getEstimateNextEpoch",value:function(e){return this.call("estimateNextEpoch",[e],{}).then((function(e){return[a.a.from(e[0]),a.a.from(e[1]),a.a.from(e[2]),a.a.from(e[3]),a.a.from(e[4])]}))}},{key:"getUserRedeemableSeniorTokens",value:function(e,t){return this.call("userRedeemableSeniorTokens",[e,t],{}).then(a.a.from)}},{key:"getUserRedeemableJuniorTokens",value:function(e,t){return this.call("userRedeemableJuniorTokens",[e,t],{}).then(a.a.from)}},{key:"getUserRedeemableSeniorUnderlying",value:function(e,t){return this.call("userRedeemableSeniorUnderlying",[e,t],{}).then(a.a.from)}},{key:"getUserRedeemableJuniorUnderlying",value:function(e,t){return this.call("userRedeemableJuniorUnderlying",[e,t],{}).then(a.a.from)}}]),i}(l.d);t.a=u},1619:function(e,t,i){"use strict";var n=i(4),o=i(0),c={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},r=i(117),s=function(e,t){return o.createElement(r.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:c}))};s.displayName="LoadingOutlined";t.a=o.forwardRef(s)},1721:function(e,t,i){"use strict";i.d(t,"a",(function(){return N}));var n=i(5),o=i(0),c=i(141),r=i(40),s=i(224),a=i(2275),l=i(1720),d=i(2280),u=i(1612),b=i(1613),j=i(1578),h=i(2267),m=i(1913),p=i(1366),O=i(12),v=i(1630),y=i(1807),x=i.n(y),f=i(1),g=function(e){var t=e.payload;return t?Object(f.jsx)("div",{className:x.a.legend,children:t.map((function(e,t){return Object(f.jsx)("span",{className:x.a.legendItem,style:{"--dot-color":e.color},children:e.value},t)}))}):null},N=function(e){var t=e.data,i=e.x,y=e.y,N=e.className,w=e.loading,k=void 0!==w&&w,S=Object(o.useMemo)((function(){return Array.from({length:y.items.length}).map((function(){return Object(s.a)()}))}),[y.items.length]),_=y.items.some((function(e){return"right"===e.yAxisId})),E=Object(o.useRef)(),T=Object(o.useMemo)((function(){if(!E.current||!y.domain||!Array.isArray(y.domain))return y.domain;var e=Object(n.a)(y.domain,2),t=e[0],i=e[1],o=E.current.state.yAxisMap;if(!Object(r.isFunction)(t)||!Object(r.isFunction)(i)||!o||!o.left)return y.domain;var c=o.left.domain,s=void 0===c?[]:c;return[function(e){return t(e,null!==s&&void 0!==s?s:[e,e])},function(e){return i(e,null!==s&&void 0!==s?s:[e,e])}]}),[E.current,y.domain]);return Object(f.jsx)(p.a,{spinning:k,children:0===t.length?Object(f.jsxs)("div",{className:"flex flow-row row-gap-24 align-center justify-center pv-48",children:[Object(f.jsx)(v.a,{}),Object(f.jsx)(O.b,{type:"p1",color:"secondary",children:"Not enough data to plot a graph"})]}):Object(f.jsx)(a.a,{width:"100%",height:300,className:N,children:Object(f.jsxs)(l.a,{ref:E,data:t,children:[Object(f.jsx)("defs",{children:S.map((function(e,t){return Object(f.jsxs)("linearGradient",{id:e,gradientTransform:"rotate(180)",children:[Object(f.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-".concat(y.items[t].color,"-color-rgb), 0.08)")}),Object(f.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-".concat(y.items[t].color,"-color-rgb), 0)")})]},e)}))}),Object(f.jsx)(d.a,{vertical:!1,strokeDasharray:"3 0",stroke:"var(--theme-border-color)"}),Object(f.jsx)(u.a,{dataKey:i.key,axisLine:!1,tickLine:!1,tickMargin:8,minTickGap:0,tickFormatter:i.format,ticks:i.ticks}),Object(f.jsx)(b.a,{axisLine:!1,tickLine:!1,tickFormatter:y.format,orientation:"left",yAxisId:"left",domain:T}),_&&Object(f.jsx)(b.a,{axisLine:!1,tickLine:!1,tickFormatter:y.format,orientation:"right",yAxisId:"right",domain:y.domainRight}),y.items.map((function(e,t){var i;return Object(f.jsx)(j.a,{name:e.title,dataKey:e.key,type:"monotone",fill:"url(#".concat(S[t],")"),stroke:"var(--theme-".concat(y.items[t].color,"-color)"),strokeWidth:2,yAxisId:null!==(i=e.yAxisId)&&void 0!==i?i:"left",strokeDasharray:"right"===e.yAxisId?"3 3":""},e.key)})),Object(f.jsx)(h.a,{labelFormatter:function(e){return Object(f.jsx)("div",{className:x.a.tooltipTitle,children:e?Object(c.a)(new Date(e),"MM.dd.yyyy HH:mm"):""})},content:function(e){return function(e,t,i){var n=e.payload,o=e.label;if(!n)return null;var c=o&&t?t(o):o;return Object(f.jsxs)("div",{className:x.a.tooltip,children:[Object(f.jsx)("div",{className:x.a.tooltipTitle,children:c}),Object(f.jsx)("dl",{className:x.a.tooltipItems,children:n.map((function(e,t){return Object(f.jsxs)("div",{className:x.a.tooltipItem,children:[Object(f.jsx)("dt",{className:x.a.tooltipName,style:{"--dot-color":e.color},children:e.name}),Object(f.jsx)("dd",{className:x.a.tooltipValue,children:i?i(e.value):e.value})]},t)}))})]})}(e,i.itemFormat,y.itemsFormat)}}),Object(f.jsx)(m.a,{content:g})]})})})}},1803:function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var n=i(5),o=i(0),c=i(19),r=i(45),s=i(1365),a=i(1591),l=i(1436);function d(e){var t=Object(r.b)(),i=Object(s.b)().getOrCreateContract,d=Object(o.useMemo)((function(){var e,n=null===(e=t.contracts.sa)||void 0===e?void 0:e.loupe;if(n)return i(n,(function(){return new a.a(n)}))}),[]),u=Object(o.useState)([]),b=Object(n.a)(u,2),j=b[0],h=b[1];Object(o.useEffect)((function(){e&&d&&d.getEstimateNextEpoch(e).then((function(e){h(e)}))}),[e,d]);var m=Object(o.useMemo)((function(){var e;if(!j[0]||!j[1])return 0;var t=j[0].plus(j[1]);return null===(e=j[1])||void 0===e?void 0:e.div(t).toNumber()}),[j]),p=Object(o.useMemo)((function(){var e;if(!j[0]||!j[1])return 0;var t=j[0].plus(j[1]);return null===(e=j[0])||void 0===e?void 0:e.div(t).toNumber()}),[j]),O=Object(o.useMemo)((function(){if(j[0]&&j[1]&&j[2])return j[0].eq(0)?new c.BigNumber(1):j[1].div(j[0]).multipliedBy(new c.BigNumber(1).minus(j[2].unscaleBy(l.a))).plus(1)}),[j]),v=Object(o.useMemo)((function(){if(j[0]&&j[1])return j[0].eq(0)?new c.BigNumber(1):j[1].div(j[0]).plus(1)}),[j]);return{nextEpochEstimates:j,nextEpochSeniorLiquidityRate:m,nextEpochJuniorLiquidityRate:p,nextEpochUpsideLeverage:O,nextEpochDownsideLeverage:v}}},1804:function(e,t,i){"use strict";i.d(t,"a",(function(){return d})),i.d(t,"b",(function(){return j}));var n=i(38),o=i(33),c=i(250),r=i(415),s=i(1805),a=i.n(s),l=i(1),d=function(e){var t=e.pool,i=e.tranches,n=void 0===i?["junior","senior"]:i;return Object(l.jsx)("ul",{className:a.a.list,children:n.map((function(e){return Object(l.jsx)(u,{tranche:e,pool:t},e)}))})},u=function(e){var t,i=e.pool,s=e.tranche,d=(0,Object(c.e)().getToken)(i.poolToken.symbol),u=null===(t=b[i.poolName])||void 0===t?void 0:t[s];return u?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{children:Object(l.jsxs)(n.d,{className:a.a.link,href:u[0],children:[Object(l.jsxs)("div",{className:a.a.token,children:[Object(l.jsx)(r.a,{name:null===d||void 0===d?void 0:d.icon,bubble1Name:"bond",bubble2Name:"usd",outline:"purple",size:32}),s,"_",i.poolName]}),Object(l.jsx)("div",{className:a.a.arrowIcon,children:Object(l.jsx)(o.a,{name:"arrow",color:"icon",size:16})}),Object(l.jsxs)("div",{className:a.a.token,children:[Object(l.jsx)(r.a,{name:null===d||void 0===d?void 0:d.icon,bubble1Name:"bond",bubble2Name:"usd",outline:"green",size:32}),"senior"===s?"junior":"senior","_",i.poolName]})]})}),Object(l.jsx)("li",{children:Object(l.jsxs)(n.d,{className:a.a.link,href:u[1],children:[Object(l.jsxs)("div",{className:a.a.token,children:[Object(l.jsx)(r.a,{name:null===d||void 0===d?void 0:d.icon,bubble1Name:"bond",bubble2Name:"usd",outline:"purple",size:32}),s,"_",i.poolName]}),Object(l.jsx)("div",{className:a.a.arrowIcon,children:Object(l.jsx)(o.a,{name:"arrow",color:"icon",size:16})}),Object(l.jsxs)("div",{className:a.a.token,children:[Object(l.jsx)(r.a,{name:null===d||void 0===d?void 0:d.icon,bubble2Name:"usd",size:32}),i.poolToken.symbol]})]})})]}):(console.error("No trade links for ".concat(s,"_").concat(i.poolName)),null)},b={"WETH-USD-1w":{junior:["https://app.balancer.fi/#/trade/0xcd89c90ce3d565f51587033604591ba292ba1866/0xb138dd4a00f9afa14c7feaacd710f37a22fe4f12","https://app.balancer.fi/#/trade/0xcd89c90ce3d565f51587033604591ba292ba1866/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"],senior:["https://app.balancer.fi/#/trade/0xb138dd4a00f9afa14c7feaacd710f37a22fe4f12/0xcd89c90ce3d565f51587033604591ba292ba1866","https://app.balancer.fi/#/trade/0xb138dd4a00f9afa14c7feaacd710f37a22fe4f12/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"]},"WBTC-USD-1w":{junior:["https://app.balancer.fi/#/trade/0x2766cc123d0a005c73f7bac66ce9e6a746fc1006/0xc919d5d1053a9ab77529618e45f168b199bd823d","https://app.balancer.fi/#/trade/0x2766cc123d0a005c73f7bac66ce9e6a746fc1006/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599"],senior:["https://app.balancer.fi/#/trade/0xc919d5d1053a9ab77529618e45f168b199bd823d/0x2766cc123d0a005c73f7bac66ce9e6a746fc1006","https://app.balancer.fi/#/trade/0xc919d5d1053a9ab77529618e45f168b199bd823d/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599"]}};function j(e){return Object.keys(b).includes(e)}},1805:function(e,t,i){e.exports={list:"s_list__D30tk",link:"s_link__lvRqU",token:"s_token__1zE_S",arrowIcon:"s_arrowIcon__187l2"}},1806:function(e,t,i){"use strict";i.d(t,"a",(function(){return g}));var n=i(4),o=i(5),c=i(15),r=i(0),s=i(19),a=i.n(s),l=i(141),d=i(65),u=i(420),b=i(38),j=i(1399),h=i(1435),m=i(12),p=i(250),O=i(415),v=i(424),y=i(1),x={JUNIOR_ENTRY:"Junior entry",JUNIOR_REDEEM_TOKENS:"Junior redeem tokens",JUNIOR_EXIT:"Junior exit",JUNIOR_REDEEM_UNDERLYING:"Junior redeem underlying",SENIOR_ENTRY:"Senior entry",SENIOR_REDEEM_TOKENS:"Senior redeem tokens",SENIOR_EXIT:"Senior exit",SENIOR_REDEEM_UNDERLYING:"Senior redeem underlying",JTOKEN_SEND:"Jtoken send",JTOKEN_RECEIVE:"Jtoken receive",STOKEN_SEND:"Stoken send",STOKEN_RECEIVE:"Stoken receive"},f=[{name:"transactionType",label:"Transaction type",defaultValue:"",itemRender:function(){var e=[{value:"",label:"All types"}].concat(Object(c.a)(Object.entries(x).map((function(e){var t=Object(o.a)(e,2);return{value:t[0],label:t[1]}}))));return Object(y.jsx)(u.a,{options:e,className:"full-width"})}}],g=function(e){var t,i=e.poolAddress,s=e.accountAddress;var u=Object(r.useState)({page:1,pageSize:10,transactionType:""}),g=Object(o.a)(u,2),N=g[0],w=g[1];Object(r.useEffect)((function(){w((function(e){return Object(n.a)(Object(n.a)({},e),{},{page:1,transactionType:N.transactionType})}))}),[N.transactionType]);var k=Object(v.l)({page:N.page,limit:N.pageSize,userAddress:s,poolAddress:i,transactionType:N.transactionType}),S=k.data,_=k.loading,E=Object(r.useMemo)((function(){return function(e){return[{heading:"Token Name",render:function(e){var t,i=Object(p.e)(),c=i.getToken,r=i.getAsset,s=c(e.poolTokenSymbol),a=r(e.oracleAssetSymbol),l=null!==(t={JUNIOR_EXIT:["purple","bond",null===a||void 0===a?void 0:a.icon],JUNIOR_REDEEM_TOKENS:["purple","bond",null===a||void 0===a?void 0:a.icon],JTOKEN_SEND:["purple","bond",null===a||void 0===a?void 0:a.icon],JTOKEN_RECEIVE:["purple","bond",null===a||void 0===a?void 0:a.icon],SENIOR_EXIT:["green","bond",null===a||void 0===a?void 0:a.icon],SENIOR_REDEEM_TOKENS:["green","bond",null===a||void 0===a?void 0:a.icon],STOKEN_SEND:["green","bond",null===a||void 0===a?void 0:a.icon],STOKEN_RECEIVE:["green","bond",null===a||void 0===a?void 0:a.icon]}[e.transactionType])&&void 0!==t?t:[],d=Object(o.a)(l,3),u=d[0],j=d[1],h=d[2];return Object(y.jsxs)("div",{className:"flex align-center",style:{whiteSpace:"nowrap"},children:[Object(y.jsx)(O.a,Object(n.a)(Object(n.a)(Object(n.a)({name:null===s||void 0===s?void 0:s.icon,outline:u},j?{bubble1Name:j}:{}),h?{bubble2Name:h}:{}),{},{size:32,className:"mr-16"})),Object(y.jsx)(b.b,{address:e.tokenAddress,children:Object(y.jsx)(m.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:e.tokenSymbol})})]})}},{heading:"Side / transaction",render:function(e){return Object(y.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[Object(y.jsxs)(m.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:["SENIOR"===e.tranche?"Senior":null,"JUNIOR"===e.tranche?"Junior":null]}),Object(y.jsx)(m.b,{type:"small",weight:"semibold",color:"secondary",children:x[e.transactionType]||null})]})}},{heading:"Amount",render:function(t){var i=Object(p.e)().getAsset,n=function(e,t){switch(e){case"JUNIOR_ENTRY":case"JUNIOR_EXIT":case"SENIOR_ENTRY":case"SENIOR_EXIT":return!t;case"JUNIOR_REDEEM_TOKENS":case"JUNIOR_REDEEM_UNDERLYING":case"SENIOR_REDEEM_TOKENS":case"SENIOR_REDEEM_UNDERLYING":return t;case"JTOKEN_SEND":case"STOKEN_SEND":return!1;case"JTOKEN_RECEIVE":case"STOKEN_RECEIVE":return!0}}(t.transactionType,!!e),o=i(t.oracleAssetSymbol);return Object(y.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[Object(y.jsxs)(m.b,{type:"p1",weight:"semibold",color:n?"green":"red",tooltip:Object(d.e)(t.amountInUSD),children:[n?"+":"-"," ",Object(d.d)(a.a.from(t.amount))]}),Object(y.jsx)(m.b,{type:"small",weight:"semibold",color:"secondary",tooltip:Object(d.d)(a.a.from(t.amountInQuoteAsset),{decimals:null===o||void 0===o?void 0:o.decimals}),children:Object(d.d)(a.a.from(t.amountInQuoteAsset),{tokenName:t.oracleAssetSymbol})})]})}}].concat(Object(c.a)(e?[]:[{heading:"Address",render:function(e){return Object(y.jsx)(b.b,{address:e.userAddress,variation:"link",children:Object(d.j)(e.userAddress,6,4)})}}]),[{heading:"Transaction Hash",render:function(e){return Object(y.jsx)(b.b,{address:e.transactionHash,variation:"link",children:Object(d.j)(e.transactionHash,6,4)})}},{heading:"Date",render:function(e){var t=new Date(1e3*e.blockTimestamp);return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(m.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(l.a)(t,"dd.MM.yyyy")}),Object(y.jsx)(m.b,{type:"small",weight:"semibold",color:"secondary",children:Object(l.a)(t,"HH:mm")})]})}}])}(s)}),[s]);return Object(y.jsxs)("section",{className:"card",children:[Object(y.jsxs)("header",{className:"card-header flex align-center pv-12",children:[Object(y.jsx)(m.b,{type:"p1",weight:"semibold",children:"Transaction history"}),Object(y.jsx)(h.a,{filters:f,value:N,onChange:function(e){w((function(t){return Object(n.a)(Object(n.a)({},t),e)}))},className:"ml-auto"})]}),Object(y.jsx)(j.a,{columns:E,data:(null===S||void 0===S?void 0:S.data)||[],loading:_}),Object(y.jsx)(j.b,{total:null!==(t=null===S||void 0===S?void 0:S.meta.count)&&void 0!==t?t:0,current:N.page,pageSize:N.pageSize,onChange:function(e){return w((function(t){return Object(n.a)(Object(n.a)({},t),{},{page:e})}))},text:!0})]})}},1807:function(e,t,i){e.exports={tooltip:"s_tooltip__2Hg-8",tooltipTitle:"s_tooltipTitle__3oilh",tooltipItems:"s_tooltipItems__1Zwow",tooltipItem:"s_tooltipItem__12Wa5",tooltipName:"s_tooltipName__3OpvE",tooltipValue:"s_tooltipValue__2pCAP",legend:"s_legend__1LvpQ",legendItem:"s_legendItem__Eob-k"}},1808:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var n=i(4),o=i(13),c=i(17),r=i(0),s=i(8),a=i.n(s),l=i(224),d=i(33),u=i(1809),b=i.n(u),j=i(1),h=["id","before","className","dimension"],m=function(e){var t=e.id,i=e.before,s=e.className,u=e.dimension,m=void 0===u?"normal":u,p=Object(c.a)(e,h),O=Object(r.useMemo)((function(){return null!==t&&void 0!==t?t:Object(l.a)()}),[t]),v="search"===p.type;return Object(j.jsxs)("label",{htmlFor:O,className:a()(b.a.inputWrapper,s),children:[i&&Object(j.jsx)("div",{className:a()(b.a.before,b.a[m]),children:i}),v&&Object(j.jsx)(d.a,{name:"search",size:16,className:b.a.searchIcon,color:"icon"}),Object(j.jsx)("input",Object(n.a)({type:"text",id:O,className:a()(b.a.input,b.a[m],Object(o.a)({},b.a.inputSearch,v))},p))]})}},1809:function(e,t,i){e.exports={inputWrapper:"s_inputWrapper__2SYqe",input:"s_input__ak8Ur",large:"s_large__RjV7F",inputSearch:"s_inputSearch__3tqk-",before:"s_before__lvzM0",searchIcon:"s_searchIcon__1NFiP"}},2217:function(e,t,i){e.exports={search:"s_search__3aj8i",row:"s_row__2ps8F",timeline:"s_timeline__2yCBZ",timelineNumber:"s_timelineNumber__sF-8G",timelineLineTop:"s_timelineLineTop__3LCOL",hasNeighbors:"s_hasNeighbors__jEzFW",hasMore:"s_hasMore__2Jt1l",timelineLineBottom:"s_timelineLineBottom__2tt9J",card:"s_card__3lZ01",highlighted:"s_highlighted__Pkbq-",time:"s_time__1anBI",list:"s_list__-wa5M",listGroup:"s_listGroup__2fqlT"}},2218:function(e,t,i){e.exports={section:"s_section__3VNv9",sectionHeader:"s_sectionHeader__q7laG",sectionBody:"s_sectionBody__rIA1q"}},2219:function(e,t,i){e.exports={progress:"s_progress__GHcmP",cards:"s_cards__1sQuL",epochCard:"s_epochCard__3X5y_",epochCardPrimary:"s_epochCardPrimary__2-Jwz",epochCardSecondary:"s_epochCardSecondary__2GF__",epochCardTitleWrap:"s_epochCardTitleWrap__2J9vc",epochCardTitle:"s_epochCardTitle__1jWp-",epochCardHeader:"s_epochCardHeader__1jxK8",epochCardHeaderItem:"s_epochCardHeaderItem__nUXH9",epochCardDlRow:"s_epochCardDlRow__8S8Bx",epochProgress:"s_epochProgress__x3KKg",epochProgressLineBefore:"s_epochProgressLineBefore__ogr8D",epochProgressLineAfter:"s_epochProgressLineAfter__ED7My",epochProgressLineMiddle:"s_epochProgressLineMiddle__pjTS6",epochProgressCurrent:"s_epochProgressCurrent__3zKrd",epochProgressNext:"s_epochProgressNext__2ZbsZ",epochSpinner:"s_epochSpinner__128RX",rotating:"s_rotating__1Ud_K"}},2248:function(e,t,i){"use strict";i.r(t);var n,o=i(29),c=i(5),r=i(9),s=i.n(r),a=i(0),l=i(223),d=i(56),u=i(19),b=i.n(u),j=i(8),h=i.n(j),m=i(65),p=i(38),O=i(258),v=i(1361),y=i(1464),x=i(12),f=i(450),g=i(50),N=i(250),w=i(415),k=i(1365),S=i(1384),_=i(116),E=i(424),T=i(1804),q=i(1436),J=i(1803),R=i(73),L=i(1806),C=i(141),I=i(1721),P=i(1368),A=i(1);!function(e){e.senior="senior",e.junior="junior"}(n||(n={}));var U=[{id:n.senior,children:"Senior"},{id:n.junior,children:"Junior"}],B=[{id:E.a.current,children:"Current epoch"},{id:E.a.last,children:"Last epoch"}],D=function(e){var t=e.poolAddress,i=e.oracleAssetSymbol,o=e.className,r=Object(a.useState)(n.senior),s=Object(c.a)(r,2),l=s[0],d=s[1],u=Object(a.useState)(E.a.current),b=Object(c.a)(u,2),j=b[0],p=b[1],O=Object(E.f)(t,j),v=O.data,y=void 0===v?[]:v,f=O.loading;return Object(A.jsxs)("div",{className:h()("card",o),children:[Object(A.jsxs)("div",{className:"card-header flex align-center",children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",children:"Pool performance"}),Object(A.jsx)(P.g,{tabs:U,activeKey:l,onClick:d,variation:"elastic",size:"small",className:"ml-auto mr-16"}),Object(A.jsx)(P.g,{tabs:B,activeKey:j,onClick:p,variation:"elastic",size:"small"})]}),Object(A.jsx)("div",{className:"p-24",children:Object(A.jsx)(I.a,{loading:f,data:null!==y&&void 0!==y?y:[],x:{key:"point",format:function(e){return Object(C.a)(new Date(e),"EEE HH:mm")},itemFormat:function(e){return Object(C.a)(new Date(e),"MM.dd.yyyy HH:mm")}},y:{format:function(e){var t;return"".concat(null!==(t=Object(m.d)(e,{compact:!0}))&&void 0!==t?t:e," ").concat(i)},itemsFormat:function(e){var t;return"".concat(null!==(t=Object(m.d)(e))&&void 0!==t?t:e," ").concat(i)},domain:[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e,e];return e-.1*(t[1]-e)},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e,e];return e+.1*(e-t[0])}],items:l===n.senior?[{key:"seniorWithSA",title:"Senior value",color:"green"},{key:"seniorWithoutSA",title:"Senior value (without SMART Alpha)",color:"yellow"},{key:"underlyingPrice",title:"Price (Right axis)",color:"grey",yAxisId:"right"}]:[{key:"juniorWithSA",title:"Junior value",color:"purple"},{key:"juniorWithoutSA",title:"Junior value (without SMART Alpha)",color:"yellow"},{key:"underlyingPrice",title:"Price (Right axis)",color:"grey",yAxisId:"right"}]}})})]})},M=i(13),z=i(423),H=i(1808),F=i(2217),K=i.n(F),G=function(e){var t=e.poolTokenSymbol,i=Object(d.i)().id,n=Object(a.useState)(""),o=Object(c.a)(n,2),r=o[0],s=o[1],l=Object(E.h)({limit:2,poolAddress:i}),u=l.data,b=l.loading,j=l.loaded,m=l.loadNewer,O=l.loadOlder,v=l.hasNewer,y=l.hasOlder,x=l.load;Object(a.useEffect)((function(){O()}),[]);var f=Object(z.a)((function(e){x(e)}),400);return Object(a.useEffect)((function(){return f(r)}),[r]),Object(A.jsxs)("div",{style:{paddingLeft:44},children:[Object(A.jsxs)("div",{style:{paddingLeft:72},children:[Object(A.jsx)(H.a,{type:"search",className:h()(K.a.search,"mb-16"),placeholder:"Search epoch",value:r,onChange:function(e){return s(e.target.value)}}),j&&v?Object(A.jsx)(p.a,{type:"button",variation:"text",onClick:function(){return m()},loading:b,className:"mb-16",children:"Load newer epochs"}):null]}),null===u||void 0===u?void 0:u.map((function(e,i){return Object(A.jsx)(Q,{item:e,poolTokenSymbol:t,highlighted:String(e.id)===r,hasNewer:v,hasOlder:y,isFirst:0===i,isLast:i===u.length-1},e.id)})),Object(A.jsx)("div",{style:{paddingLeft:72},children:j&&y?Object(A.jsx)(p.a,{type:"button",variation:"text",onClick:function(){return O()},loading:b,className:"mt-16",children:"Load older epochs"}):null})]})};function Q(e){var t,i,n,o=e.item,c=e.poolTokenSymbol,r=e.highlighted,s=e.hasNewer,a=e.hasOlder,l=e.isFirst,d=e.isLast,u=new Date(1e3*o.startDate),b=new Date(1e3*o.endDate),j=(0,Object(N.e)().getToken)(c),p=1+(1-Number(o.upsideExposureRate))*Number(o.seniorLiquidity)/Number(o.juniorLiquidity),O=Number(o.juniorLiquidity)>0?Number(o.seniorLiquidity)/Number(o.juniorLiquidity)+1:1;return Object(A.jsxs)("div",{className:K.a.row,children:[Object(A.jsxs)("div",{className:K.a.timeline,children:[Object(A.jsx)("div",{className:h()(K.a.timelineLineTop,(t={},Object(M.a)(t,K.a.hasNeighbors,!l),Object(M.a)(t,K.a.hasMore,l&&s),t))}),Object(A.jsx)("div",{className:K.a.timelineNumber,children:o.id}),Object(A.jsx)("div",{className:h()(K.a.timelineLineBottom,(i={},Object(M.a)(i,K.a.hasNeighbors,!d),Object(M.a)(i,K.a.hasMore,d&&a),i))})]}),Object(A.jsxs)("section",{className:h()(K.a.card,"card p-24",(n={},Object(M.a)(n,K.a.highlighted,r),Object(M.a)(n,"mb-8",!d),Object(M.a)(n,"mt-8",!l),n)),children:[Object(A.jsxs)("header",{className:"flex align-center mb-24",children:[Object(A.jsxs)(x.b,{type:"p1",weight:"semibold",tag:"h3",children:["Epoch ",o.id]}),Object(A.jsx)("time",{className:h()(K.a.time,"ml-auto"),dateTime:u.toJSON(),children:Object(C.a)(u,"dd.MM.yyyy - hh:mm")}),Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"mh-8",children:"-"}),Object(A.jsx)("time",{className:K.a.time,dateTime:b.toJSON(),children:Object(C.a)(b,"dd.MM.yyyy - hh:mm")})]}),Object(A.jsxs)("dl",{className:K.a.list,children:[Object(A.jsxs)("div",{className:K.a.listGroup,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Senior liquidity"}),Object(A.jsxs)("div",{className:"flex align-center mb-4",children:[Object(A.jsx)(x.b,{type:"p2",weight:"semibold",className:"mr-4",tooltip:o.seniorLiquidity,children:Object(m.b)(Number(o.seniorLiquidity),{decimals:4})}),Object(A.jsx)(w.a,{name:null===j||void 0===j?void 0:j.icon,size:16})]})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Junior liquidity"}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"p2",weight:"semibold",className:"mr-4",tooltip:o.juniorLiquidity,children:Object(m.b)(Number(o.juniorLiquidity),{decimals:4})}),Object(A.jsx)(w.a,{name:null===j||void 0===j?void 0:j.icon,size:16})]})]})]}),Object(A.jsxs)("div",{className:K.a.listGroup,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Upside leverage"}),Object(A.jsxs)(x.b,{type:"p2",weight:"semibold",color:"purple",children:[Object(m.b)(p||1,{decimals:2}),"x"]})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Downside leverage"}),Object(A.jsxs)(x.b,{type:"p2",weight:"semibold",color:"purple",tooltip:"You have this amount of downside leverage, until the underlying token's price drops by more than the senior downside protection - after which there is no more downside leverage - or you can consider it as being 1x",children:["\u2264",Object(m.b)(O,{decimals:2}),"x"]})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Upside exposure rate"}),Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"green",children:Object(m.c)(Number(o.upsideExposureRate))})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Downside protection rate"}),Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"green",children:Object(m.c)(Number(o.downsideProtectionRate))})]})]}),Object(A.jsxs)("div",{className:K.a.listGroup,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Junior price start"}),Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"primary",tooltip:o.juniorTokenPriceStart,children:Object(m.b)(Number(o.juniorTokenPriceStart),{decimals:4})})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Junior Profits"}),Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"primary",tooltip:o.juniorProfits,children:Object(m.b)(Number(o.juniorProfits),{decimals:4})})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Senior price start"}),Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"primary",tooltip:o.seniorTokenPriceStart,children:Object(m.b)(Number(o.seniorTokenPriceStart),{decimals:4})})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:"Senior Profits"}),Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"primary",tooltip:o.seniorProfits,children:Object(m.b)(Number(o.seniorProfits),{decimals:4})})]}),Object(A.jsxs)("div",{children:[Object(A.jsxs)(x.b,{type:"small",weight:"semibold",className:"mb-8",color:"secondary",children:[c," Epoch entry price"]}),Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"primary",tooltip:o.entryPrice,children:Object(m.b)(Number(o.entryPrice),{decimals:4})})]})]})]})]})]})}var V=i(2218),W=i.n(V),Y=function(e){var t,i,n,o,c,r,s,a,l,d,u,b,j,h,p,O,v,y,f,g,k,S,_,E,T=e.pool,J=e.smartAlphaContract,R=Object(N.e)(),L=R.getToken,C=R.getAsset,I=L(T.poolToken.symbol),P=C(T.oracleAssetSymbol);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("section",{className:W.a.section,children:[Object(A.jsx)("header",{className:W.a.sectionHeader,children:Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",tag:"h3",children:"Going in"})}),Object(A.jsxs)("div",{className:W.a.sectionBody,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"secondary",className:"mb-4",children:"Juniors underlying"}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(w.a,{name:null===I||void 0===I?void 0:I.icon,size:16,className:"mr-8"}),Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:null!==(t=Object(m.d)(null===J||void 0===J||null===(i=J.queuedJuniorsUnderlyingIn)||void 0===i?void 0:i.unscaleBy(T.poolToken.decimals),{decimals:T.poolToken.decimals,tokenName:T.poolToken.symbol}))&&void 0!==t?t:"-",children:null!==(n=Object(m.d)(null===J||void 0===J||null===(o=J.queuedJuniorsUnderlyingIn)||void 0===o?void 0:o.unscaleBy(T.poolToken.decimals)))&&void 0!==n?n:"-"})]})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"secondary",className:"mb-4",children:"Seniors underlying"}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(w.a,{name:null===I||void 0===I?void 0:I.icon,size:16,className:"mr-8"}),Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:null!==(c=Object(m.d)(null===J||void 0===J||null===(r=J.queuedSeniorsUnderlyingIn)||void 0===r?void 0:r.unscaleBy(T.poolToken.decimals),{decimals:T.poolToken.decimals,tokenName:T.poolToken.symbol}))&&void 0!==c?c:"-",children:null!==(s=Object(m.d)(null===J||void 0===J||null===(a=J.queuedSeniorsUnderlyingIn)||void 0===a?void 0:a.unscaleBy(T.poolToken.decimals)))&&void 0!==s?s:"-"})]})]})]})]}),Object(A.jsxs)("section",{className:W.a.section,children:[Object(A.jsx)("header",{className:W.a.sectionHeader,children:Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",tag:"h3",children:"Going out"})}),Object(A.jsxs)("div",{className:W.a.sectionBody,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"secondary",className:"mb-4",children:"Junior tokens"}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(w.a,{name:null===I||void 0===I?void 0:I.icon,bubble1Name:"bond",bubble2Name:null===P||void 0===P?void 0:P.icon,outline:"purple",size:16,className:"mr-8"}),Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:null!==(l=Object(m.d)(null===J||void 0===J||null===(d=J.queuedJuniorTokensBurn)||void 0===d?void 0:d.unscaleBy(q.a),{decimals:q.a,tokenName:"junior_".concat(T.poolName)}))&&void 0!==l?l:"-",children:null!==(u=Object(m.d)(null===J||void 0===J||null===(b=J.queuedJuniorTokensBurn)||void 0===b?void 0:b.unscaleBy(q.a)))&&void 0!==u?u:"-"})]})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"secondary",className:"mb-4",children:"Senior tokens"}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(w.a,{name:null===I||void 0===I?void 0:I.icon,bubble1Name:"bond",bubble2Name:null===P||void 0===P?void 0:P.icon,outline:"green",size:16,className:"mr-8"}),Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:null!==(j=Object(m.d)(null===J||void 0===J||null===(h=J.queuedSeniorTokensBurn)||void 0===h?void 0:h.unscaleBy(q.a),{decimals:q.a,tokenName:"senior_".concat(T.poolName)}))&&void 0!==j?j:"-",children:null!==(p=Object(m.d)(null===J||void 0===J||null===(O=J.queuedSeniorTokensBurn)||void 0===O?void 0:O.unscaleBy(q.a)))&&void 0!==p?p:"-"})]})]})]})]}),Object(A.jsxs)("section",{className:W.a.section,children:[Object(A.jsx)("header",{className:W.a.sectionHeader,children:Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",tag:"h3",children:"Out but not redeemed"})}),Object(A.jsxs)("div",{className:W.a.sectionBody,children:[Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"secondary",className:"mb-4",children:"Juniors underlying"}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(w.a,{name:null===I||void 0===I?void 0:I.icon,size:16,className:"mr-8"}),Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:null!==(v=Object(m.d)(null===J||void 0===J||null===(y=J.queuedJuniorsUnderlyingOut)||void 0===y?void 0:y.unscaleBy(T.poolToken.decimals),{decimals:T.poolToken.decimals,tokenName:T.poolToken.symbol}))&&void 0!==v?v:"-",children:null!==(f=Object(m.d)(null===J||void 0===J||null===(g=J.queuedJuniorsUnderlyingOut)||void 0===g?void 0:g.unscaleBy(T.poolToken.decimals)))&&void 0!==f?f:"-"})]})]}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"secondary",className:"mb-4",children:"Seniors underlying"}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(w.a,{name:null===I||void 0===I?void 0:I.icon,size:16,className:"mr-8"}),Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:null!==(k=Object(m.d)(null===J||void 0===J||null===(S=J.queuedSeniorsUnderlyingOut)||void 0===S?void 0:S.unscaleBy(T.poolToken.decimals),{decimals:T.poolToken.decimals,tokenName:T.poolToken.symbol}))&&void 0!==k?k:"-",children:null!==(_=Object(m.d)(null===J||void 0===J||null===(E=J.queuedSeniorsUnderlyingOut)||void 0===E?void 0:E.unscaleBy(T.poolToken.decimals)))&&void 0!==_?_:"-"})]})]})]})]})]})},X=i(1632),Z=function(e){var t=e.poolAddress,i=e.tokenSymbol,n=e.className,o=Object(a.useState)(P.d.day),r=Object(c.a)(o,2),s=r[0],l=r[1],d=Object(E.k)(t,s),u=d.data,b=void 0===u?[]:u,j=d.loading;return Object(A.jsxs)("div",{className:h()("card",n),children:[Object(A.jsxs)("div",{className:"card-header flex align-center",children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",children:"Tokens price"}),Object(A.jsx)(P.c,{activeKey:s,onClick:l,size:"small",className:"ml-auto"})]}),Object(A.jsx)("div",{className:"p-24",children:Object(A.jsx)(I.a,{loading:j,data:null!==b&&void 0!==b?b:[],x:{key:"point",format:function(e){return Object(X.a)(e,s)},itemFormat:function(e){return Object(C.a)(new Date(e),"MM.dd.yyyy HH:mm")}},y:{format:function(e){return"".concat(Intl.NumberFormat("en",{notation:"compact"}).format(e)," ").concat(i)},itemsFormat:function(e){return"".concat(Intl.NumberFormat("en").format(e)," ").concat(i)},items:[{key:"seniorTokenPrice",title:"Senior token price",color:"green"},{key:"juniorTokenPrice",title:"Junior token price",color:"purple"}]}})})]})},$=i(60),ee=i(2219),te=i.n(ee);t.default=function(){var e,t,i,n,r,u,j,C,I,P,U,B,M,z,H,F,K,Q,V,W,X,ee,ie,ne,oe,ce,re,se,ae,le,de,ue,be,je,he,me,pe,Oe,ve,ye,xe,fe,ge,Ne,we,ke,Se,_e,Ee,Te,qe,Je,Re,Le,Ce,Ie,Pe,Ae=Object(d.i)().id,Ue=Object(d.g)(),Be=Object(d.h)(),De=Object(g.b)(),Me=Object(E.e)(Ae),ze=Me.data,He=Me.loaded,Fe=Object(N.e)(),Ke=Fe.getToken,Ge=Fe.getAsset,Qe=Object(R.c)(),Ve=Object(_.a)(),We=Object(c.a)(Ve,1)[0],Ye=Object(a.useState)(!1),Xe=Object(c.a)(Ye,2),Ze=Xe[0],$e=Xe[1],et=Object(a.useState)(!1),tt=Object(c.a)(et,2),it=tt[0],nt=tt[1],ot=Object(a.useState)(!1),ct=Object(c.a)(ot,2),rt=ct[0],st=ct[1],at=Object(a.useState)(!1),lt=Object(c.a)(at,2),dt=lt[0],ut=lt[1],bt=Object(k.b)().getOrCreateContract,jt=Object(a.useMemo)((function(){if(ze)return bt(ze.poolAddress,(function(){return new q.b(ze.poolAddress)}),{afterInit:function(){var e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.onUpdateData(We),e.next=3,t.loadCommon();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),[ze]),ht=Object(J.a)(null===jt||void 0===jt?void 0:jt.address),mt=ht.nextEpochEstimates,pt=ht.nextEpochSeniorLiquidityRate,Ot=ht.nextEpochJuniorLiquidityRate,vt=ht.nextEpochUpsideLeverage,yt=ht.nextEpochDownsideLeverage;if(!ze)return He&&Ue.push("/smart-alpha/pools"),Object(A.jsx)(v.a,{style:{margin:"auto"}});var xt=Ke(ze.poolToken.symbol),ft=Ge(ze.oracleAssetSymbol),gt=null===jt||void 0===jt?void 0:jt.getEntryPriceDecimals(ze.oracleAssetSymbol),Nt=null===jt||void 0===jt||null===(e=jt.epochUpsideLeverage)||void 0===e?void 0:e.unscaleBy(q.a),wt=null===jt||void 0===jt||null===(t=jt.epochDownsideLeverage)||void 0===t?void 0:t.unscaleBy(q.a);function kt(){return St.apply(this,arguments)}function St(){return(St=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return st(!0),e.prev=1,e.next=4,null===jt||void 0===jt?void 0:jt.advanceEpoch();case 4:null===jt||void 0===jt||jt.loadCommon(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:return e.prev=10,st(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})))).apply(this,arguments)}return Object(A.jsxs)("div",{className:"container-limit",children:[Object(A.jsx)("div",{className:"mb-16",children:Object(A.jsx)(p.e,{to:"/smart-alpha",variation:"text-alt",icon:"arrow",iconPosition:"left",iconRotate:180,children:"Pools"})}),Object(A.jsxs)("div",{className:"flex wrap col-gap-16 row-gap-16 align-center mb-40",children:[Object(A.jsxs)("div",{className:"flex flex-grow align-center",children:[Object(A.jsx)(w.a,{name:null===xt||void 0===xt?void 0:xt.icon,size:40,bubble2Name:null===ft||void 0===ft?void 0:ft.icon,className:"mr-16"}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tag:"h2",className:"mb-4",children:ze.poolName}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"red",children:["Epoch ",null!==(i=null!==(n=null===jt||void 0===jt?void 0:jt.epoch)&&void 0!==n?n:ze.state.epoch)&&void 0!==i?i:"-"]})]})]}),Object(A.jsxs)("div",{className:"flex align-center col-gap-24",children:["Ethereum"===De.activeNetwork.type&&Object(T.b)(ze.poolName)&&Object(A.jsx)(p.a,{variation:"text",onClick:function(){return ut(!0)},children:"Trade"}),Object(A.jsx)(p.e,{to:"".concat(Be.pathname,"/simulate-epoch"),variation:"text",children:"Simulate"}),l.isMobile?null:Object(A.jsx)(p.e,{to:"".concat(Be.pathname,"/deposit"),variation:"primary","aria-disabled":!Qe.account,children:"Deposit"})]})]}),Object(A.jsxs)("div",{className:h()(te.a.cards,"mb-12"),children:[Object(A.jsxs)("section",{className:h()(te.a.epochCard,te.a.epochCardPrimary),children:[Object(A.jsx)("div",{className:te.a.epochCardTitleWrap,children:Object(A.jsxs)(x.b,{type:"lb2",weight:"bold",tag:"h3",color:"red",className:te.a.epochCardTitle,children:["EPOCH ",null!==(r=null===jt||void 0===jt?void 0:jt.epoch)&&void 0!==r?r:"-"," - IN PROGRESS"]})}),Object(A.jsxs)("header",{className:h()(te.a.epochCardHeader,"mb-24"),children:[Object(A.jsxs)("div",{className:te.a.epochCardHeaderItem,children:[Object(A.jsxs)("div",{className:"flex align-center col-gap-8",children:[Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",className:"mb-4",children:Nt?"".concat(Object(m.b)(Nt),"x"):"-"}),Object(A.jsx)(O.a,{color:"purple",size:"small",children:"Junior"})]}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",children:["Upside leverage",Object(A.jsx)(y.a,{children:"Junior positions will have their upside amplified by this much"})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardHeaderItem,children:[Object(A.jsxs)("div",{className:"flex align-center col-gap-8",children:[Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",className:"mb-4",tooltip:"You have this amount of downside leverage, until the underlying token's price drops by more than the senior downside protection - after which there is no more downside leverage - or you can consider it as being 1x",children:wt?"\u2264".concat(Object(m.b)(wt),"x"):"-"}),Object(A.jsx)(O.a,{color:"purple",size:"small",children:"Junior"})]}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",children:["Downside leverage",Object(A.jsxs)(y.a,{children:["How much of every 1% move to the downside in the underlying asset a junior position will have exposure to.",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"The downside leverage is only applicable until senior downside protection is fully covered, and junior losses are fully realized."]})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardHeaderItem,children:[Object(A.jsxs)("div",{className:"flex align-center col-gap-8",children:[Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",className:"mb-4",children:null!==(u=Object(m.c)(null===jt||void 0===jt||null===(j=jt.epochUpsideExposureRate)||void 0===j?void 0:j.unscaleBy(q.a)))&&void 0!==u?u:"-"}),Object(A.jsx)(O.a,{color:"green",size:"small",children:"Senior"})]}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",children:["Upside exposure rate",Object(A.jsx)(y.a,{children:"How much of every 1% move to the upside in the underlying asset a senior position will have exposure to."})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardHeaderItem,children:[Object(A.jsxs)("div",{className:"flex align-center col-gap-8",children:[Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",className:"mb-4",children:null!==(C=Object(m.c)(null===jt||void 0===jt||null===(I=jt.epochDownsideProtectionRate)||void 0===I?void 0:I.unscaleBy(q.a)))&&void 0!==C?C:"-"}),Object(A.jsx)(O.a,{color:"green",size:"small",children:"Senior"})]}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",children:["Downside protection rate",Object(A.jsx)(y.a,{children:"How much the underlying asset can decline before a senior position takes on losses."})]})]})]}),Object(A.jsxs)("div",{className:"ph-24 pb-16",children:[Object(A.jsxs)("dl",{children:[Object(A.jsxs)("div",{className:te.a.epochCardDlRow,children:[Object(A.jsx)("dt",{children:Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",children:[ze.poolToken.symbol," epoch entry price"]})}),Object(A.jsxs)("dd",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:Object(m.d)(null===jt||void 0===jt||null===(P=jt.epochEntryPrice)||void 0===P?void 0:P.unscaleBy(gt),{tokenName:ze.oracleAssetSymbol,decimals:gt}),children:null!==(U=Object(N.d)(ze.oracleAssetSymbol)?Object(m.e)(null===jt||void 0===jt||null===(B=jt.epochEntryPrice)||void 0===B?void 0:B.unscaleBy(gt)):Object(m.d)(null===jt||void 0===jt||null===(M=jt.epochEntryPrice)||void 0===M?void 0:M.unscaleBy(gt)))&&void 0!==U?U:"-"}),!Object(N.d)(ze.oracleAssetSymbol)&&Object(A.jsx)(w.a,{name:null===ft||void 0===ft?void 0:ft.icon,size:16,className:"ml-8"})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardDlRow,children:[Object(A.jsxs)("dt",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",children:"Senior liquidity"}),Object(A.jsx)("span",{className:"middle-dot color-border ml-8",style:{"--dot-color":"var(--theme-green-color)"}})]}),Object(A.jsxs)("dd",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:Object(A.jsxs)(x.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(A.jsx)("span",{children:Object(m.d)(null!==(z=null===jt||void 0===jt||null===(H=jt.epochSeniorLiquidity)||void 0===H?void 0:H.unscaleBy(ze.poolToken.decimals))&&void 0!==z?z:b.a.from(ze.state.seniorLiquidity),{tokenName:ze.poolToken.symbol,decimals:ze.poolToken.decimals})}),Object(A.jsx)("span",{children:Object(m.e)(null===(F=null!==(K=null===jt||void 0===jt||null===(Q=jt.epochSeniorLiquidity)||void 0===Q?void 0:Q.unscaleBy(ze.poolToken.decimals))&&void 0!==K?K:b.a.from(ze.state.seniorLiquidity))||void 0===F?void 0:F.multipliedBy(null!==(V=null===xt||void 0===xt?void 0:xt.price)&&void 0!==V?V:0))})]}),className:"mr-8",children:null!==(W=Object(m.d)(null!==(X=null===jt||void 0===jt||null===(ee=jt.epochSeniorLiquidity)||void 0===ee?void 0:ee.unscaleBy(ze.poolToken.decimals))&&void 0!==X?X:b.a.from(ze.state.seniorLiquidity)))&&void 0!==W?W:"-"}),Object(A.jsx)(w.a,{name:null===xt||void 0===xt?void 0:xt.icon,size:16})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardDlRow,children:[Object(A.jsxs)("dt",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",children:"Junior liquidity"}),Object(A.jsx)("span",{className:"middle-dot color-border ml-8",style:{"--dot-color":"var(--theme-purple-color)"}})]}),Object(A.jsxs)("dd",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:Object(A.jsxs)(x.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(A.jsx)("span",{children:Object(m.d)(null!==(ie=null===jt||void 0===jt||null===(ne=jt.epochJuniorLiquidity)||void 0===ne?void 0:ne.unscaleBy(ze.poolToken.decimals))&&void 0!==ie?ie:b.a.from(ze.state.juniorLiquidity),{tokenName:ze.poolToken.symbol,decimals:ze.poolToken.decimals})}),Object(A.jsx)("span",{children:Object(m.e)(null===(oe=null!==(ce=null===jt||void 0===jt||null===(re=jt.epochJuniorLiquidity)||void 0===re?void 0:re.unscaleBy(ze.poolToken.decimals))&&void 0!==ce?ce:b.a.from(ze.state.juniorLiquidity))||void 0===oe?void 0:oe.multipliedBy(null!==(se=null===xt||void 0===xt?void 0:xt.price)&&void 0!==se?se:0))})]}),className:"mr-8",children:null!==(ae=Object(m.d)(null===jt||void 0===jt||null===(le=jt.epochJuniorLiquidity)||void 0===le?void 0:le.unscaleBy(ze.poolToken.decimals)))&&void 0!==ae?ae:"-"}),Object(A.jsx)(w.a,{name:null===xt||void 0===xt?void 0:xt.icon,size:16})]})]})]}),Object(A.jsx)("div",{className:h()(te.a.progress,"mb-8"),style:{"--pool-epoch-tranche-percentage":100*(null!==(de=null===jt||void 0===jt?void 0:jt.epochSeniorLiquidityRate)&&void 0!==de?de:0)}}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"green",children:null!==(ue=Object(m.c)(null===jt||void 0===jt?void 0:jt.epochSeniorLiquidityRate))&&void 0!==ue?ue:"-"}),Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"purple",className:"ml-auto",children:null!==(be=Object(m.c)(null===jt||void 0===jt?void 0:jt.epochJuniorLiquidityRate))&&void 0!==be?be:"-"})]}),Object(A.jsx)("div",{className:"flex justify-center mt-8",children:Object(A.jsx)(p.a,{variation:"text",color:"red",onClick:function(){return $e(!0)},children:"View queue state"})})]})]}),Object(A.jsxs)("section",{className:h()(te.a.epochCard,te.a.epochCardSecondary),children:[Object(A.jsx)("div",{className:te.a.epochCardTitleWrap,children:Object(A.jsxs)(x.b,{type:"lb2",weight:"bold",tag:"h3",color:"secondary",className:te.a.epochCardTitle,children:["EPOCH ",void 0!==(null===jt||void 0===jt?void 0:jt.currentEpoch)?(null===jt||void 0===jt?void 0:jt.currentEpoch)+1:"-"," - ESTIMATES"]})}),Object(A.jsxs)("header",{className:h()(te.a.epochCardHeader,"mb-24"),children:[Object(A.jsxs)("div",{className:te.a.epochCardHeaderItem,children:[Object(A.jsxs)("div",{className:"flex align-center col-gap-8",children:[Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",className:"mb-4",children:vt?"".concat(Object(m.b)(vt),"x"):"-"}),Object(A.jsx)(O.a,{color:"purple",size:"small",children:"Junior"})]}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",children:["Upside leverage",Object(A.jsx)(y.a,{children:"Junior positions will have their upside amplified by this much"})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardHeaderItem,children:[Object(A.jsxs)("div",{className:"flex align-center col-gap-8",children:[Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",className:"mb-4",tooltip:"You have this amount of downside leverage, until the underlying token's price drops by more than the senior downside protection - after which there is no more downside leverage - or you can consider it as being 1x",children:yt?"\u2264".concat(Object(m.b)(yt),"x"):"-"}),Object(A.jsx)(O.a,{color:"purple",size:"small",children:"Junior"})]}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",children:["Downside leverage",Object(A.jsxs)(y.a,{children:["How much of every 1% move to the downside in the underlying asset a junior position will have exposure to.",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"The downside leverage is only applicable until senior downside protection is fully covered, and junior losses are fully realized."]})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardHeaderItem,children:[Object(A.jsxs)("div",{className:"flex align-center col-gap-8",children:[Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",className:"mb-4",children:null!==(je=Object(m.c)(null===(he=mt[2])||void 0===he?void 0:he.unscaleBy(q.a)))&&void 0!==je?je:"-"}),Object(A.jsx)(O.a,{color:"green",size:"small",children:"Senior"})]}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",children:["Upside exposure rate",Object(A.jsx)(y.a,{children:"How much of every 1% move to the upside in the underlying asset a senior position will have exposure to."})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardHeaderItem,children:[Object(A.jsxs)("div",{className:"flex align-center col-gap-8",children:[Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",className:"mb-4",children:null!==(me=Object(m.c)(null===(pe=mt[3])||void 0===pe?void 0:pe.unscaleBy(q.a)))&&void 0!==me?me:"-"}),Object(A.jsx)(O.a,{color:"green",size:"small",children:"Senior"})]}),Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",className:"flex align-middle col-gap-4",children:["Downside protection rate",Object(A.jsx)(y.a,{children:"How much the underlying asset can decline before a senior position takes on losses."})]})]})]}),Object(A.jsxs)("div",{className:"ph-24 pb-16",children:[Object(A.jsxs)("dl",{children:[Object(A.jsxs)("div",{className:te.a.epochCardDlRow,children:[Object(A.jsx)("dt",{children:Object(A.jsxs)(x.b,{type:"small",weight:"semibold",color:"secondary",children:[ze.poolToken.symbol," epoch entry price"]})}),Object(A.jsxs)("dd",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:Object(m.d)(null===(Oe=mt[4])||void 0===Oe?void 0:Oe.unscaleBy(gt),{tokenName:ze.oracleAssetSymbol,decimals:gt}),children:null!==(ve=Object(N.d)(ze.oracleAssetSymbol)?Object(m.e)(null===(ye=mt[4])||void 0===ye?void 0:ye.unscaleBy(gt)):Object(m.d)(null===(xe=mt[4])||void 0===xe?void 0:xe.unscaleBy(gt)))&&void 0!==ve?ve:"-"}),!Object(N.d)(ze.oracleAssetSymbol)&&Object(A.jsx)(w.a,{name:null===ft||void 0===ft?void 0:ft.icon,size:16,className:"ml-8"})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardDlRow,children:[Object(A.jsxs)("dt",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",children:"Senior liquidity"}),Object(A.jsx)("span",{className:"middle-dot color-border ml-8",style:{"--dot-color":"var(--theme-green-color)"}})]}),Object(A.jsxs)("dd",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:Object(A.jsxs)(x.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(A.jsx)("span",{children:Object(m.d)(null===(fe=mt[1])||void 0===fe?void 0:fe.unscaleBy(ze.poolToken.decimals),{tokenName:ze.poolToken.symbol,decimals:ze.poolToken.decimals})}),Object(A.jsx)("span",{children:Object(m.e)(null===(ge=mt[1])||void 0===ge||null===(Ne=ge.unscaleBy(ze.poolToken.decimals))||void 0===Ne?void 0:Ne.multipliedBy(null!==(we=null===xt||void 0===xt?void 0:xt.price)&&void 0!==we?we:0))})]}),className:"mr-8",children:null!==(ke=Object(m.d)(null===(Se=mt[1])||void 0===Se?void 0:Se.unscaleBy(ze.poolToken.decimals)))&&void 0!==ke?ke:"-"}),Object(A.jsx)(w.a,{name:null===xt||void 0===xt?void 0:xt.icon,size:16})]})]}),Object(A.jsxs)("div",{className:te.a.epochCardDlRow,children:[Object(A.jsxs)("dt",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",children:"Junior liquidity"}),Object(A.jsx)("span",{className:"middle-dot color-border ml-8",style:{"--dot-color":"var(--theme-purple-color)"}})]}),Object(A.jsxs)("dd",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tooltip:Object(A.jsxs)(x.b,{type:"p2",color:"primary",className:"flex flow-row row-gap-4",children:[Object(A.jsx)("span",{children:Object(m.d)(null===(_e=mt[0])||void 0===_e?void 0:_e.unscaleBy(ze.poolToken.decimals),{tokenName:ze.poolToken.symbol,decimals:ze.poolToken.decimals})}),Object(A.jsx)("span",{children:Object(m.e)(null===(Ee=mt[0])||void 0===Ee||null===(Te=Ee.unscaleBy(ze.poolToken.decimals))||void 0===Te?void 0:Te.multipliedBy(null!==(qe=null===xt||void 0===xt?void 0:xt.price)&&void 0!==qe?qe:0))})]}),className:"mr-8",children:null!==(Je=Object(m.d)(null===(Re=mt[0])||void 0===Re?void 0:Re.unscaleBy(ze.poolToken.decimals)))&&void 0!==Je?Je:"-"}),Object(A.jsx)(w.a,{name:null===xt||void 0===xt?void 0:xt.icon,size:16})]})]})]}),Object(A.jsx)("div",{className:h()(te.a.progress,"mb-8"),style:{"--pool-epoch-tranche-percentage":100*(null!==pt&&void 0!==pt?pt:0)}}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"green",children:null!==(Le=Object(m.c)(pt))&&void 0!==Le?Le:"-"}),Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"purple",className:"ml-auto",children:null!==(Ce=Object(m.c)(Ot))&&void 0!==Ce?Ce:"-"})]})]})]})]}),Object(A.jsxs)("div",{className:h()(te.a.epochProgress,"mb-4"),children:[Object(A.jsx)("div",{className:te.a.epochProgressLineBefore}),Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsxs)("span",{className:h()(te.a.epochProgressCurrent,"flex align-center"),children:[null!==(Ie=null===jt||void 0===jt?void 0:jt.epoch)&&void 0!==Ie?Ie:"-",Object(A.jsx)("div",{className:h()(te.a.epochSpinner,"ml-4")})]}),Object(A.jsx)(S.a,{delay:1e3,children:function(){var e,t,i;return Object(A.jsx)("div",{className:te.a.epochProgressLineMiddle,style:{"--epoch-progress":((null!==(e=null===jt||void 0===jt?void 0:jt.epochDuration)&&void 0!==e?e:0)-(null!==(t=null===jt||void 0===jt?void 0:jt.tillNextEpoch)&&void 0!==t?t:0))/(null!==(i=null===jt||void 0===jt?void 0:jt.epochDuration)&&void 0!==i?i:0)*100}})}}),Object(A.jsx)("span",{className:te.a.epochProgressNext,children:void 0!==(null===jt||void 0===jt?void 0:jt.currentEpoch)?(null===jt||void 0===jt?void 0:jt.currentEpoch)+1:"-"})]}),Object(A.jsx)("div",{className:te.a.epochProgressLineAfter})]}),Object(A.jsxs)("div",{className:"flex align-center justify-space-between row-gap-8 mb-32",children:[Object(A.jsx)(p.a,{variation:"text",color:"red",onClick:function(){return nt(!0)},children:"View previous epochs"}),Object(A.jsx)(S.a,{end:1e3*(null!==(Pe=null===jt||void 0===jt?void 0:jt.nextEpochStart)&&void 0!==Pe?Pe:0),delay:1e3,onEnd:function(){return null===jt||void 0===jt?void 0:jt.loadCommon()},children:function(e){return null!==jt&&void 0!==jt&&jt.requireEpochAdvance?Object(A.jsx)(x.b,{type:"small",tooltip:Object(A.jsxs)("span",{children:["Epochs are automatically advanced whenever an action occurs - however, until that happens, they cannot automatically advance - which means that essentially we would end up with epochs lasting more than one week, the concept we call elastic epochs.",Object(A.jsx)("br",{}),Object(A.jsx)("br",{}),"Advancing the epoch manually ensures the previous epoch's profits and losses are cemented between seniors and juniors. This yields no other benefit to the caller."]}),children:Object(A.jsx)(p.a,{variation:"text",color:"red",disabled:!Qe.isActive||rt,loading:rt,onClick:kt,children:"Advance epoch"})}):e>0?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(x.b,{type:"p2",weight:"bold",color:"primary",className:"ml-auto",children:Object($.b)(e/1e3)}),Object(A.jsx)(x.b,{type:"p2",weight:"semibold",color:"secondary",className:"ml-4",children:"until next epoch"})]}):null}})]}),Object(A.jsx)(Z,{poolAddress:Ae,tokenSymbol:ze.poolToken.symbol,className:"mb-32"}),Object(A.jsx)(D,{poolAddress:Ae,oracleAssetSymbol:ze.oracleAssetSymbol,className:"mb-32"}),Object(A.jsx)(L.a,{poolAddress:Ae}),Ze&&Object(A.jsx)(f.a,{heading:Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",children:"Queue state"}),closeHandler:function(){return $e(!1)},children:Object(A.jsx)(Y,{pool:ze,smartAlphaContract:jt})}),it&&Object(A.jsx)(f.a,{heading:Object(A.jsxs)("div",{className:"flex align-center",children:[Object(A.jsx)(w.a,{name:null===xt||void 0===xt?void 0:xt.icon,size:40,bubble2Name:null===ft||void 0===ft?void 0:ft.icon,className:"mr-16"}),Object(A.jsxs)("div",{children:[Object(A.jsx)(x.b,{type:"p1",weight:"semibold",color:"primary",tag:"h2",className:"mb-4",children:"Previous epochs"}),Object(A.jsx)(x.b,{type:"small",weight:"semibold",color:"secondary",children:ze.poolName})]})]}),closeHandler:function(){return nt(!1)},fullscreen:!0,children:Object(A.jsx)(G,{poolTokenSymbol:ze.poolToken.symbol})}),dt&&Object(A.jsx)(f.a,{heading:Object(A.jsx)(x.b,{type:"h3",weight:"bold",color:"primary",children:"Trade on Balancer"}),closeHandler:function(){return ut(!1)},children:Object(A.jsx)(T.a,{pool:ze})})]})}}}]);
//# sourceMappingURL=sa-pool-view.46705d6d.chunk.js.map