(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[45],{1356:function(e,t,n){"use strict";var a=n(4),s=n(17),c=(n(0),n(1364)),i=n.n(c),o=n(8),l=n.n(o),r=n(33),d=n(48),u=n(99),m=n(1360),b=n.n(m),j=n(1),h=["children"],p=["className","label","hint","extra","children"],f=["className","children"],O=function(e){var t=e.className,n=e.children,c=Object(s.a)(e,f);return Object(j.jsx)(i.a,Object(a.a)(Object(a.a)({className:l()(b.a.form,t),layout:"vertical",requiredMark:!1},c),{},{children:n}))};O.Item=function(e){var t=e.className,n=e.label,c=e.hint,o=e.extra,m=e.children,h=Object(s.a)(e,p);return Object(j.jsx)(i.a.Item,Object(a.a)(Object(a.a)({className:l()(b.a.item,t)},h),{},{label:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(d.a,{flow:"col",gap:4,align:"center",children:[n,c&&Object(j.jsx)(u.a,{title:c,children:Object(j.jsx)("span",{children:Object(j.jsx)(r.a,{name:"info",size:15})})})]}),o]}),children:m}))},O.List=function(e){var t=e.children,n=Object(s.a)(e,h);return Object(j.jsx)(i.a.List,Object(a.a)(Object(a.a)({},n),{},{children:t}))},t.a=O},1357:function(e,t,n){"use strict";var a=n(4),s=n(17),c=(n(0),n(1393)),i=n.n(c),o=n(8),l=n.n(o),r=n(1362),d=n.n(r),u=n(1),m=["className"];t.a=function(e){var t=e.className,n=Object(s.a)(e,m);return Object(u.jsx)(i.a,Object(a.a)({className:l()(d.a.divider,t)},n))}},1360:function(e,t,n){e.exports={form:"s_form__36nMg",item:"s_item__2gbuN"}},1362:function(e,t,n){e.exports={divider:"s_divider__3YM-J"}},1378:function(e,t,n){"use strict";var a=n(4),s=n(17),c=(n(0),n(1461)),i=n.n(c),o=n(8),l=n.n(o),r=n(1430),d=n.n(r),u=n(1),m=["className","disabled"];t.a=function(e){var t=e.className,n=e.disabled,c=Object(s.a)(e,m);return Object(u.jsx)(i.a,Object(a.a)({className:l()(d.a.component,t,n&&d.a.disabled),disabled:n,autoComplete:"off"},c))}},1383:function(e,t,n){"use strict";n.d(t,"a",(function(){return k})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return C}));var a=n(15),s=n(4),c=n(13),i=n(17),o=n(0),l=n(19),r=n.n(l),d=n(8),u=n.n(d),m=n(1394),b=n(1402),j=n.n(b),h=n(1),p=["className","value"],f=function(e){var t=e.className,n=e.value,a=Object(i.a)(e,p),c=Number(a.max)||0,o=Math.floor(1e6*c)/1e6,l=Math.floor(1e6*Number(n))/1e6/o*100||0,r=0===o;return Object(h.jsx)("input",Object(s.a)(Object(s.a)({},a),{},{type:"range",className:u()(j.a.input,t),style:{"--track-fill":"".concat(r?0:l,"%")},max:r?1:o,disabled:r,value:r?"0":n||"0"}))},O=n(12),v=n(33),x=n(183),g=n(415),_=n(1403),y=n.n(_),N=["onChange","before","secondary","className","classNameBefore","slider","errors","decimals","max"],k=Object(o.forwardRef)((function(e,t){var n,a,o=e.onChange,l=e.before,d=e.secondary,m=e.className,b=e.classNameBefore,j=e.slider,p=e.errors,v=void 0===p?[]:p,x=e.decimals,g=void 0===x?6:x,_=e.max,k=Object(i.a)(e,N),w=null!==(n=r.a.from(_))&&void 0!==n?n:r.a.ZERO;return Object(h.jsxs)("div",{className:m,children:[Object(h.jsxs)("div",{className:u()(y.a.tokenAmount,Object(c.a)({},y.a.error,v.length)),children:[l&&Object(h.jsx)("div",{className:u()(y.a.tokenAmountBefore,b),children:l}),Object(h.jsxs)("div",{className:y.a.tokenAmountValues,children:[Object(h.jsx)("input",Object(s.a)({ref:t,className:y.a.tokenAmountValue,type:"text",inputMode:"decimal",pattern:"[0-9]+([\\.,][0-9]+)?",onWheel:function(e){e.currentTarget.blur()},onChange:function(e){o(e.target.value)}},k)),Object(h.jsx)("div",{className:y.a.tokenAmountHint,children:d})]}),!w.isZero()&&Object(h.jsx)("button",{type:"button",className:"button-ghost",style:{alignSelf:"center"},disabled:k.disabled||w.isZero(),onClick:function(){return o(w.toString())},children:"MAX"})]}),!!v.length&&v.map((function(e,t){return Object(h.jsx)(O.b,{type:"small",weight:"semibold",color:"red",style:{marginTop:"8px"},children:e},t)})),j&&!w.isZero()?Object(h.jsx)(f,{type:"range",className:y.a.tokenAmountSlider,min:"0",max:w.toString(),step:1/Math.pow(10,Math.min(g,6)),value:null!==(a=k.value)&&void 0!==a?a:0,disabled:k.disabled||w.isZero(),onChange:function(e){o(e.target.value)}}):null]})})),w=function(e){var t=e.value,n=e.before,a=e.secondary,s=e.className,c=e.classNameBefore;return Object(h.jsxs)("div",{className:u()(y.a.tokenAmountPreview,s),children:[n&&Object(h.jsx)("div",{className:u()(y.a.tokenAmountPreviewBefore,c),children:n}),Object(h.jsxs)("div",{className:y.a.tokenAmountPreviewValues,children:[Object(h.jsx)("input",{className:y.a.tokenAmountPreviewValue,type:"text",value:t||"",readOnly:!0}),Object(h.jsx)("div",{className:y.a.tokenAmountPreviewHint,children:a})]})]})},C=function(e){var t=e.value,n=e.onChange,s=e.tokens,c=e.className,i=e.style,o=Object(x.c)().getTokenBySymbol,l=o(t);return Object(h.jsx)(m.b,{items:s.reduce((function(e,t){var s,c,i=o(t);return i?[].concat(Object(a.a)(e),[{onClick:function(){n(t)},children:Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g.a,{name:null===(s=o(t))||void 0===s?void 0:s.icon,className:"mr-8"}),null===(c=o(t))||void 0===c?void 0:c.name]}),"aria-selected":(null===l||void 0===l?void 0:l.symbol)===i.symbol?"true":"false"}]):e}),[]),children:function(e){var t=e.ref,n=e.setOpen,a=e.open;return Object(h.jsxs)("button",{type:"button",ref:t,onClick:function(){return n((function(e){return!e}))},className:u()(y.a.tokenAmountSelectToken,c),style:i,children:[l?Object(h.jsx)(g.a,{name:l.icon,size:24,className:"mr-16"}):null,Object(h.jsx)(O.b,{type:"p1",weight:"semibold",color:"primary",children:null===l||void 0===l?void 0:l.symbol}),Object(h.jsx)(v.a,{name:a?"dropdown-active":"dropdown",size:"24",className:"token-select-chevron",style:{marginLeft:4}})]})}})}},1394:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return N}));var a=n(17),s=n(4),c=n(5),i=n(0),o=n.n(i),l=n(51),r=n.n(l),d=n(2286),u=n(58),m=n(8),b=n.n(m),j=n(1545),h=n.n(j),p=n(33),f=n(1397),O=n.n(f),v=n(1),x=["onClick"],g=[{name:"offset",options:{offset:[0,8]}},{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.minWidth="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;t.elements.popper.style.minWidth="".concat(t.elements.reference.offsetWidth,"px")}}],_=function(e){var t=e.content,n=e.children,a=e.options,i=o.a.useState(!1),l=Object(c.a)(i,2),u=l[0],m=l[1],b=o.a.useRef(null),j=o.a.useRef(null),p=Object(d.a)(b.current,j.current,Object(s.a)({placement:"bottom-start",strategy:"absolute",modifiers:g},a)),f=p.styles,O=p.attributes,x=p.forceUpdate;return o.a.useEffect((function(){var e;if(x&&x(),u){var t=[],n=b.current;n&&t.push(n);var a=j.current;a&&t.push(a),e=h()(t,["click","touchstart"],(function(){return m(!1)}))}return function(){var t;null===(t=e)||void 0===t||t.remove()}}),[u]),Object(v.jsxs)(v.Fragment,{children:[n({ref:b,setOpen:m,open:u}),r.a.createPortal(Object(v.jsx)("div",Object(s.a)(Object(s.a)({ref:j,style:Object(s.a)(Object(s.a)({},f.popper),{},{display:u?"":"none"})},O.popper),{},{children:t(m)})),document.querySelector("#tooltip-root")||document.body)]})},y=function(e){var t=e.items,n=e.children,c=e.options;return Object(v.jsx)(_,{content:function(e){return Object(v.jsx)("ul",{className:O.a.tokenSelectList,children:t.map((function(t,n){var c=t.onClick,i=Object(a.a)(t,x);return i.href?Object(v.jsx)("li",{children:Object(v.jsx)("a",Object(s.a)(Object(s.a)({href:i.href},i),{},{className:O.a.tokenSelectListButton,onClick:function(t){e(!1)},children:i.children}))},n):i.to?Object(v.jsx)("li",{children:Object(v.jsx)(u.b,Object(s.a)(Object(s.a)({},i),{},{className:O.a.tokenSelectListButton,onClick:function(t){e(!1)}}))},n):Object(v.jsx)("li",{children:Object(v.jsx)("button",Object(s.a)(Object(s.a)({},i),{},{className:O.a.tokenSelectListButton,onClick:function(t){c&&c(t),e(!1)}}))},n)}))})},options:c,children:n})},N=function(e){var t=e.items,n=e.children,a=e.className,s=e.size,c=void 0===s?"normal":s,i=e.style;return Object(v.jsx)(y,{items:t,children:function(e){var t=e.ref,s=e.setOpen,o=e.open;return Object(v.jsxs)("button",{type:"button",ref:t,onClick:function(){return s((function(e){return!e}))},className:b()(O.a.dropdown,O.a[c],a),style:i,children:[Object(v.jsx)("div",{className:"flex align-center flex-grow pr-16",children:n}),Object(v.jsx)(p.a,{name:"dropdown",size:"24",className:O.a.dropdownChevron,style:{transform:o?"rotate(180deg)":""}})]})}})}},1397:function(e,t,n){e.exports={tokenSelectList:"s_tokenSelectList__1rsig",tokenSelectListButton:"s_tokenSelectListButton__898YC",active:"s_active__1VA0m",dropdown:"s_dropdown__2I7kF",large:"s_large__uF7P8",dropdownChevron:"s_dropdownChevron__3cfM7"}},1402:function(e,t,n){e.exports={input:"s_input__1b3rZ"}},1403:function(e,t,n){e.exports={tokenAmount:"s_tokenAmount__2n5WY",error:"s_error__3x3RW",tokenAmountBefore:"s_tokenAmountBefore__3YeAZ",tokenAmountValues:"s_tokenAmountValues__1qT2P",tokenAmountValue:"s_tokenAmountValue__2mG1w",tokenAmountHint:"s_tokenAmountHint__3Jk8f",tokenAmountSlider:"s_tokenAmountSlider__2LNhd",tokenAmountPreview:"s_tokenAmountPreview__1qEON",tokenAmountPreviewBefore:"s_tokenAmountPreviewBefore__2ZTVO",tokenAmountPreviewValues:"s_tokenAmountPreviewValues__3WU83",tokenAmountPreviewValue:"s_tokenAmountPreviewValue__2CGmA",tokenAmountPreviewHint:"s_tokenAmountPreviewHint__1XGYo",tokenSelectTrigger:"s_tokenSelectTrigger__39PsM",tokenSelectChevron:"s_tokenSelectChevron__3_diD",tokenSelectListButton:"s_tokenSelectListButton__qrRSq",active:"s_active__hEyw6",tokenAmountSelectToken:"s_tokenAmountSelectToken__8QBHp"}},1430:function(e,t,n){e.exports={component:"s_component__2HckH",disabled:"s_disabled__3ybza"}},1456:function(e,t,n){"use strict";var a=n(5),s=n(0),c=n.n(s),i=n(2287),o=n(8),l=n.n(o),r=n(74),d=n(1357),u=n(1356),m=n(1378),b=n(214),j=n(12),h=n(33),p=n(1457),f=n.n(p),O=n(1),v=[.1,.3,.5],x=function(e){var t=e.showSlippage,n=e.slippage,s=e.showDeadline,o=e.deadline,l=e.onChange,d=i.a.useForm(),b=Object(a.a)(d,1)[0],h=c.a.useCallback((function(e){if(e.deadline){var t=String(e.deadline).slice(0,6);b.setFieldsValue({deadline:Number(t)})}}),[]),p=c.a.useCallback((function(){b.resetFields()}),[]),x=c.a.useCallback((function(e){null===l||void 0===l||l(e)}),[]);return Object(O.jsx)(u.a,{form:b,initialValues:{slippage:n,deadline:o},validateTrigger:["onSubmit"],onValuesChange:h,onFinish:x,children:Object(O.jsxs)("div",{className:"grid flow-row row-gap-32",children:[t&&Object(O.jsx)(u.a.Item,{label:"Slippage tolerance",children:Object(O.jsxs)("div",{className:"grid flow-col col-gap-16",children:[v.map((function(e){return Object(O.jsxs)(r.a,{type:"ghost",style:{width:70},onClick:function(){b.setFieldsValue({slippage:Number(e)})},children:[e,"%"]},e)})),Object(O.jsx)(u.a.Item,{name:"slippage",rules:[{required:!0,message:"Required"},{validator:function(e,t){return t>0&&t<=100?Promise.resolve():Promise.reject()},message:"Enter a valid slippage percentage"}],noStyle:!0,children:Object(O.jsx)(m.a,{type:"number"})})]})}),s&&Object(O.jsx)(u.a.Item,{name:"deadline",label:"Transaction deadline",rules:[{required:!0,message:"Required"}],children:Object(O.jsx)(m.a,{type:"number",className:f.a.deadlineInput,suffix:Object(O.jsx)(j.b,{type:"p1",weight:"semibold",color:"primary",children:"minutes"})})}),Object(O.jsxs)("div",{className:"grid flow-col align-center justify-space-between",children:[Object(O.jsx)(r.a,{type:"light",onClick:p,children:"Reset changes"}),Object(O.jsx)(r.a,{type:"primary",htmlType:"submit",children:"Apply changes"})]})]})})};t.a=function(e){var t=e.className,n=e.showSlippage,i=void 0!==n&&n,o=e.slippage,u=e.slippageHint,m=e.showDeadline,p=void 0!==m&&m,v=e.deadline,g=e.onChange,_=Object(s.useState)(!1),y=Object(a.a)(_,2),N=y[0],k=y[1],w=c.a.useCallback((function(e){k(!1),null===g||void 0===g||g(e)}),[]);return Object(O.jsxs)("section",{className:l()(f.a.container,t),children:[Object(O.jsxs)("header",{className:"flex ph-24 pv-16",children:[Object(O.jsx)(j.b,{type:"p2",weight:"semibold",color:"secondary",children:e.children}),Object(O.jsx)(b.a,{title:"Customize transaction",overlayStyle:{width:423},content:Object(O.jsx)(x,{showSlippage:i,slippage:o,showDeadline:p,deadline:v,onChange:w}),visible:N,onVisibleChange:k,children:Object(O.jsx)(r.a,{type:"light",className:"ml-auto",children:Object(O.jsx)(h.a,{name:"gear"})})})]}),Object(O.jsx)(d.a,{}),Object(O.jsxs)("div",{className:"ph-24 pv-16",children:[i&&Object(O.jsxs)("div",{className:"flex mb-24",children:[Object(O.jsx)(j.a,{text:u,children:Object(O.jsx)(j.b,{type:"small",weight:"semibold",color:"secondary",children:"Slippage tolerance"})}),Object(O.jsxs)(j.b,{type:"small",weight:"semibold",color:"primary",className:"ml-auto",children:[o,"%"]})]}),p&&Object(O.jsxs)("div",{className:"flex",children:[Object(O.jsx)(j.a,{text:"Your transaction will revert if it isn't mined in this amount of time.",children:Object(O.jsx)(j.b,{type:"small",weight:"semibold",color:"secondary",children:"Transaction deadline"})}),Object(O.jsxs)(j.b,{type:"small",weight:"semibold",color:"primary",className:"ml-auto",children:[v," minutes"]})]})]})]})}},1457:function(e,t,n){e.exports={container:"s_container__2ZM0_",deadlineInput:"s_deadlineInput__pUUH-"}},2281:function(e,t,n){"use strict";n.r(t);var a=n(5),s=n(0),c=n(56),i=n(58),o=n(19),l=n.n(o),r=n(1394),d=n(63),u=n(1383),m=n(1456),b=n(12),j=n(183),h=n(415),p=n(1437),f=n(1);t.default=function(){var e=Object(c.i)(),t=e.pool,n=e.tranche,o=Object(s.useState)(),O=Object(a.a)(o,2),v=O[0],x=O[1],g=Object(p.c)(),_=Object(j.c)().getTokenBySymbol;Object(s.useEffect)((function(){g.fetchTranche(n).then((function(e){x(e),console.log("tranche",e)}))}),[n]);var y=Object(s.useState)(""),N=Object(a.a)(y,2),k=N[0],w=N[1],C=Object(s.useMemo)((function(){return[{value:"75:25_WBTC_ETH",name:"75% WBTC / 25% ETH"},{value:"50:50_WBTC_ETH",name:"50% WBTC / 50% ETH"},{value:"25:75_WBTC_ETH",name:"25% WBTC / 75% ETH"}]}),[]),S=Object(s.useState)(C[0]),A=Object(a.a)(S,2),T=A[0],B=A[1];if(!v)return null;var P=_(v.tokenA.symbol),H=_(v.tokenB.symbol);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"flexbox-list align-middle mb-40 mh-auto",style:{maxWidth:640,width:"100%","--gap":"24px 64px","--sm-gap":"24px","--min":"auto"},children:[Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)(h.b,{name1:null===P||void 0===P?void 0:P.icon,name2:null===H||void 0===H?void 0:H.icon,size:40,className:"mr-16"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"text-p1 fw-semibold color-primary mr-4",children:"".concat(100*Number(v.tokenARatio),"% ").concat(null===P||void 0===P?void 0:P.symbol," / ").concat(100*Number(v.tokenBRatio),"% ").concat(null===H||void 0===H?void 0:H.symbol)}),Object(f.jsx)("div",{className:"text-sm fw-semibold color-secondary",children:"".concat(null===P||void 0===P?void 0:P.name," / ").concat(null===H||void 0===H?void 0:H.name)})]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"text-sm fw-semibold color-secondary mb-4",children:"Wallet balance"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("span",{className:"text-p1 fw-semibold color-primary mr-8",children:"9.789"}),Object(f.jsx)("span",{className:"text-sm fw-semibold color-secondary",children:"25:75_WBTC_ETH"})]})]})]}),Object(f.jsxs)("div",{className:"card ph-32 pv-32 mh-auto",style:{width:"100%",maxWidth:640},children:[Object(f.jsx)(b.b,{type:"h3",weight:"semibold",color:"primary",className:"mb-16",children:"Change tranche"}),Object(f.jsx)(b.b,{type:"p2",weight:"semibold",color:"secondary",className:"mb-32",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse efficitur odio nunc, a sodales ligula varius nec. Phasellus venenatis nulla mi, sit amet rutrum lorem semper et"}),Object(f.jsxs)("form",{children:[Object(f.jsx)("div",{className:"flex mb-8",children:Object(f.jsx)("span",{className:"text-sm fw-semibold color-secondary",children:"Select new tranche"})}),Object(f.jsx)(r.b,{items:C.map((function(e){return{children:e.name,onClick:function(){return B(e)}}})),children:function(e){var t=e.ref,n=e.setOpen,a=e.open;return Object(f.jsxs)("button",{type:"button",ref:t,onClick:function(){return n((function(e){return!e}))},className:"token-select mb-32",children:[Object(f.jsx)(h.b,{name1:null===P||void 0===P?void 0:P.icon,name2:null===H||void 0===H?void 0:H.icon,size:24,className:"mr-16"}),Object(f.jsx)(b.b,{type:"p1",weight:"semibold",color:"primary",children:T.name}),Object(f.jsx)(d.a,{name:"dropdown",width:"24",height:"24",className:"token-select-chevron ml-auto",style:{transform:a?"rotate(180deg)":""}})]})}}),Object(f.jsx)("div",{className:"flex mb-8",children:Object(f.jsx)("span",{className:"text-sm fw-semibold color-secondary",children:"75:25_WBTC_ETH amount"})}),Object(f.jsx)(u.a,{before:Object(f.jsx)(h.b,{name1:null===P||void 0===P?void 0:P.icon,name2:null===H||void 0===H?void 0:H.icon,size:24}),value:k,onChange:w,max:l.a.ZERO,placeholder:"0 (Max ".concat(9.789,")"),className:"mb-40",slider:!0}),Object(f.jsx)("div",{className:"flex mb-8",children:Object(f.jsx)("span",{className:"text-sm fw-semibold color-secondary",children:"50:50_WBTC_ETH amount"})}),Object(f.jsx)(u.b,{before:Object(f.jsx)(h.b,{name1:null===P||void 0===P?void 0:P.icon,name2:null===H||void 0===H?void 0:H.icon,size:24}),value:"2.3116",className:"mb-32"}),Object(f.jsx)(m.a,{className:"mb-32",showSlippage:!0,slippage:.5,slippageHint:"Your transaction will revert if the amount of tokens you actually receive is smaller by this percentage.",showDeadline:!0,deadline:20,onChange:function(e){return console.log({fd:e})},children:"Transaction details"}),Object(f.jsxs)("div",{className:"grid flow-col col-gap-32 align-center justify-space-between",children:[Object(f.jsxs)(i.b,{to:"/smart-exposure/pools/".concat(t,"/").concat(n),className:"button-back",children:[Object(f.jsx)(d.a,{name:"arrow-back",width:16,height:16,className:"mr-8",color:"inherit"}),"Cancel"]}),Object(f.jsx)("button",{type:"submit",className:"button-primary",children:"Deposit"})]})]})]})]})}}}]);
//# sourceMappingURL=45.cf618e54.chunk.js.map