(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[37],{1356:function(e,t,a){"use strict";var n=a(4),i=a(17),r=(a(0),a(1364)),l=a.n(r),c=a(8),s=a.n(c),o=a(33),d=a(48),b=a(99),j=a(1360),m=a.n(j),u=a(1),p=["children"],h=["className","label","hint","extra","children"],O=["className","children"],y=function(e){var t=e.className,a=e.children,r=Object(i.a)(e,O);return Object(u.jsx)(l.a,Object(n.a)(Object(n.a)({className:s()(m.a.form,t),layout:"vertical",requiredMark:!1},r),{},{children:a}))};y.Item=function(e){var t=e.className,a=e.label,r=e.hint,c=e.extra,j=e.children,p=Object(i.a)(e,h);return Object(u.jsx)(l.a.Item,Object(n.a)(Object(n.a)({className:s()(m.a.item,t)},p),{},{label:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(d.a,{flow:"col",gap:4,align:"center",children:[a,r&&Object(u.jsx)(b.a,{title:r,children:Object(u.jsx)("span",{children:Object(u.jsx)(o.a,{name:"info",size:15})})})]}),c]}),children:j}))},y.List=function(e){var t=e.children,a=Object(i.a)(e,p);return Object(u.jsx)(l.a.List,Object(n.a)(Object(n.a)({},a),{},{children:t}))},t.a=y},1357:function(e,t,a){"use strict";var n=a(4),i=a(17),r=(a(0),a(1393)),l=a.n(r),c=a(8),s=a.n(c),o=a(1362),d=a.n(o),b=a(1),j=["className"];t.a=function(e){var t=e.className,a=Object(i.a)(e,j);return Object(b.jsx)(l.a,Object(n.a)({className:s()(d.a.divider,t)},a))}},1360:function(e,t,a){e.exports={form:"s_form__36nMg",item:"s_item__2gbuN"}},1362:function(e,t,a){e.exports={divider:"s_divider__3YM-J"}},1366:function(e,t,a){"use strict";var n=a(4),i=a(17),r=a(0),l=a.n(r),c=a(1619),s=a(249),o=a.n(s),d=a(8),b=a.n(d),j=a(1382),m=a.n(j),u=a(1),p=["type","className"];t.a=function(e){var t=e.type,a=void 0===t?"default":t,r=e.className,s=Object(i.a)(e,p),d=l.a.useMemo((function(){if("circle"===a)return Object(u.jsx)(c.a,{spin:!0})}),[a]);return Object(u.jsx)(o.a,Object(n.a)({indicator:d,className:b()(m.a.spin,r)},s))}},1382:function(e,t,a){e.exports={spin:"s_spin__1EZtC"}},1393:function(e,t,a){"use strict";var n=a(26),i=a(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a(44)),l=i(a(72)),c=n(a(0)),s=i(a(8)),o=a(70),d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a},b=function(e){return c.createElement(o.ConfigConsumer,null,(function(t){var a,n=t.getPrefixCls,i=t.direction,o=e.prefixCls,b=e.type,j=void 0===b?"horizontal":b,m=e.orientation,u=void 0===m?"center":m,p=e.className,h=e.children,O=e.dashed,y=e.plain,g=d(e,["prefixCls","type","orientation","className","children","dashed","plain"]),f=n("divider",o),x=u.length>0?"-".concat(u):u,v=!!h,w=(0,s.default)(f,"".concat(f,"-").concat(j),(a={},(0,l.default)(a,"".concat(f,"-with-text"),v),(0,l.default)(a,"".concat(f,"-with-text").concat(x),v),(0,l.default)(a,"".concat(f,"-dashed"),!!O),(0,l.default)(a,"".concat(f,"-plain"),!!y),(0,l.default)(a,"".concat(f,"-rtl"),"rtl"===i),a),p);return c.createElement("div",(0,r.default)({className:w},g,{role:"separator"}),h&&c.createElement("span",{className:"".concat(f,"-inner-text")},h))}))};t.default=b},1395:function(e,t,a){"use strict";var n=a(4),i=a(17),r=(a(0),a(1460)),l=a.n(r),c=a(8),s=a.n(c),o=a(1454),d=a.n(o),b=a(1),j=["className","pagination"];t.a=function(e){var t=e.className,a=e.pagination,r=Object(i.a)(e,j);return Object(b.jsx)(l.a,Object(n.a)({className:s()(d.a.component,t),bordered:!1,showSorterTooltip:!1,pagination:!!a&&Object(n.a)({showSizeChanger:!1},a)},r))}},1398:function(e,t,a){"use strict";a(0);var n=a(8),i=a.n(n),r=a(1405),l=a.n(r),c=a(1);t.a=function(e){return Object(c.jsx)("div",{className:i()(l.a.component,e.className),children:e.icons})}},1405:function(e,t,a){e.exports={component:"s_component__2UoVy"}},1435:function(e,t,a){"use strict";var n=a(13),i=a(4),r=a(5),l=a(0),c=a(1364),s=a.n(c),o=a(8),d=a.n(o),b=a(1356),j=a(214),m=a(258),u=a(33),p=a(1);t.a=function(e){var t=e.filters,a=e.value,c=e.onChange,o=e.className,h=s.a.useForm(),O=Object(r.a)(h,1)[0],y=Object(l.useState)(!1),g=Object(r.a)(y,2),f=g[0],x=g[1],v=Object(l.useMemo)((function(){return t.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(n.a)({},t.name,t.defaultValue))}),{})}),[t]),w=Object(l.useMemo)((function(){var e=0;return a&&t.forEach((function(t){a[t.name]!==t.defaultValue&&e++})),e}),[t,a]);Object(l.useEffect)((function(){a&&O.setFieldsValue(a)}),[a]);var N=Object(p.jsxs)(b.a,{form:O,initialValues:v,validateTrigger:["onSubmit"],onFinish:function(e){x(!1),c(e)},children:[t.map((function(e){return Object(p.jsx)(b.a.Item,{name:e.name,label:e.label,className:"mb-32",children:e.itemRender()},e.name)})),Object(p.jsxs)("div",{className:"grid flow-col align-center justify-space-between",children:[Object(p.jsx)("button",{type:"button",onClick:function(){return O.resetFields()},className:"button-text",children:"Reset filters"}),Object(p.jsx)("button",{type:"submit",className:"button-primary",children:"Apply filters"})]})]});return Object(p.jsx)(j.a,{title:"Filters",overlayStyle:{width:348},content:N,visible:f,onVisibleChange:x,placement:"bottomRight",children:Object(p.jsxs)("button",{type:"button",className:d()("button-ghost-monochrome pv-16",o),children:[Object(p.jsx)(u.a,{name:"filter",className:"mr-8"}),Object(p.jsx)("span",{className:"mr-8",children:"Filters"}),Object(p.jsx)(m.b,{children:w})]})})}},1440:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(13),i=a(8),r=a.n(i),l=a(1398),c=a(415),s=a(1447),o=a.n(s),d=a(1),b=function(e){var t=e.icons,a=e.size,i=e.children,s="large"===a?16:12;return Object(d.jsxs)("div",{className:r()(o.a.aprLabel,Object(n.a)({},o.a.aprLabelLarge,"large"===a)),children:[Object(d.jsx)(l.a,{className:"mr-4",icons:t.map((function(e,t){return Object(d.jsx)(c.a,{name:e,size:s},t)}))}),Object(d.jsx)("div",{className:r()(o.a.aprLabelText,Object(n.a)({},o.a.aprLabelTextGradient,t.length>1)),children:i})]})}},1447:function(e,t,a){e.exports={aprLabel:"s_aprLabel__2wyqU",aprLabelLarge:"s_aprLabelLarge__2UJ3z",aprLabelText:"s_aprLabelText__1POf6",aprLabelTextGradient:"s_aprLabelTextGradient__3jxlu"}},1454:function(e,t,a){e.exports={component:"s_component___p2il"}},1600:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t}},1614:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(4),i=a(8),r=a.n(i),l=a(38),c=a(12),s=a(33),o=a(1682),d=a.n(o),b=a(1),j=function(e){var t=e.type,a=void 0===t?"link":t,n=e.href,i=e.children;return"link"===a?Object(b.jsx)(l.e,{variation:"link",to:n,children:i}):Object(b.jsx)(l.d,{variation:"link",href:n,children:i})};function m(e){switch(e){case"info":return"info";case"warning":return"danger";case"error":return"error"}}var u=function(e){var t=e.type,a=e.className,i=e.children,l=e.title,o=e.link;return Object(b.jsxs)("div",{className:r()(d.a.alert,d.a[t],a),children:[Object(b.jsx)(s.a,{name:m(t),size:24,className:"mr-16"}),Object(b.jsxs)("div",{children:[l?Object(b.jsx)(c.b,{type:"p2",weight:"bold",className:"mb-4",children:l}):null,i?Object(b.jsx)(c.b,{type:"p2",weight:"semibold",children:i}):null,o?Object(b.jsx)(j,Object(n.a)({},o)):null]})]})}},1619:function(e,t,a){"use strict";var n=a(4),i=a(0),r={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},l=a(117),c=function(e,t){return i.createElement(l.a,Object(n.a)(Object(n.a)({},e),{},{ref:t,icon:r}))};c.displayName="LoadingOutlined";t.a=i.forwardRef(c)},1626:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a(0),i=n.isValidElement;function r(e,t){return function(e,t,a){return i(e)?n.cloneElement(e,"function"===typeof a?a(e.props||{}):a):t}(e,e,t)}},1682:function(e,t,a){e.exports={alert:"s_alert__2vNah",info:"s_info__3TCZE",warning:"s_warning__5QlkP",error:"s_error__Zg2fw"}},1802:function(e,t,a){"use strict";a(0);var n=a(56),i=a(8),r=a.n(i),l=a(65),c=a(99),s=a(48),o=a(12),d=a(415),b=a(1404),j=a(73),m=a(1);t.a=function(e){var t,a,i,u,p=e.className,h=Object(j.c)(),O=Object(b.b)().pool,y=Boolean(Object(n.j)({path:"/smart-yield/deposit",exact:!0})),g=Boolean(Object(n.j)("/smart-yield/deposit/senior")),f=Boolean(Object(n.j)("/smart-yield/deposit/junior"));return O?Object(m.jsxs)("div",{className:r()("flexbox-list",p),style:{"--gap":"24px 64px","--sm-gap":"24px","--min":"auto"},children:[Object(m.jsxs)(s.a,{flow:"col",gap:16,align:"center",children:[Object(m.jsx)(d.a,{name:null===(t=O.token)||void 0===t?void 0:t.icon,bubble1Name:null===(a=O.market)||void 0===a?void 0:a.icon.active}),Object(m.jsxs)("div",{className:"ml-auto",children:[Object(m.jsxs)("div",{className:"mb-4",style:{display:"flex",whiteSpace:"nowrap"},children:[Object(m.jsx)(o.b,{type:"p1",weight:"semibold",color:"primary",className:"mr-4",children:null===(i=O.token)||void 0===i?void 0:i.name}),Object(m.jsxs)(o.b,{type:"p1",weight:"semibold",children:["(",O.underlyingSymbol,")"]})]}),Object(m.jsx)(o.b,{type:"small",weight:"semibold",children:null===(u=O.market)||void 0===u?void 0:u.name})]})]}),h.isActive&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(c.a,{title:Object(l.d)(O.contracts.underlying.balance,{scale:O.underlyingDecimals}),children:[Object(m.jsx)(o.b,{type:"small",weight:"semibold",className:"mb-4",children:"Wallet balance"}),Object(m.jsx)(o.b,{type:"p1",weight:"semibold",color:"primary",children:Object(m.jsxs)("span",{className:"grid flow-col col-gap-8 align-center",children:[Object(l.d)(O.contracts.underlying.balance,{scale:O.underlyingDecimals}),Object(m.jsx)(o.b,{type:"small",tag:"span",weight:"semibold",color:"secondary",children:O.underlyingSymbol})]})})]}),!g&&!y&&Object(m.jsxs)(c.a,{title:Object(l.d)(O.contracts.smartYield.balance,{scale:O.underlyingDecimals}),children:[Object(m.jsx)(o.b,{type:"small",weight:"semibold",className:"mb-4",children:"Portfolio balance"}),Object(m.jsx)(o.b,{type:"p1",weight:"semibold",color:"primary",children:Object(m.jsxs)("span",{className:"grid flow-col col-gap-8 align-center",children:[Object(l.d)(O.contracts.smartYield.balance,{scale:O.underlyingDecimals}),Object(m.jsx)(o.b,{type:"small",tag:"span",weight:"semibold",color:"secondary",children:O.contracts.smartYield.symbol})]})})]}),g&&Object(m.jsxs)("div",{children:[Object(m.jsx)(o.b,{type:"small",weight:"semibold",className:"mb-4",children:"Senior APY"}),Object(m.jsx)(o.b,{type:"p1",weight:"semibold",color:"green",children:Object(l.c)(O.state.seniorApy)})]}),f&&Object(m.jsxs)("div",{children:[Object(m.jsx)(o.b,{type:"small",weight:"semibold",className:"mb-4",children:"Junior APY"}),Object(m.jsx)(o.b,{type:"p1",weight:"semibold",color:"purple",children:Object(l.c)(O.state.juniorApy)})]})]})]}):null}},1878:function(e,t,a){"use strict";var n=a(10),i=a(13),r=a(14),l=a(16),c=a(23),s=a(24),o=a(0),d=a(8),b=a.n(d),j=a(1468),m=a(337),u=a.n(m),p=a(1353),h=a(1600),O=a(1626),y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]])}return a},g=(Object(h.a)("small","default","large"),null);var f=function(e){Object(c.a)(a,e);var t=Object(s.a)(a);function a(e){var l;Object(r.a)(this,a),(l=t.call(this,e)).debouncifyUpdateSpinning=function(e){var t=(e||l.props).delay;t&&(l.cancelExistingSpin(),l.updateSpinning=u()(l.originalUpdateSpinning,t))},l.updateSpinning=function(){var e=l.props.spinning;l.state.spinning!==e&&l.setState({spinning:e})},l.renderSpin=function(e){var t,a=e.getPrefixCls,r=e.direction,c=l.props,s=c.prefixCls,d=c.className,m=c.size,u=c.tip,p=c.wrapperClassName,h=c.style,f=y(c,["prefixCls","className","size","tip","wrapperClassName","style"]),x=l.state.spinning,v=a("spin",s),w=b()(v,(t={},Object(i.a)(t,"".concat(v,"-sm"),"small"===m),Object(i.a)(t,"".concat(v,"-lg"),"large"===m),Object(i.a)(t,"".concat(v,"-spinning"),x),Object(i.a)(t,"".concat(v,"-show-text"),!!u),Object(i.a)(t,"".concat(v,"-rtl"),"rtl"===r),t),d),N=Object(j.a)(f,["spinning","delay","indicator"]),k=o.createElement("div",Object(n.a)({},N,{style:h,className:w}),function(e,t){var a=t.indicator,n="".concat(e,"-dot");return null===a?null:Object(O.b)(a)?Object(O.a)(a,{className:b()(a.props.className,n)}):Object(O.b)(g)?Object(O.a)(g,{className:b()(g.props.className,n)}):o.createElement("span",{className:b()(n,"".concat(e,"-dot-spin"))},o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}),o.createElement("i",{className:"".concat(e,"-dot-item")}))}(v,l.props),u?o.createElement("div",{className:"".concat(v,"-text")},u):null);if(l.isNestedPattern()){var S=b()("".concat(v,"-container"),Object(i.a)({},"".concat(v,"-blur"),x));return o.createElement("div",Object(n.a)({},N,{className:b()("".concat(v,"-nested-loading"),p)}),x&&o.createElement("div",{key:"loading"},k),o.createElement("div",{className:S,key:"container"},l.props.children))}return k};var c=e.spinning,s=function(e,t){return!!e&&!!t&&!isNaN(Number(t))}(c,e.delay);return l.state={spinning:c&&!s},l.originalUpdateSpinning=l.updateSpinning,l.debouncifyUpdateSpinning(e),l}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.updateSpinning()}},{key:"componentDidUpdate",value:function(){this.debouncifyUpdateSpinning(),this.updateSpinning()}},{key:"componentWillUnmount",value:function(){this.cancelExistingSpin()}},{key:"cancelExistingSpin",value:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()}},{key:"isNestedPattern",value:function(){return!(!this.props||"undefined"===typeof this.props.children)}},{key:"render",value:function(){return o.createElement(p.a,null,this.renderSpin)}}],[{key:"setDefaultIndicator",value:function(e){g=e}}]),a}(o.Component);f.defaultProps={spinning:!0,size:"default",wrapperClassName:""},t.a=f},2204:function(e,t,a){e.exports={header:"s_header__3BAj7"}},2205:function(e,t,a){e.exports={header:"s_header__16d82"}},2206:function(e,t,a){e.exports={header:"s_header__3X8DC"}},2207:function(e,t,a){e.exports={apyMarketRow:"s_apyMarketRow__k1ght"}},2245:function(e,t,a){"use strict";a.r(t);var n=a(5),i=a(0),r=a.n(i),l=a(58),c=a(8),s=a.n(c),o=a(1614),d=a(1366),b=a(63),j=a(1368),m=a(45),u=a(1455),p=a(1404),h=a(73),O=a(1802),y=a(15),g=a(4),f=a(29),x=a(9),v=a.n(x),w=a(1878),N=a(141),k=a(2275),S=a(1719),A=a(2280),D=a(1612),T=a(1613),E=a(2267),_=a(1578),M=a(65),L=a(12),B=a(417),F=a(1381),C=a(2204),I=a.n(C),R=a(1),P=[{id:"24h",children:"24h"},{id:"1w",children:"1w"},{id:"30d",children:"1mo"}],Y={loading:!1,data:[]},H=function(){var e=Object(p.b)().pool,t=Object(F.j)(),a=r.a.useState("24h"),i=Object(n.a)(a,2),l=i[0],c=i[1],o=r.a.useState(Y),d=Object(n.a)(o,2),b=d[0],m=d[1];r.a.useEffect((function(){e?Object(f.a)(v.a.mark((function a(){var n;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return m(Object(B.b)({loading:!0})),a.prev=1,a.next=4,t.fetchSYPoolAPY(e.smartYieldAddress,l);case 4:n=a.sent,m(Object(B.b)({loading:!1,data:n.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{point:new Date(e.point).valueOf()})}))})),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),m(Object(B.b)({loading:!1,data:[]}));case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))():m(Object(B.b)({data:[]}))}),[e,l]);var u=r.a.useMemo((function(){var e=b.data.map((function(e){return e.point})),t=Math.min.apply(Math,Object(y.a)(e)),a=Math.max.apply(Math,Object(y.a)(e));if(!Number.isFinite(t)||!Number.isFinite(a))return[];var n=0,i=0;switch(l){case"24h":n=3,i=288e5;break;case"1w":n=7,i=864e5;break;case"30d":n=4,i=6048e5;break;default:return[]}var r=a-n*i;return Array.from({length:n+1}).map((function(e,t){return r+i*t}))}),[b.data,l]);return e?Object(R.jsxs)("section",{className:"card",children:[Object(R.jsxs)("header",{className:s()("card-header flex align-center",I.a.header),children:[Object(R.jsx)("div",{className:"text-p1 fw-semibold color-primary",children:"APY trend"}),Object(R.jsx)(j.g,{tabs:P,activeKey:l,onClick:c,className:"ml-auto",variation:"elastic",size:"small"})]}),Object(R.jsxs)("div",{className:"p-24",children:[Object(R.jsx)(w.a,{spinning:b.loading,children:Object(R.jsx)(k.a,{width:"100%",height:300,className:"mb-24",children:Object(R.jsxs)(S.a,{data:b.data,margin:{left:-12},children:[Object(R.jsxs)("defs",{children:[Object(R.jsxs)("linearGradient",{id:"chart-green-gradient",gradientTransform:"rotate(180)",children:[Object(R.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-green-color-rgb), 0.08)"}),Object(R.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-green-color-rgb), 0)"})]}),Object(R.jsxs)("linearGradient",{id:"chart-purple-gradient",gradientTransform:"rotate(180)",children:[Object(R.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-purple-color-rgb), 0.08)"}),Object(R.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-purple-color-rgb), 0)"})]})]}),Object(R.jsx)(A.a,{vertical:!1,strokeDasharray:"3 0",stroke:"var(--theme-border-color)"}),Object(R.jsx)(D.a,{dataKey:"point",ticks:u,tickMargin:12,minTickGap:0,tickFormatter:function(e){return function(e){if(!Number.isInteger(e))return"";switch(l){case"24h":return Object(N.a)(new Date(e),"HH:mm");case"1w":return Object(N.a)(new Date(e),"EEE");case"30d":return Object(N.a)(new Date(e),"dd MMM");default:return""}}(e)}}),Object(R.jsx)(T.a,{axisLine:!1,tickLine:!1,tickFormatter:function(e){var t;return null!==(t=Object(M.c)(e,0))&&void 0!==t?t:""}}),Object(R.jsx)(E.a,{separator:"",labelFormatter:function(e){return Object(R.jsx)(L.b,{type:"p2",tag:"span",weight:"semibold",color:"primary",children:Number.isFinite(e)?Object(N.a)(new Date(e),"MM.dd.yyyy HH:mm"):""})},formatter:function(e,t,a){var n=a.dataKey;return Object(R.jsx)(L.b,{type:"p2",tag:"span",weight:"semibold",color:"seniorApy"===n?"green":"purple",children:Object(M.c)(e)})}}),Object(R.jsx)(_.a,{name:"Senior APY ",dataKey:"seniorApy",type:"monotone",fill:"url(#chart-green-gradient)",stroke:"var(--theme-green-color)",strokeWidth:2}),Object(R.jsx)(_.a,{name:"Junior APY ",dataKey:"juniorApy",type:"monotone",fill:"url(#chart-purple-gradient)",stroke:"var(--theme-purple-color)",strokeWidth:2})]})})}),Object(R.jsxs)("div",{className:"flex flow-col justify-center col-gap-24 row-gap-16",children:[Object(R.jsx)("div",{className:"chart-label",style:{"--dot-color":"var(--theme-green-color)"},children:"Senior APY"}),Object(R.jsx)("div",{className:"chart-label",style:{"--dot-color":"var(--theme-purple-color)"},children:"Junior APY"})]})]})]}):null},q=a(420),z=a(1395),J=a(99),U=a(38),K=a(1435),V=a(183),W=a(250),G=a(415),Z=function(){var e,t,a,n=Object(p.b)().pool,i=Object(V.c)().projectToken;return Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)(G.a,{name:null===n||void 0===n||null===(e=n.token)||void 0===e?void 0:e.icon,bubble1Name:i.icon,bubble2Name:null===n||void 0===n||null===(t=n.market)||void 0===t?void 0:t.icon.active,className:"mr-16"}),Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(U.b,{address:null===n||void 0===n?void 0:n.contracts.smartYield.address,className:"flex flow-col mb-4",children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null===n||void 0===n?void 0:n.contracts.smartYield.symbol})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:null===n||void 0===n||null===(a=n.market)||void 0===a?void 0:a.name})]})]})},Q=function(e){var t,a,n=e.entity,i=Object(p.b)().pool,r=Object(W.e)().getAmountInUSD;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(J.a,{title:Object(M.d)(n.depositedAmount,{decimals:n.underlyingTokenDecimals,tokenName:null===i||void 0===i?void 0:i.contracts.smartYield.symbol}),children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null!==(t=Object(M.d)(n.depositedAmount))&&void 0!==t?t:"-"})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:null!==(a=Object(M.e)(r(n.depositedAmount,null===i||void 0===i?void 0:i.contracts.smartYield.symbol)))&&void 0!==a?a:"-"})]})},X=[{title:"Token Name",render:function(e,t){return Object(R.jsx)(Z,{})}},{title:"Deposited",align:"right",render:function(e,t){return Object(R.jsx)(Q,{entity:t})}},{title:"Address",render:function(e,t){return Object(R.jsx)(U.b,{address:t.accountAddress,children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"blue",children:Object(M.j)(t.accountAddress)})})}},{title:"Tx Hash / Timestamp",render:function(e,t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(U.c,{address:t.transactionHash,className:"mb-4",children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"blue",children:Object(M.j)(t.transactionHash)})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(N.a)(1e3*t.blockTimestamp,"MM.dd.yyyy HH:mm")})]})}},{title:"Maturity Date",align:"right",render:function(e,t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(N.a)(1e3*t.maturityDate,"MM.dd.yyyy")}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",children:Object(N.a)(1e3*t.maturityDate,"HH:mm")})]})}}],$={loading:!1,data:[],total:0,pageSize:10,page:1,filters:{redeemed:"all",sortBy:"none",sortDir:"desc"}},ee=[{name:"redeemed",label:"Type",defaultValue:"all",itemRender:function(){return Object(R.jsx)(q.a,{options:[{value:"all",label:"All junior bonds"},{value:"false",label:"Active"},{value:"true",label:"Redeemed"}],className:"full-width"})}},{name:"sortBy",label:"Sort by",defaultValue:"none",itemRender:function(){return Object(R.jsx)(q.a,{options:[{value:"none",label:"Default"},{value:"maturityDate",label:"Maturity Date"},{value:"depositedAmount",label:"Deposited Amount"}],className:"full-width"})}},{name:"sortDir",label:"Sort direction",defaultValue:"desc",itemRender:function(){return Object(R.jsx)(q.a,{options:[{value:"desc",label:"Descending"},{value:"asc",label:"Ascending"}],className:"full-width"})}}],te=function(e){var t=e.tabs,a=Object(p.b)().pool,i=Object(F.j)(),l=r.a.useState($),c=Object(n.a)(l,2),s=c[0],o=c[1];return r.a.useEffect((function(){a&&Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!0})})),e.prev=1,e.next=4,i.fetchSYJuniorBonds(a.smartYieldAddress,s.page,s.pageSize,"all"!==s.filters.redeemed?s.filters.redeemed:void 0,"none"!==s.filters.sortBy?s.filters.sortBy:void 0,"none"!==s.filters.sortBy?s.filters.sortDir:void 0);case 4:t=e.sent,o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!1,data:t.data,total:t.meta.count})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!1,data:[],total:0})}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}),[null===a||void 0===a?void 0:a.smartYieldAddress,s.page,s.filters]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("header",{className:"card-header flex align-center justify-space-between ph-24 pv-0",children:[t,Object(R.jsx)(K.a,{filters:ee,value:s.filters,onChange:function(e){o((function(t){return Object(g.a)(Object(g.a)({},t),{},{page:1,filters:Object(g.a)(Object(g.a)({},t.filters),e)})}))}})]}),Object(R.jsx)(z.a,{columns:X,dataSource:s.data,rowKey:"transactionHash",loading:s.loading,pagination:{total:s.total,pageSize:s.pageSize,current:s.page,position:["bottomRight"],showTotal:function(e,t){var a=Object(n.a)(t,2),i=a[0],r=a[1];return Object(R.jsxs)(L.b,{type:"p2",weight:"semibold",color:"secondary",children:["Showing ",i," to ",r," out of ",e," entries"]})},onChange:function(e){o((function(t){return Object(g.a)(Object(g.a)({},t),{},{page:e})}))}},scroll:{x:!0}})]})},ae=a(2205),ne=a.n(ae),ie=[{children:"24h",id:"24h"},{children:"1w",id:"1w"},{children:"1mo",id:"30d"}],re={loading:!1,data:[]},le=function(e){var t=e.className,a=Object(V.c)().convertTokenInUSD,i=Object(p.b)().pool,l=Object(F.j)(),c=r.a.useState("24h"),o=Object(n.a)(c,2),d=o[0],b=o[1],m=r.a.useState(re),u=Object(n.a)(m,2),h=u[0],O=u[1];r.a.useEffect((function(){i?Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(Object(B.b)({loading:!0})),e.prev=1,e.next=4,l.fetchSYPoolLiquidity(i.smartYieldAddress,d);case 4:t=e.sent,O(Object(B.b)({loading:!1,data:t.map((function(e){var t,n,r,l;return Object(g.a)(Object(g.a)({},e),{},{point:new Date(e.point).valueOf(),seniorLiquidity:null!==(t=null===(n=a(e.seniorLiquidity,null===i||void 0===i?void 0:i.underlyingSymbol))||void 0===n?void 0:n.toNumber())&&void 0!==t?t:0,juniorLiquidity:null!==(r=null===(l=a(e.juniorLiquidity,null===i||void 0===i?void 0:i.underlyingSymbol))||void 0===l?void 0:l.toNumber())&&void 0!==r?r:0})}))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),O(Object(B.b)({loading:!1,data:[]}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))():O(Object(B.b)({data:[]}))}),[i,d]);var x=r.a.useMemo((function(){var e=h.data.map((function(e){return e.point})),t=Math.min.apply(Math,Object(y.a)(e)),a=Math.max.apply(Math,Object(y.a)(e));if(!Number.isFinite(t)||!Number.isFinite(a))return[];var n=0,i=0;switch(d){case"24h":n=3,i=288e5;break;case"1w":n=7,i=864e5;break;case"30d":n=4,i=6048e5;break;default:return[]}var r=a-n*i;return Array.from({length:n+1}).map((function(e,t){return r+i*t}))}),[h.data,d]);return i?Object(R.jsxs)("section",{className:s()("card",t),children:[Object(R.jsxs)("header",{className:s()("card-header flex align-center",ne.a.header),children:[Object(R.jsx)("div",{className:"text-p1 fw-semibold color-primary",children:"Liquidity"}),Object(R.jsx)(j.g,{tabs:ie,activeKey:d,onClick:b,className:"ml-auto",variation:"elastic",size:"small"})]}),Object(R.jsxs)("div",{className:"p-24",children:[Object(R.jsx)(w.a,{spinning:h.loading,children:Object(R.jsx)(k.a,{width:"100%",height:300,className:"mb-24",children:Object(R.jsxs)(S.a,{data:h.data,margin:{left:25},children:[Object(R.jsxs)("defs",{children:[Object(R.jsxs)("linearGradient",{id:"chart-green-gradient",gradientTransform:"rotate(180)",children:[Object(R.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-green-color-rgb), 0.08)"}),Object(R.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-green-color-rgb), 0)"})]}),Object(R.jsxs)("linearGradient",{id:"chart-purple-gradient",gradientTransform:"rotate(180)",children:[Object(R.jsx)("stop",{offset:"0%",stopColor:"rgba(var(--theme-purple-color-rgb), 0.08)"}),Object(R.jsx)("stop",{offset:"100%",stopColor:"rgba(var(--theme-purple-color-rgb), 0)"})]})]}),Object(R.jsx)(A.a,{vertical:!1,strokeDasharray:"3 0",stroke:"var(--theme-border-color)"}),Object(R.jsx)(D.a,{dataKey:"point",ticks:x,tickMargin:12,minTickGap:0,tickFormatter:function(e){return function(e){if(!Number.isInteger(e))return"";switch(d){case"24h":return Object(N.a)(new Date(e),"HH:mm");case"1w":return Object(N.a)(new Date(e),"EEE");case"30d":return Object(N.a)(new Date(e),"dd MMM");default:return""}}(e)}}),Object(R.jsx)(T.a,{axisLine:!1,tickLine:!1,tickFormatter:function(e){var t;return null!==(t=Object(M.e)(e,{compact:!0}))&&void 0!==t?t:""}}),Object(R.jsx)(E.a,{separator:"",labelFormatter:function(e){return Object(R.jsx)(L.b,{type:"p2",tag:"span",weight:"semibold",color:"primary",children:Number.isFinite(e)?Object(N.a)(e,"MM.dd.yyyy HH:mm"):""})},formatter:function(e,t,a){var n=a.dataKey;return Object(R.jsx)(L.b,{type:"p2",tag:"span",weight:"semibold",color:"seniorLiquidity"===n?"green":"purple",children:Object(M.e)(e)})}}),Object(R.jsx)(_.a,{name:"Senior Liquidity ",dataKey:"seniorLiquidity",type:"monotone",fill:"url(#chart-green-gradient)",stroke:"var(--theme-green-color)",strokeWidth:2}),Object(R.jsx)(_.a,{name:"Junior Liquidity ",dataKey:"juniorLiquidity",type:"monotone",fill:"url(#chart-purple-gradient)",stroke:"var(--theme-purple-color)",strokeWidth:2})]})})}),Object(R.jsxs)("div",{className:"flex flow-col justify-center col-gap-24 row-gap-16",children:[Object(R.jsx)("div",{className:"chart-label",style:{"--dot-color":"var(--theme-green-color)"},children:"Senior Liquidity"}),Object(R.jsx)("div",{className:"chart-label",style:{"--dot-color":"var(--theme-purple-color)"},children:"Junior Liquidity"})]})]})]}):null},ce=a(19),se=a.n(ce),oe=a(1357),de=a(1440),be=a(1576),je=a(60),me=a(2206),ue=a.n(me),pe=[{id:"market",children:"Market details"},{id:"abond",children:Object(R.jsx)(L.a,{maxWidth:475,text:Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{className:"mb-8",children:'In order to calculate the profits and losses of the pool efficiently - we do that by averaging all existing senior bonds into one "weighted average" aBOND with the following properties:'}),Object(R.jsxs)("dl",{className:"ph-12 fw-semibold text-nowrap",children:[Object(R.jsx)("dd",{children:"- ABOND.principal -> Principal locked"}),Object(R.jsx)("dd",{children:"- ABOND.gain -> Guaranteed gains for all seniors"}),Object(R.jsx)("dd",{children:"- ABOND.debt -> Amount owed to existing seniors"}),Object(R.jsx)("dd",{children:"- ABOND.issuedAt -> Start timestamp"}),Object(R.jsx)("dd",{children:"- ABOND.maturesAt -> Maturity date"})]})]}),children:"Abond details"})}],he=function(){var e,t,a,i,l,c,o,d,b,m,u,h,O,y,g,f,x,v,w,k,S,A,D,T,E,_,B,F,C,I,P,Y=r.a.useState("market"),H=Object(n.a)(Y,2),q=H[0],z=H[1],U=Object(V.c)(),K=U.bondToken,G=U.stkAaveToken,Z=Object(p.b)(),Q=Object(be.b)().pools,X=Z.pool,$=Object(W.e)(),ee=$.getToken,te=$.getAmountInUSD;if(!X)return null;var ae=X.contracts.smartYield.abond,ne=X.contracts.smartYield.abondDebt,ie=ee(X.underlyingSymbol),re=null!==(e=null===(t=se.a.from(X.state.seniorLiquidity))||void 0===t?void 0:t.multipliedBy(null!==(a=null===ie||void 0===ie?void 0:ie.price)&&void 0!==a?a:0).toString())&&void 0!==e?e:"0",le=null!==(i=null===(l=se.a.from(X.state.juniorLiquidity))||void 0===l?void 0:l.multipliedBy(null!==(c=null===ie||void 0===ie?void 0:ie.price)&&void 0!==c?c:0).toString())&&void 0!==i?i:"0",ce=null!==(o=null===(d=se.a.from(null===ae||void 0===ae?void 0:ae.principal))||void 0===d||null===(b=d.unscaleBy(X.underlyingDecimals))||void 0===b?void 0:b.multipliedBy(null!==(m=null===ie||void 0===ie?void 0:ie.price)&&void 0!==m?m:0).toString())&&void 0!==o?o:"0",me=null!==(u=null===(h=se.a.from(null===ae||void 0===ae?void 0:ae.gain))||void 0===h||null===(O=h.unscaleBy(X.underlyingDecimals))||void 0===O?void 0:O.multipliedBy(null!==(y=null===ie||void 0===ie?void 0:ie.price)&&void 0!==y?y:0).toString())&&void 0!==u?u:"0",he=null!==(g=null===(f=se.a.from(ne))||void 0===f||null===(x=f.unscaleBy(X.underlyingDecimals))||void 0===x?void 0:x.multipliedBy(null!==(v=null===ie||void 0===ie?void 0:ie.price)&&void 0!==v?v:0).toString())&&void 0!==g?g:"0",Oe=null===Q||void 0===Q?void 0:Q.find((function(e){return e.rewardPool.address===X.rewardPoolAddress&&Array.from(e.rewardTokens.values()).some((function(t){var a;return!(t!==K||null===(a=e.rewardPool.getRewardLeftFor(t.address))||void 0===a||!a.isZero())}))}));return Object(R.jsxs)("section",{className:"card",children:[Object(R.jsx)("header",{className:s()("card-header flex align-center",ue.a.header),children:Object(R.jsx)(j.g,{tabs:pe,activeKey:q,onClick:z})}),"market"===q&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Senior Liquidity"}),Object(R.jsxs)(J.a,{title:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(M.d)(X.state.seniorLiquidity,{tokenName:X.underlyingSymbol})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(re)})]}),children:[Object(R.jsxs)("div",{className:"flex flow-col col-gap-8",children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:Intl.NumberFormat("en",{notation:"compact"}).format(X.state.seniorLiquidity)}),Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:X.underlyingSymbol})]}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",children:Object(M.e)(re,{compact:!0})})]})]}),Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Junior Liquidity"}),Object(R.jsxs)(J.a,{title:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(M.d)(X.state.juniorLiquidity,{tokenName:X.underlyingSymbol})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(le)})]}),children:[Object(R.jsxs)("div",{className:"flex flow-col col-gap-8",children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:Intl.NumberFormat("en",{notation:"compact"}).format(X.state.juniorLiquidity)}),Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:X.underlyingSymbol})]}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",children:Object(M.e)(le,{compact:!0})})]})]})]}),Object(R.jsx)(oe.a,{}),Object(R.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"# of seniors"}),Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:Object(M.b)(X.state.numberOfSeniors)})]}),Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"# of juniors"}),Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:Object(M.b)(X.state.numberOfJuniors)})]})]}),Object(R.jsx)(oe.a,{}),Object(R.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Senior APY"}),Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"green",children:Object(M.c)(X.state.seniorApy)})]}),Object(R.jsxs)("div",{className:"flex flow-row align-start",children:[Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Junior APY"}),Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"purple",children:Object(M.c)(X.state.juniorApy)}),(null===(w=X.contracts.rewardPool)||void 0===w?void 0:w.rewardTokensCount)>1?Object(R.jsxs)(de.a,{icons:[K.icon,G.icon],children:["+",Object(M.c)(null!==(k=null===(S=X.apy)||void 0===S?void 0:S.plus(Oe?0:null!==(A=X.apr)&&void 0!==A?A:0))&&void 0!==k?k:0)," APR"]}):!Oe&&X.apr?Object(R.jsxs)(de.a,{icons:["bond"],children:["+",Object(M.c)(null!==(D=X.apr)&&void 0!==D?D:0)," APR"]}):null]})]}),Object(R.jsx)(oe.a,{}),Object(R.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.a,{text:"The average maturity date of the current senior bonds in this pool.",children:Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Average senior maturity"})}),Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:Object(je.b)(Date.now(),Date.now()+24*(null!==(T=X.state.avgSeniorMaturityDays)&&void 0!==T?T:0)*60*60*1e3)})]}),Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Junior liquidity locked"}),Object(R.jsxs)(J.a,{title:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(M.d)(X.state.juniorLiquidityLocked,{tokenName:X.underlyingSymbol})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(te(se.a.from(X.state.juniorLiquidityLocked),X.underlyingSymbol))})]}),children:[Object(R.jsxs)("div",{className:"flex flow-col col-gap-8",children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:Intl.NumberFormat("en",{notation:"compact"}).format(X.state.juniorLiquidityLocked)}),Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:X.underlyingSymbol})]}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",children:Object(M.e)(te(se.a.from(X.state.juniorLiquidityLocked),X.underlyingSymbol))})]})]})]})]}),"abond"===q&&Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.a,{text:"This number shows the aggregated amount of liquidity deposited in senior bonds.",children:Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Abond principal"})}),Object(R.jsxs)(J.a,{title:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null!==(E=Object(M.d)(null===ae||void 0===ae?void 0:ae.principal.unscaleBy(X.underlyingDecimals),{decimals:X.underlyingDecimals,tokenName:X.underlyingSymbol}))&&void 0!==E?E:"-"}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(ce)})]}),children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:null!==(_=Object(M.d)(null===ae||void 0===ae?void 0:ae.principal.unscaleBy(X.underlyingDecimals),{compact:!0,tokenName:X.underlyingSymbol}))&&void 0!==_?_:"-"}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(ce,{compact:!0})})]})]}),Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.a,{text:"This number shows the aggregated gains of all senior bonds so far. This includes previously redeemed bonds.",children:Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Abond gain"})}),Object(R.jsxs)(J.a,{title:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null!==(B=Object(M.d)(null===ae||void 0===ae?void 0:ae.gain.unscaleBy(X.underlyingDecimals),{decimals:X.underlyingDecimals,tokenName:X.underlyingSymbol}))&&void 0!==B?B:"-"}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(me)})]}),children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:null!==(F=Object(M.d)(null===ae||void 0===ae?void 0:ae.gain.unscaleBy(X.underlyingDecimals),{compact:!0,tokenName:X.underlyingSymbol}))&&void 0!==F?F:"-"}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(me,{compact:!0})})]})]})]}),Object(R.jsx)(oe.a,{}),Object(R.jsxs)("div",{className:"flexbox-grid p-24",children:[Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.a,{text:"This number shows the average date at which all existing seniors bonds end at. It's also the time that junior withdrawals .",children:Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Abond matures at"})}),Object(R.jsx)("div",{className:"flex flow-col col-gap-8",children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:null!==(C=(null===ae||void 0===ae?void 0:ae.maturesAt)&&Object(N.a)(1e3*ae.maturesAt,"MM.dd.yyyy HH:mm"))&&void 0!==C?C:"-"})})]}),Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(L.a,{text:"This number shows the total amount owed to the existing seniors. It's the total gain owed to senior bonds minus what was already paid out to redeemed bonds.",children:Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-4",children:"Abond debt"})}),Object(R.jsxs)(J.a,{title:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null!==(I=Object(M.d)(null===ne||void 0===ne?void 0:ne.unscaleBy(X.underlyingDecimals),{decimals:X.underlyingDecimals,tokenName:X.underlyingSymbol}))&&void 0!==I?I:"-"}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(he)})]}),children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",children:null!==(P=Object(M.d)(null===ne||void 0===ne?void 0:ne.unscaleBy(X.underlyingDecimals),{compact:!0,tokenName:X.underlyingSymbol}))&&void 0!==P?P:"-"}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(M.e)(he,{compact:!0})})]})]})]})]})]})},Oe=a(1908),ye=a.n(Oe),ge=a(48),fe=[{title:"Token Name",render:function(e,t){var a,n,i,r,l,c,s,o,d,b,j,m,u=Object(V.c)().projectToken;return Object(R.jsxs)("div",{className:"flex",children:[t.isTokenAmount?Object(R.jsx)(G.a,{name:null===(a=t.poolEntity)||void 0===a||null===(n=a.token)||void 0===n?void 0:n.icon,bubble1Name:u.icon,bubble2Name:null===(i=t.poolEntity)||void 0===i||null===(r=i.market)||void 0===r?void 0:r.icon.active,className:"mr-16"}):Object(R.jsx)(G.a,{name:null===(l=t.poolEntity)||void 0===l||null===(c=l.token)||void 0===c?void 0:c.icon,bubble1Name:null===(s=t.poolEntity)||void 0===s||null===(o=s.market)||void 0===o?void 0:o.icon.active,className:"mr-16"}),Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(U.b,{address:t.isTokenAmount?null===(d=t.poolEntity)||void 0===d?void 0:d.contracts.smartYield.address:t.underlyingTokenAddress,className:"flex flow-col mb-4",children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mr-4",children:t.isTokenAmount?null===(b=t.poolEntity)||void 0===b?void 0:b.contracts.smartYield.symbol:t.underlyingTokenSymbol})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:null===(j=t.poolEntity)||void 0===j||null===(m=j.market)||void 0===m?void 0:m.name})]})]})}},{title:"Tranche / Transaction",render:function(e,t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:ye()(t.tranche)}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",children:F.c.get(t.transactionType)})]})}},{title:"Amount",align:"right",render:function(e,t){var a,n,i=Object(F.h)(t.transactionType);return Object(R.jsxs)(J.a,{title:Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"primary",children:Object(M.d)(t.amount,{tokenName:t.isTokenAmount?null===(a=t.poolEntity)||void 0===a?void 0:a.contracts.smartYield.symbol:t.underlyingTokenSymbol,decimals:null===(n=t.poolEntity)||void 0===n?void 0:n.underlyingDecimals})}),children:[Object(R.jsxs)(L.b,{type:"p1",weight:"semibold",color:i?"green":"red",children:[i?"+":"-"," ",Object(M.d)(t.amount)]}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",children:Object(M.e)(t.computedAmount)})]})}},{title:"Address",render:function(e,t){return Object(R.jsx)(ge.a,{flow:"row",gap:4,children:Object(R.jsx)(U.b,{address:t.accountAddress,children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"blue",children:Object(M.j)(t.accountAddress)})})})}},{title:"Transaction Hash",render:function(e,t){return Object(R.jsx)(ge.a,{flow:"row",gap:4,children:Object(R.jsx)(U.c,{address:t.transactionHash,children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"blue",children:Object(M.j)(t.transactionHash)})})})}},{title:"Date",align:"right",render:function(e,t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(N.a)(1e3*t.blockTimestamp,"MM.dd.yyyy")}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",children:Object(N.a)(1e3*t.blockTimestamp,"HH:mm")})]})}}],xe={loading:!1,data:[],total:0,pageSize:10,page:1,filters:{transactionType:"all"}},ve=[{name:"transactionType",label:"Transaction direction",defaultValue:"all",itemRender:function(){var e=[{value:"all",label:"All transactions"}].concat(Object(y.a)(Array.from(F.d.entries()).map((function(e){var t=Object(n.a)(e,2);return{value:t[0],label:t[1]}}))));return Object(R.jsx)(q.a,{options:e,className:"full-width"})}}],we=function(e){var t=e.tabs,a=Object(p.b)().pool,i=Object(F.j)(),l=r.a.useState(xe),c=Object(n.a)(l,2),s=c[0],o=c[1],d=Object(W.e)().getToken;r.a.useEffect((function(){Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!0})})),e.prev=3,e.next=6,i.fetchSYPoolTransactions(a.smartYieldAddress,s.page,s.pageSize,s.filters.transactionType);case 6:t=e.sent,o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!1,data:t.data,total:t.meta.count})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!1,data:[],total:0})}));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))()}),[null===a||void 0===a?void 0:a.smartYieldAddress,s.page,s.filters.transactionType]);var b=r.a.useMemo((function(){return s.data.map((function(e){var t,n;if(a){var i,r,l,c=null!==(i=null===(r=d(a.underlyingSymbol))||void 0===r?void 0:r.price)&&void 0!==i?i:0;if([F.b.SENIOR_DEPOSIT,F.b.SENIOR_REDEEM,F.b.JUNIOR_DEPOSIT,F.b.JUNIOR_REDEEM,F.b.SBOND_SEND,F.b.SBOND_RECEIVE].includes(e.transactionType))t=!1,n=null===(l=se.a.from(e.amount))||void 0===l?void 0:l.multipliedBy(c);[F.b.JUNIOR_INSTANT_WITHDRAW,F.b.JUNIOR_REGULAR_WITHDRAW,F.b.JTOKEN_SEND,F.b.JTOKEN_RECEIVE,F.b.JBOND_SEND,F.b.JBOND_RECEIVE,F.b.JUNIOR_STAKE,F.b.JUNIOR_UNSTAKE].includes(e.transactionType)&&(t=!0,n=new se.a(e.amount).multipliedBy(a.state.jTokenPrice).multipliedBy(c))}return Object(g.a)(Object(g.a)({},e),{},{poolEntity:a,isTokenAmount:t,computedAmount:n})}))}),[s.data,a]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("header",{className:"card-header flex align-center justify-space-between ph-24 pv-0",children:[t,Object(R.jsx)(K.a,{filters:ve,value:s.filters,onChange:function(e){o((function(t){return Object(g.a)(Object(g.a)({},t),{},{page:1,filters:Object(g.a)(Object(g.a)({},t.filters),e)})}))}})]}),Object(R.jsx)(z.a,{columns:fe,dataSource:b,rowKey:function(e){return"".concat(e.transactionHash,"_").concat(e.transactionType)},loading:s.loading,pagination:{total:s.total,pageSize:s.pageSize,current:s.page,position:["bottomRight"],showTotal:function(e,t){var a=Object(n.a)(t,2),i=a[0],r=a[1];return Object(R.jsxs)(L.b,{type:"p2",weight:"semibold",color:"secondary",children:["Showing ",i," to ",r," out of ",e," entries"]})},onChange:function(e){o((function(t){return Object(g.a)(Object(g.a)({},t),{},{page:e})}))}},scroll:{x:!0}})]})},Ne=function(){var e,t,a,n=Object(p.b)().pool;return Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)(G.a,{name:null===n||void 0===n||null===(e=n.token)||void 0===e?void 0:e.icon,bubble1Name:null===n||void 0===n||null===(t=n.market)||void 0===t?void 0:t.icon.active,className:"mr-16"}),Object(R.jsxs)("div",{className:"flex flow-row",children:[Object(R.jsx)(U.b,{address:null===n||void 0===n?void 0:n.underlyingAddress,className:"flex flow-col mb-4",children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null===n||void 0===n?void 0:n.underlyingSymbol})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:null===n||void 0===n||null===(a=n.market)||void 0===a?void 0:a.name})]})]})},ke=[{title:"Token Name",render:function(e,t){return Object(R.jsx)(Ne,{})}},{title:"Deposited",align:"right",render:function(e,t){var a,n,i=Object(V.c)().convertTokenInUSD;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(J.a,{title:Object(M.d)(t.depositedAmount,{decimals:t.underlyingTokenDecimals,tokenName:t.underlyingTokenSymbol}),children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null!==(a=Object(M.d)(t.depositedAmount))&&void 0!==a?a:"-"})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:null!==(n=Object(M.e)(i(t.depositedAmount,t.underlyingTokenSymbol)))&&void 0!==n?n:"-"})]})}},{title:"Redeemable",align:"right",render:function(e,t){var a,n,i=Object(V.c)().convertTokenInUSD;return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(J.a,{title:Object(M.d)(t.redeemableAmount,{decimals:t.underlyingTokenDecimals,tokenName:t.underlyingTokenSymbol}),children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:null!==(a=Object(M.d)(t.redeemableAmount))&&void 0!==a?a:"-"})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:null!==(n=Object(M.e)(i(t.redeemableAmount,t.underlyingTokenSymbol)))&&void 0!==n?n:"-"})]})}},{title:"Address",render:function(e,t){return Object(R.jsx)(U.b,{address:t.accountAddress,children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"blue",children:Object(M.j)(t.accountAddress)})})}},{title:"Tx Hash / Timestamp",render:function(e,t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(U.b,{address:t.transactionHash,className:"mb-4",children:Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"blue",children:Object(M.j)(t.transactionHash)})}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",color:"secondary",children:Object(N.a)(1e3*t.blockTimestamp,"MM.dd.yyyy HH:mm")})]})}},{title:"Maturity Date",align:"right",render:function(e,t){return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(L.b,{type:"p1",weight:"semibold",color:"primary",className:"mb-4",children:Object(N.a)(1e3*t.maturityDate,"MM.dd.yyyy")}),Object(R.jsx)(L.b,{type:"small",weight:"semibold",children:Object(N.a)(1e3*t.maturityDate,"HH:mm")})]})}}],Se={loading:!1,data:[],total:0,pageSize:10,page:1,filters:{redeemed:"all",sortBy:"none",sortDir:"desc"}},Ae=[{name:"redeemed",label:"Type",defaultValue:"all",itemRender:function(){return Object(R.jsx)(q.a,{options:[{value:"all",label:"All senior bonds"},{value:"false",label:"Active"},{value:"true",label:"Redeemed"}],className:"full-width"})}},{name:"sortBy",label:"Sort by",defaultValue:"none",itemRender:function(){return Object(R.jsx)(q.a,{options:[{value:"none",label:"Default"},{value:"maturityDate",label:"Maturity Date"},{value:"depositedAmount",label:"Deposited Amount"},{value:"redeemableAmount",label:"Redeemable Amount"}],className:"full-width"})}},{name:"sortDir",label:"Sort direction",defaultValue:"desc",itemRender:function(){return Object(R.jsx)(q.a,{options:[{value:"desc",label:"Descending"},{value:"asc",label:"Ascending"}],className:"full-width"})}}],De=function(e){var t=e.tabs,a=Object(p.b)().pool,i=Object(F.j)(),l=r.a.useState(Se),c=Object(n.a)(l,2),s=c[0],o=c[1];return r.a.useEffect((function(){a&&Object(f.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!0})})),e.prev=1,e.next=4,i.fetchSYSeniorBonds(a.smartYieldAddress,s.page,s.pageSize,"all"!==s.filters.redeemed?s.filters.redeemed:void 0,"none"!==s.filters.sortBy?s.filters.sortBy:void 0,"none"!==s.filters.sortBy?s.filters.sortDir:void 0);case 4:t=e.sent,o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!1,data:t.data,total:t.meta.count})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o((function(e){return Object(g.a)(Object(g.a)({},e),{},{loading:!1,data:[],total:0})}));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()}),[null===a||void 0===a?void 0:a.smartYieldAddress,s.page,s.filters]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("header",{className:"card-header flex align-center justify-space-between ph-24 pv-0",children:[t,Object(R.jsx)(K.a,{filters:Ae,value:s.filters,onChange:function(e){o((function(t){return Object(g.a)(Object(g.a)({},t),{},{page:1,filters:Object(g.a)(Object(g.a)({},t.filters),e)})}))}})]}),Object(R.jsx)(z.a,{columns:ke,dataSource:s.data,rowKey:"transactionHash",loading:s.loading,pagination:{total:s.total,pageSize:s.pageSize,current:s.page,position:["bottomRight"],showTotal:function(e,t){var a=Object(n.a)(t,2),i=a[0],r=a[1];return Object(R.jsxs)(L.b,{type:"p2",weight:"semibold",color:"secondary",children:["Showing ",i," to ",r," out of ",e," entries"]})},onChange:function(e){o((function(t){return Object(g.a)(Object(g.a)({},t),{},{page:e})}))}},scroll:{x:!0}})]})},Te=a(2207),Ee=a.n(Te),_e=[{id:"th",children:"Transaction history"},{id:"sb",children:"Senior bonds"},{id:"jb",children:"Junior bonds"}];t.default=function(){var e=Object(m.b)(),t=Object(h.c)(),a=Object(p.b)(),i=r.a.useState("th"),c=Object(n.a)(i,2),y=c[0],g=c[1],f=Object(R.jsx)(j.g,{tabs:_e,activeKey:y,onClick:g,size:"small"});if(!a.marketId)return null;var x=Object(u.c)(a.marketId);return Object(R.jsx)(d.a,{spinning:a.loading,children:Object(R.jsxs)("div",{className:"container-limit",children:[Object(R.jsx)("div",{className:"mb-16",children:Object(R.jsxs)(l.b,{to:"smart-yield/markets",className:"button-text",children:[Object(R.jsx)(b.a,{name:"arrow-back",className:"mr-8",color:"inherit"}),"Markets"]})}),Object(R.jsxs)("div",{className:"flex col-gap-24 row-gap-16 align-start mb-40",children:[Object(R.jsx)(O.a,{}),Object(R.jsxs)("div",{className:"flex wrap col-gap-24 row-gap-16 ml-auto",children:[t.isActive&&!0===(null===x||void 0===x?void 0:x.depositDisabled)&&Object(R.jsx)(l.b,{to:{pathname:"/smart-yield/withdraw",search:"?m=".concat(a.marketId,"&t=").concat(a.tokenId)},className:"button-primary",children:"Withdraw"}),Object(R.jsx)(l.b,{to:{pathname:"/smart-yield/deposit",search:"?m=".concat(a.marketId,"&t=").concat(a.tokenId)},className:"button-primary",disabled:!t.isActive||!0===(null===x||void 0===x?void 0:x.depositDisabled),children:"Deposit"}),e.features.faucets&&Object(R.jsx)(l.b,{to:"/faucets",className:"button-ghost ml-auto",children:"Faucets"})]})]}),Boolean(null===x||void 0===x?void 0:x.warning)&&Object(R.jsx)(o.a,{type:"warning",title:null===x||void 0===x?void 0:x.warning,className:"mb-32"}),Object(R.jsxs)("div",{className:s()(Ee.a.apyMarketRow,"mb-32"),children:[Object(R.jsx)(H,{}),Object(R.jsx)(he,{})]}),Object(R.jsx)(le,{className:"mb-32"}),Object(R.jsxs)("section",{className:"card",children:["th"===y&&Object(R.jsx)(we,{tabs:f}),"sb"===y&&Object(R.jsx)(De,{tabs:f}),"jb"===y&&Object(R.jsx)(te,{tabs:f})]})]})})}}}]);
//# sourceMappingURL=37.54d05a30.chunk.js.map