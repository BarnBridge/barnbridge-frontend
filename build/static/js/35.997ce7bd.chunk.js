(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[35],{1356:function(e,t,n){"use strict";var a=n(4),i=n(17),o=(n(0),n(1364)),r=n.n(o),c=n(8),s=n.n(c),l=n(33),d=n(48),u=n(99),b=n(1360),m=n.n(b),j=n(1),p=["children"],f=["className","label","hint","extra","children"],v=["className","children"],h=function(e){var t=e.className,n=e.children,o=Object(i.a)(e,v);return Object(j.jsx)(r.a,Object(a.a)(Object(a.a)({className:s()(m.a.form,t),layout:"vertical",requiredMark:!1},o),{},{children:n}))};h.Item=function(e){var t=e.className,n=e.label,o=e.hint,c=e.extra,b=e.children,p=Object(i.a)(e,f);return Object(j.jsx)(r.a.Item,Object(a.a)(Object(a.a)({className:s()(m.a.item,t)},p),{},{label:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(d.a,{flow:"col",gap:4,align:"center",children:[n,o&&Object(j.jsx)(u.a,{title:o,children:Object(j.jsx)("span",{children:Object(j.jsx)(l.a,{name:"info",size:15})})})]}),c]}),children:b}))},h.List=function(e){var t=e.children,n=Object(i.a)(e,p);return Object(j.jsx)(r.a.List,Object(a.a)(Object(a.a)({},n),{},{children:t}))},t.a=h},1357:function(e,t,n){"use strict";var a=n(4),i=n(17),o=(n(0),n(1393)),r=n.n(o),c=n(8),s=n.n(c),l=n(1362),d=n.n(l),u=n(1),b=["className"];t.a=function(e){var t=e.className,n=Object(i.a)(e,b);return Object(u.jsx)(r.a,Object(a.a)({className:s()(d.a.divider,t)},n))}},1358:function(e,t,n){"use strict";var a=n(22);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r.default}}),t.default=void 0;var i=a(n(1370)),o=a(n(1441)),r=a(n(1442)),c=i.default;c.Button=r.default,c.Group=o.default;var s=c;t.default=s},1360:function(e,t,n){e.exports={form:"s_form__36nMg",item:"s_item__2gbuN"}},1362:function(e,t,n){e.exports={divider:"s_divider__3YM-J"}},1366:function(e,t,n){"use strict";var a=n(4),i=n(17),o=n(0),r=n.n(o),c=n(1619),s=n(249),l=n.n(s),d=n(8),u=n.n(d),b=n(1382),m=n.n(b),j=n(1),p=["type","className"];t.a=function(e){var t=e.type,n=void 0===t?"default":t,o=e.className,s=Object(i.a)(e,p),d=r.a.useMemo((function(){if("circle"===n)return Object(j.jsx)(c.a,{spin:!0})}),[n]);return Object(j.jsx)(l.a,Object(a.a)({indicator:d,className:u()(m.a.spin,o)},s))}},1369:function(e,t,n){"use strict";var a=n(4),i=n(5),o=n(17),r=n(0),c=n.n(r),s=n(1358),l=n.n(s),d=n(249),u=n.n(d),b=n(1372),m=n(48),j=n(12),p=n(50),f=n(417),v=n(1375),h=n.n(v),O=n(1),y=["className","value","onChange"];t.a=function(e){var t=e.className,n=e.value,r=(e.onChange,Object(o.a)(e,y)),s=Object(p.b)().activeNetwork,d=Object(f.a)({options:[],loading:!1,selected:void 0}),v=Object(i.a)(d,2),x=v[0],g=v[1];return c.a.useEffect((function(){g({loading:!0});var e="".concat(s.explorer.apiUrl,"/api?module=gastracker&action=gasoracle&apikey=").concat(s.explorer.key);fetch(e).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(e){return{veryFast:Number(e.FastGasPrice),fast:Number(e.ProposeGasPrice),average:Math.round((Number(e.ProposeGasPrice)+Number(e.SafeGasPrice))/2),safeLow:Number(e.SafeGasPrice)}})).then((function(e){var t=[{key:"fastest",name:"Very fast",value:e.veryFast},{key:"fast",name:"Fast",value:e.fast},{key:"average",name:"Standard",value:e.average},{key:"safeLow",name:"Slow",value:e.safeLow}];g({loading:!1,options:t})})).catch((function(){g({loading:!1})}))}),[]),c.a.useEffect((function(){var t;void 0===n&&x.options.length>2&&(null===(t=e.onChange)||void 0===t||t.call(e,x.options[2]))}),[n,x.options]),c.a.useEffect((function(){g({selected:n})}),[n]),Object(O.jsx)(l.a.Group,Object(a.a)(Object(a.a)({className:t,style:{width:"100%"}},r),{},{value:x.selected,onChange:function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t.target.value)},children:x.loading?Object(O.jsx)(u.a,{}):Object(O.jsx)("div",{className:h.a.list,children:x.options.map((function(e){return Object(O.jsx)(b.a,{label:Object(O.jsx)(j.b,{type:"p1",weight:"semibold",color:"primary",children:e.name}),hint:Object(O.jsxs)(m.a,{flow:"col",gap:4,children:[Object(O.jsx)(j.b,{type:"p1",weight:"semibold",color:"primary",children:e.value}),Object(O.jsx)(j.b,{type:"p2",weight:"semibold",color:"secondary",children:"Gwei"})]}),value:e},e.key)}))})}))}},1370:function(e,t,n){"use strict";var a=n(26),i=n(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(72)),r=i(n(44)),c=a(n(0)),s=i(n(1396)),l=i(n(8)),d=n(642),u=n(70),b=i(n(1371)),m=i(n(248)),j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n},p=function(e,t){var n,a=c.useContext(b.default),i=c.useContext(u.ConfigContext),p=i.getPrefixCls,f=i.direction,v=c.useRef(),h=(0,d.composeRef)(t,v);c.useEffect((function(){(0,m.default)(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var O=e.prefixCls,y=e.className,x=e.children,g=e.style,w=j(e,["prefixCls","className","children","style"]),k=p("radio",O),N=(0,r.default)({},w);a&&(N.name=a.name,N.onChange=function(t){e.onChange&&e.onChange(t),(null===a||void 0===a?void 0:a.onChange)&&a.onChange(t)},N.checked=e.value===a.value,N.disabled=e.disabled||a.disabled);var _=(0,l.default)("".concat(k,"-wrapper"),(n={},(0,o.default)(n,"".concat(k,"-wrapper-checked"),N.checked),(0,o.default)(n,"".concat(k,"-wrapper-disabled"),N.disabled),(0,o.default)(n,"".concat(k,"-wrapper-rtl"),"rtl"===f),n),y);return c.createElement("label",{className:_,style:g,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},c.createElement(s.default,(0,r.default)({},N,{prefixCls:k,ref:h})),void 0!==x?c.createElement("span",null,x):null)},f=c.forwardRef(p);f.displayName="Radio",f.defaultProps={type:"radio"};var v=f;t.default=v},1371:function(e,t,n){"use strict";var a=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RadioGroupContextProvider=void 0;var i=a(n(0)).createContext(null),o=i.Provider;t.RadioGroupContextProvider=o;var r=i;t.default=r},1372:function(e,t,n){"use strict";var a=n(4),i=n(17),o=(n(0),n(1358)),r=n.n(o),c=n(8),s=n.n(c),l=n(48),d=n(1374),u=n.n(d),b=n(1),m=["label","hint","className"];t.a=function(e){var t=e.label,n=e.hint,o=e.className,c=Object(i.a)(e,m);return Object(b.jsx)(r.a,Object(a.a)(Object(a.a)({className:s()(u.a.component,o)},c),{},{children:Object(b.jsxs)(l.a,{flow:"row",gap:4,children:[t,n]})}))}},1374:function(e,t,n){e.exports={component:"s_component__2RWFR"}},1375:function(e,t,n){e.exports={list:"s_list__mhVNU"}},1378:function(e,t,n){"use strict";var a=n(4),i=n(17),o=(n(0),n(1461)),r=n.n(o),c=n(8),s=n.n(c),l=n(1430),d=n.n(l),u=n(1),b=["className","disabled"];t.a=function(e){var t=e.className,n=e.disabled,o=Object(i.a)(e,b);return Object(u.jsx)(r.a,Object(a.a)({className:s()(d.a.component,t,n&&d.a.disabled),disabled:n,autoComplete:"off"},o))}},1382:function(e,t,n){e.exports={spin:"s_spin__1EZtC"}},1383:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return _})),n.d(t,"c",(function(){return C}));var a=n(15),i=n(4),o=n(13),r=n(17),c=n(0),s=n(19),l=n.n(s),d=n(8),u=n.n(d),b=n(1394),m=n(1402),j=n.n(m),p=n(1),f=["className","value"],v=function(e){var t=e.className,n=e.value,a=Object(r.a)(e,f),o=Number(a.max)||0,c=Math.floor(1e6*o)/1e6,s=Math.floor(1e6*Number(n))/1e6/c*100||0,l=0===c;return Object(p.jsx)("input",Object(i.a)(Object(i.a)({},a),{},{type:"range",className:u()(j.a.input,t),style:{"--track-fill":"".concat(l?0:s,"%")},max:l?1:c,disabled:l,value:l?"0":n||"0"}))},h=n(12),O=n(33),y=n(183),x=n(415),g=n(1403),w=n.n(g),k=["onChange","before","secondary","className","classNameBefore","slider","errors","decimals","max"],N=Object(c.forwardRef)((function(e,t){var n,a,c=e.onChange,s=e.before,d=e.secondary,b=e.className,m=e.classNameBefore,j=e.slider,f=e.errors,O=void 0===f?[]:f,y=e.decimals,x=void 0===y?6:y,g=e.max,N=Object(r.a)(e,k),_=null!==(n=l.a.from(g))&&void 0!==n?n:l.a.ZERO;return Object(p.jsxs)("div",{className:b,children:[Object(p.jsxs)("div",{className:u()(w.a.tokenAmount,Object(o.a)({},w.a.error,O.length)),children:[s&&Object(p.jsx)("div",{className:u()(w.a.tokenAmountBefore,m),children:s}),Object(p.jsxs)("div",{className:w.a.tokenAmountValues,children:[Object(p.jsx)("input",Object(i.a)({ref:t,className:w.a.tokenAmountValue,type:"text",inputMode:"decimal",pattern:"[0-9]+([\\.,][0-9]+)?",onWheel:function(e){e.currentTarget.blur()},onChange:function(e){c(e.target.value)}},N)),Object(p.jsx)("div",{className:w.a.tokenAmountHint,children:d})]}),!_.isZero()&&Object(p.jsx)("button",{type:"button",className:"button-ghost",style:{alignSelf:"center"},disabled:N.disabled||_.isZero(),onClick:function(){return c(_.toString())},children:"MAX"})]}),!!O.length&&O.map((function(e,t){return Object(p.jsx)(h.b,{type:"small",weight:"semibold",color:"red",style:{marginTop:"8px"},children:e},t)})),j&&!_.isZero()?Object(p.jsx)(v,{type:"range",className:w.a.tokenAmountSlider,min:"0",max:_.toString(),step:1/Math.pow(10,Math.min(x,6)),value:null!==(a=N.value)&&void 0!==a?a:0,disabled:N.disabled||_.isZero(),onChange:function(e){c(e.target.value)}}):null]})})),_=function(e){var t=e.value,n=e.before,a=e.secondary,i=e.className,o=e.classNameBefore;return Object(p.jsxs)("div",{className:u()(w.a.tokenAmountPreview,i),children:[n&&Object(p.jsx)("div",{className:u()(w.a.tokenAmountPreviewBefore,o),children:n}),Object(p.jsxs)("div",{className:w.a.tokenAmountPreviewValues,children:[Object(p.jsx)("input",{className:w.a.tokenAmountPreviewValue,type:"text",value:t||"",readOnly:!0}),Object(p.jsx)("div",{className:w.a.tokenAmountPreviewHint,children:a})]})]})},C=function(e){var t=e.value,n=e.onChange,i=e.tokens,o=e.className,r=e.style,c=Object(y.c)().getTokenBySymbol,s=c(t);return Object(p.jsx)(b.b,{items:i.reduce((function(e,t){var i,o,r=c(t);return r?[].concat(Object(a.a)(e),[{onClick:function(){n(t)},children:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x.a,{name:null===(i=c(t))||void 0===i?void 0:i.icon,className:"mr-8"}),null===(o=c(t))||void 0===o?void 0:o.name]}),"aria-selected":(null===s||void 0===s?void 0:s.symbol)===r.symbol?"true":"false"}]):e}),[]),children:function(e){var t=e.ref,n=e.setOpen,a=e.open;return Object(p.jsxs)("button",{type:"button",ref:t,onClick:function(){return n((function(e){return!e}))},className:u()(w.a.tokenAmountSelectToken,o),style:r,children:[s?Object(p.jsx)(x.a,{name:s.icon,size:24,className:"mr-16"}):null,Object(p.jsx)(h.b,{type:"p1",weight:"semibold",color:"primary",children:null===s||void 0===s?void 0:s.symbol}),Object(p.jsx)(O.a,{name:a?"dropdown-active":"dropdown",size:"24",className:"token-select-chevron",style:{marginLeft:4}})]})}})}},1394:function(e,t,n){"use strict";n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return k}));var a=n(17),i=n(4),o=n(5),r=n(0),c=n.n(r),s=n(51),l=n.n(s),d=n(2286),u=n(58),b=n(8),m=n.n(b),j=n(1545),p=n.n(j),f=n(33),v=n(1397),h=n.n(v),O=n(1),y=["onClick"],x=[{name:"offset",options:{offset:[0,8]}},{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.minWidth="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;t.elements.popper.style.minWidth="".concat(t.elements.reference.offsetWidth,"px")}}],g=function(e){var t=e.content,n=e.children,a=e.options,r=c.a.useState(!1),s=Object(o.a)(r,2),u=s[0],b=s[1],m=c.a.useRef(null),j=c.a.useRef(null),f=Object(d.a)(m.current,j.current,Object(i.a)({placement:"bottom-start",strategy:"absolute",modifiers:x},a)),v=f.styles,h=f.attributes,y=f.forceUpdate;return c.a.useEffect((function(){var e;if(y&&y(),u){var t=[],n=m.current;n&&t.push(n);var a=j.current;a&&t.push(a),e=p()(t,["click","touchstart"],(function(){return b(!1)}))}return function(){var t;null===(t=e)||void 0===t||t.remove()}}),[u]),Object(O.jsxs)(O.Fragment,{children:[n({ref:m,setOpen:b,open:u}),l.a.createPortal(Object(O.jsx)("div",Object(i.a)(Object(i.a)({ref:j,style:Object(i.a)(Object(i.a)({},v.popper),{},{display:u?"":"none"})},h.popper),{},{children:t(b)})),document.querySelector("#tooltip-root")||document.body)]})},w=function(e){var t=e.items,n=e.children,o=e.options;return Object(O.jsx)(g,{content:function(e){return Object(O.jsx)("ul",{className:h.a.tokenSelectList,children:t.map((function(t,n){var o=t.onClick,r=Object(a.a)(t,y);return r.href?Object(O.jsx)("li",{children:Object(O.jsx)("a",Object(i.a)(Object(i.a)({href:r.href},r),{},{className:h.a.tokenSelectListButton,onClick:function(t){e(!1)},children:r.children}))},n):r.to?Object(O.jsx)("li",{children:Object(O.jsx)(u.b,Object(i.a)(Object(i.a)({},r),{},{className:h.a.tokenSelectListButton,onClick:function(t){e(!1)}}))},n):Object(O.jsx)("li",{children:Object(O.jsx)("button",Object(i.a)(Object(i.a)({},r),{},{className:h.a.tokenSelectListButton,onClick:function(t){o&&o(t),e(!1)}}))},n)}))})},options:o,children:n})},k=function(e){var t=e.items,n=e.children,a=e.className,i=e.size,o=void 0===i?"normal":i,r=e.style;return Object(O.jsx)(w,{items:t,children:function(e){var t=e.ref,i=e.setOpen,c=e.open;return Object(O.jsxs)("button",{type:"button",ref:t,onClick:function(){return i((function(e){return!e}))},className:m()(h.a.dropdown,h.a[o],a),style:r,children:[Object(O.jsx)("div",{className:"flex align-center flex-grow pr-16",children:n}),Object(O.jsx)(f.a,{name:"dropdown",size:"24",className:h.a.dropdownChevron,style:{transform:c?"rotate(180deg)":""}})]})}})}},1396:function(e,t,n){"use strict";n.r(t);var a=n(10),i=n(13),o=n(17),r=n(4),c=n(14),s=n(16),l=n(23),d=n(24),u=n(0),b=n.n(u),m=n(8),j=n.n(m),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,i=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),i&&i({target:Object(r.a)(Object(r.a)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var i="checked"in e?e.checked:e.defaultChecked;return a.state={checked:i},a}return Object(s.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.className,c=t.style,s=t.name,l=t.id,d=t.type,u=t.disabled,m=t.readOnly,p=t.tabIndex,f=t.onClick,v=t.onFocus,h=t.onBlur,O=t.onKeyDown,y=t.onKeyPress,x=t.onKeyUp,g=t.autoFocus,w=t.value,k=t.required,N=Object(o.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_=Object.keys(N).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=N[t]),e}),{}),C=this.state.checked,S=j()(n,r,(e={},Object(i.a)(e,"".concat(n,"-checked"),C),Object(i.a)(e,"".concat(n,"-disabled"),u),e));return b.a.createElement("span",{className:S,style:c},b.a.createElement("input",Object(a.a)({name:s,id:l,type:d,required:k,readOnly:m,disabled:u,tabIndex:p,className:"".concat(n,"-input"),checked:!!C,onClick:f,onFocus:v,onBlur:h,onKeyUp:x,onKeyDown:O,onKeyPress:y,onChange:this.handleChange,autoFocus:g,ref:this.saveInput,value:w},_)),b.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(r.a)(Object(r.a)({},t),{},{checked:e.checked}):null}}]),n}(u.Component);p.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=p},1397:function(e,t,n){e.exports={tokenSelectList:"s_tokenSelectList__1rsig",tokenSelectListButton:"s_tokenSelectListButton__898YC",active:"s_active__1VA0m",dropdown:"s_dropdown__2I7kF",large:"s_large__uF7P8",dropdownChevron:"s_dropdownChevron__3cfM7"}},1402:function(e,t,n){e.exports={input:"s_input__1b3rZ"}},1403:function(e,t,n){e.exports={tokenAmount:"s_tokenAmount__2n5WY",error:"s_error__3x3RW",tokenAmountBefore:"s_tokenAmountBefore__3YeAZ",tokenAmountValues:"s_tokenAmountValues__1qT2P",tokenAmountValue:"s_tokenAmountValue__2mG1w",tokenAmountHint:"s_tokenAmountHint__3Jk8f",tokenAmountSlider:"s_tokenAmountSlider__2LNhd",tokenAmountPreview:"s_tokenAmountPreview__1qEON",tokenAmountPreviewBefore:"s_tokenAmountPreviewBefore__2ZTVO",tokenAmountPreviewValues:"s_tokenAmountPreviewValues__3WU83",tokenAmountPreviewValue:"s_tokenAmountPreviewValue__2CGmA",tokenAmountPreviewHint:"s_tokenAmountPreviewHint__1XGYo",tokenSelectTrigger:"s_tokenSelectTrigger__39PsM",tokenSelectChevron:"s_tokenSelectChevron__3_diD",tokenSelectListButton:"s_tokenSelectListButton__qrRSq",active:"s_active__hEyw6",tokenAmountSelectToken:"s_tokenAmountSelectToken__8QBHp"}},1430:function(e,t,n){e.exports={component:"s_component__2HckH",disabled:"s_disabled__3ybza"}},1441:function(e,t,n){"use strict";var a=n(26),i=n(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(72)),r=i(n(57)),c=a(n(0)),s=i(n(8)),l=i(n(1408)),d=i(n(1370)),u=n(70),b=i(n(324)),m=n(1371),j=c.forwardRef((function(e,t){var n=c.useContext(u.ConfigContext),a=n.getPrefixCls,i=n.direction,j=c.useContext(b.default),p=(0,l.default)(e.defaultValue,{value:e.value}),f=(0,r.default)(p,2),v=f[0],h=f[1];return c.createElement(m.RadioGroupContextProvider,{value:{onChange:function(t){var n=v,a=t.target.value;"value"in e||h(a);var i=e.onChange;i&&a!==n&&i(t)},value:v,disabled:e.disabled,name:e.name}},function(){var n,r=e.prefixCls,l=e.className,u=void 0===l?"":l,b=e.options,m=e.optionType,p=e.buttonStyle,f=void 0===p?"outline":p,h=e.disabled,O=e.children,y=e.size,x=e.style,g=e.id,w=e.onMouseEnter,k=e.onMouseLeave,N=a("radio",r),_="".concat(N,"-group"),C=O;if(b&&b.length>0){var S="button"===m?"".concat(N,"-button"):N;C=b.map((function(e){return"string"===typeof e?c.createElement(d.default,{key:e,prefixCls:S,disabled:h,value:e,checked:v===e},e):c.createElement(d.default,{key:"radio-group-value-options-".concat(e.value),prefixCls:S,disabled:e.disabled||h,value:e.value,checked:v===e.value,style:e.style},e.label)}))}var P=y||j,A=(0,s.default)(_,"".concat(_,"-").concat(f),(n={},(0,o.default)(n,"".concat(_,"-").concat(P),P),(0,o.default)(n,"".concat(_,"-rtl"),"rtl"===i),n),u);return c.createElement("div",{className:A,style:x,onMouseEnter:w,onMouseLeave:k,id:g,ref:t},C)}())})),p=c.memo(j);t.default=p},1442:function(e,t,n){"use strict";var a=n(26),i=n(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(44)),r=a(n(0)),c=i(n(1370)),s=n(70),l=i(n(1371)),d=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n},u=function(e,t){var n=r.useContext(l.default),a=r.useContext(s.ConfigContext).getPrefixCls,i=e.prefixCls,u=d(e,["prefixCls"]),b=a("radio-button",i);return n&&(u.checked=e.value===n.value,u.disabled=e.disabled||n.disabled),r.createElement(c.default,(0,o.default)({prefixCls:b},u,{type:"radio",ref:t}))},b=r.forwardRef(u);t.default=b},1456:function(e,t,n){"use strict";var a=n(5),i=n(0),o=n.n(i),r=n(2287),c=n(8),s=n.n(c),l=n(74),d=n(1357),u=n(1356),b=n(1378),m=n(214),j=n(12),p=n(33),f=n(1457),v=n.n(f),h=n(1),O=[.1,.3,.5],y=function(e){var t=e.showSlippage,n=e.slippage,i=e.showDeadline,c=e.deadline,s=e.onChange,d=r.a.useForm(),m=Object(a.a)(d,1)[0],p=o.a.useCallback((function(e){if(e.deadline){var t=String(e.deadline).slice(0,6);m.setFieldsValue({deadline:Number(t)})}}),[]),f=o.a.useCallback((function(){m.resetFields()}),[]),y=o.a.useCallback((function(e){null===s||void 0===s||s(e)}),[]);return Object(h.jsx)(u.a,{form:m,initialValues:{slippage:n,deadline:c},validateTrigger:["onSubmit"],onValuesChange:p,onFinish:y,children:Object(h.jsxs)("div",{className:"grid flow-row row-gap-32",children:[t&&Object(h.jsx)(u.a.Item,{label:"Slippage tolerance",children:Object(h.jsxs)("div",{className:"grid flow-col col-gap-16",children:[O.map((function(e){return Object(h.jsxs)(l.a,{type:"ghost",style:{width:70},onClick:function(){m.setFieldsValue({slippage:Number(e)})},children:[e,"%"]},e)})),Object(h.jsx)(u.a.Item,{name:"slippage",rules:[{required:!0,message:"Required"},{validator:function(e,t){return t>0&&t<=100?Promise.resolve():Promise.reject()},message:"Enter a valid slippage percentage"}],noStyle:!0,children:Object(h.jsx)(b.a,{type:"number"})})]})}),i&&Object(h.jsx)(u.a.Item,{name:"deadline",label:"Transaction deadline",rules:[{required:!0,message:"Required"}],children:Object(h.jsx)(b.a,{type:"number",className:v.a.deadlineInput,suffix:Object(h.jsx)(j.b,{type:"p1",weight:"semibold",color:"primary",children:"minutes"})})}),Object(h.jsxs)("div",{className:"grid flow-col align-center justify-space-between",children:[Object(h.jsx)(l.a,{type:"light",onClick:f,children:"Reset changes"}),Object(h.jsx)(l.a,{type:"primary",htmlType:"submit",children:"Apply changes"})]})]})})};t.a=function(e){var t=e.className,n=e.showSlippage,r=void 0!==n&&n,c=e.slippage,u=e.slippageHint,b=e.showDeadline,f=void 0!==b&&b,O=e.deadline,x=e.onChange,g=Object(i.useState)(!1),w=Object(a.a)(g,2),k=w[0],N=w[1],_=o.a.useCallback((function(e){N(!1),null===x||void 0===x||x(e)}),[]);return Object(h.jsxs)("section",{className:s()(v.a.container,t),children:[Object(h.jsxs)("header",{className:"flex ph-24 pv-16",children:[Object(h.jsx)(j.b,{type:"p2",weight:"semibold",color:"secondary",children:e.children}),Object(h.jsx)(m.a,{title:"Customize transaction",overlayStyle:{width:423},content:Object(h.jsx)(y,{showSlippage:r,slippage:c,showDeadline:f,deadline:O,onChange:_}),visible:k,onVisibleChange:N,children:Object(h.jsx)(l.a,{type:"light",className:"ml-auto",children:Object(h.jsx)(p.a,{name:"gear"})})})]}),Object(h.jsx)(d.a,{}),Object(h.jsxs)("div",{className:"ph-24 pv-16",children:[r&&Object(h.jsxs)("div",{className:"flex mb-24",children:[Object(h.jsx)(j.a,{text:u,children:Object(h.jsx)(j.b,{type:"small",weight:"semibold",color:"secondary",children:"Slippage tolerance"})}),Object(h.jsxs)(j.b,{type:"small",weight:"semibold",color:"primary",className:"ml-auto",children:[c,"%"]})]}),f&&Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)(j.a,{text:"Your transaction will revert if it isn't mined in this amount of time.",children:Object(h.jsx)(j.b,{type:"small",weight:"semibold",color:"secondary",children:"Transaction deadline"})}),Object(h.jsxs)(j.b,{type:"small",weight:"semibold",color:"primary",className:"ml-auto",children:[O," minutes"]})]})]})]})}},1457:function(e,t,n){e.exports={container:"s_container__2ZM0_",deadlineInput:"s_deadlineInput__pUUH-"}},1549:function(e,t,n){"use strict";var a=n(4),i=n(29),o=n(5),r=n(17),c=n(9),s=n.n(c),l=n(0),d=n.n(l),u=n(2287),b=n(74),m=n(1357),j=n(1356),p=n(100),f=n(1369),v=n(48),h=n(1550),O=n.n(h),y=n(1),x=["header","submitText","children","onConfirm"];t.a=function(e){var t=e.header,n=e.submitText,c=e.children,l=e.onConfirm,h=Object(r.a)(e,x),g=u.a.useForm(),w=Object(o.a)(g,1)[0],k=d.a.useState(!1),N=Object(o.a)(k,2),_=N[0],C=N[1];function S(){return(S=Object(i.a)(s.a.mark((function t(n){var i,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=n.gasPrice){t.next=3;break}return t.abrupt("return");case 3:return C(!0),t.prev=4,t.next=7,l(Object(a.a)(Object(a.a)({},n),{},{gasPrice:i.value}));case 7:null===(o=e.onCancel)||void 0===o||o.call(e),t.next=12;break;case 10:t.prev=10,t.t0=t.catch(4);case 12:C(!1);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})))).apply(this,arguments)}return Object(y.jsx)(p.a,Object(a.a)(Object(a.a)({width:560},h),{},{children:Object(y.jsxs)(j.a,{form:w,validateTrigger:["onSubmit"],onFinish:function(e){return S.apply(this,arguments)},children:[t&&Object(y.jsxs)(y.Fragment,{children:[t,Object(y.jsx)(m.a,{className:O.a.divider})]}),Object(y.jsxs)(v.a,{flow:"row",gap:32,children:[null===c||void 0===c?void 0:c({form:w,submitting:_}),Object(y.jsx)(j.a.Item,{name:"gasPrice",label:"Gas Fee (Gwei)",rules:[{required:!0,message:"Required"}],children:Object(y.jsx)(f.a,{disabled:_})}),Object(y.jsx)(b.a,{htmlType:"submit",type:"primary",loading:_,children:n})]})]})}))}},1550:function(e,t,n){e.exports={divider:"s_divider__2CK3W"}},2238:function(e,t,n){"use strict";n.r(t);var a=n(29),i=n(4),o=n(5),r=n(9),c=n.n(r),s=n(0),l=n.n(s),d=n(56),u=n(2287),b=n(19),m=n.n(b),j=n(66),p=n(65),f=n(1357),v=n(1356),h=n(1378),O=n(1366),y=n(63),x=n(1383),g=n(1456),w=n(12),k=n(183),N=n(415),_=n(417),C=n(1549),S=n(1710),P=n(1463),A=n(1404),B=n(73),F=n(1),M={formValues:{to:void 0,slippage:.5,deadline:20},isSaving:!1,depositModalVisible:!1};t.default=function(){var e,t,n,r=Object(d.g)(),s=Object(B.c)(),b=Object(A.b)(),V=Object(j.c)().getContract,E=Object(k.c)().projectToken,T=u.a.useForm(),R=Object(o.a)(T,1)[0],I=b.pool,L=b.marketId,D=b.tokenId,q=l.a.useState(M),G=Object(o.a)(q,2),Y=G[0],K=G[1],H=l.a.useState(!1),U=Object(o.a)(H,2),Z=U[0],W=U[1],z=null===I||void 0===I?void 0:I.contracts.underlying,J=null===z||void 0===z?void 0:z.balance,X=null===z||void 0===z?void 0:z.isAllowedOf(null===I||void 0===I?void 0:I.providerAddress),Q=null===z||void 0===z?void 0:z.getAllowanceOf(null===I||void 0===I?void 0:I.providerAddress),$=m.a.min(null!==Q&&void 0!==Q?Q:0,null!==J&&void 0!==J?J:0).unscaleBy(null===I||void 0===I?void 0:I.underlyingDecimals),ee=!X,te=l.a.useState(!1),ne=Object(o.a)(te,2),ae=ne[0],ie=ne[1],oe=l.a.useState(""),re=Object(o.a)(oe,2),ce=re[0],se=re[1],le=ce?m.a.from(ce):void 0;var de=l.a.useCallback((function(e){R.setFieldsValue(e),K((function(e){return Object(i.a)({},e)}))}),[]),ue=l.a.useState(),be=Object(o.a)(ue,2),me=be[0],je=be[1],pe=l.a.useState(),fe=Object(o.a)(pe,2),ve=fe[0],he=fe[1];function Oe(){if(I&&ve){if(le)return le.dividedBy(ve.dividedBy(1e18))}}function ye(){if(I&&me&&ve){var e=le,t=R.getFieldsValue().slippage;if(e)return e.multipliedBy(new m.a(1).minus(me.dividedBy(1e18))).dividedBy(ve.dividedBy(1e18)).multipliedBy(1-(null!==t&&void 0!==t?t:0)/100)}}function xe(){return(xe=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(!0),e.prev=1,e.next=4,b.actions.approveUnderlying(!0);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:ie(!1);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function ge(){return ge=Object(a.a)(c.a.mark((function e(t){var n,a,i,o,r,s,l,d,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.gasPrice,I&&me){e.next=3;break}return e.abrupt("return");case 3:if(i=le,o=R.getFieldsValue(),r=o.deadline,i){e.next=7;break}return e.abrupt("return");case 7:return K(Object(_.b)({depositModalVisible:!1,isSaving:!0})),s=I.underlyingDecimals,l=i.multipliedBy(Math.pow(10,s)),d=new m.a((null!==(n=ye())&&void 0!==n?n:m.a.ZERO).multipliedBy(Math.pow(10,s)).toFixed(0)),u=Math.floor(Date.now()/1e3+60*Number(null!==r&&void 0!==r?r:0)),e.prev=12,e.next=15,b.actions.juniorDeposit(l,d,u,a);case 15:R.resetFields(),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(12);case 20:K(Object(_.b)({isSaving:!1}));case 21:case"end":return e.stop()}}),e,null,[[12,18]])}))),ge.apply(this,arguments)}return l.a.useEffect((function(){if(I){var e=V(I.controllerAddress,(function(){return new S.a(I.controllerAddress)}));e.setProvider(s.provider),e.getJuniorBuyFee().then(je)}}),[null===I||void 0===I?void 0:I.controllerAddress]),l.a.useEffect((function(){I&&V(I.smartYieldAddress,(function(){return new P.a(I.smartYieldAddress)})).getPrice().then(he)}),[null===I||void 0===I?void 0:I.smartYieldAddress]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(w.b,{type:"h3",weight:"semibold",color:"primary",className:"mb-16",children:"Junior deposit"}),Object(F.jsx)(w.b,{type:"p2",weight:"semibold",className:"mb-32",children:"Choose the amount of junior tokens you want to purchase."}),Object(F.jsxs)(v.a,{className:"grid flow-row",form:R,initialValues:Y.formValues,onValuesChange:function(e,t){K(Object(_.b)({formValues:t}))},validateTrigger:["onSubmit"],onFinish:function(){K(Object(_.b)({depositModalVisible:!0}))},children:[Object(F.jsx)(v.a.Item,{label:"From",rules:[{required:!0,message:"Required"}],children:Object(F.jsx)(x.a,{className:"mb-24",before:Object(F.jsx)(N.a,{name:null===I||void 0===I||null===(e=I.token)||void 0===e?void 0:e.icon}),placeholder:"0 (Max ".concat(null!==(t=null===$||void 0===$?void 0:$.toNumber())&&void 0!==t?t:0,")"),max:$,disabled:Y.isSaving,decimals:null===I||void 0===I?void 0:I.underlyingDecimals,value:ce,onChange:function(e){se(e)},slider:!0})}),Object(F.jsx)(y.a,{name:"down-arrow-circle",width:32,height:32,className:"mh-auto"}),Object(F.jsx)(v.a.Item,{className:"mb-32",label:"To",extra:Object(F.jsxs)("div",{className:"grid flow-col col-gap-8 justify-center",children:[Z?Object(F.jsxs)(w.b,{type:"small",weight:"semibold",color:"secondary",children:[Object(p.a)(1/(null!==(n=null===I||void 0===I?void 0:I.state.jTokenPrice)&&void 0!==n?n:1))," ",null===I||void 0===I?void 0:I.contracts.smartYield.symbol," per"," ",null===I||void 0===I?void 0:I.underlyingSymbol]}):Object(F.jsxs)(w.b,{type:"small",weight:"semibold",color:"secondary",children:[Object(p.a)(null===I||void 0===I?void 0:I.state.jTokenPrice)," ",null===I||void 0===I?void 0:I.underlyingSymbol," per"," ",null===I||void 0===I?void 0:I.contracts.smartYield.symbol]}),Object(F.jsx)("button",{type:"button",className:"button-text",onClick:function(){W((function(e){return!e}))},children:Object(F.jsx)(y.a,{name:"refresh",width:16,height:16})})]}),dependencies:["from","slippage"],children:function(){var e,t;return Object(F.jsx)(F.Fragment,{children:Object(F.jsx)(x.b,{className:"mb-24",before:Object(F.jsx)(N.a,{name:null===I||void 0===I||null===(e=I.token)||void 0===e?void 0:e.icon,bubble1Name:E.icon,bubble2Name:null===I||void 0===I||null===(t=I.market)||void 0===t?void 0:t.icon.active,size:24}),value:Object(p.d)(Oe(),{decimals:null===I||void 0===I?void 0:I.underlyingDecimals})})})}}),Object(F.jsx)(v.a.Item,{name:"slippage",noStyle:!0,hidden:!0,children:Object(F.jsx)(h.a,{})}),Object(F.jsx)(v.a.Item,{name:"deadline",noStyle:!0,hidden:!0,children:Object(F.jsx)(h.a,{})}),Object(F.jsx)(v.a.Item,{shouldUpdate:!0,noStyle:!0,children:function(){var e=R.getFieldsValue(),t=e.slippage,n=e.deadline;return Object(F.jsx)(g.a,{className:"mb-32",showSlippage:!0,slippage:t,slippageHint:"Your transaction will revert if the amount of tokens you actually receive is smaller by this percentage.",showDeadline:!0,deadline:n,onChange:de,children:"Transaction details"})}}),Object(F.jsxs)("div",{className:"card mb-32",children:[Object(F.jsx)("div",{className:"pv-24 ph-24",children:Object(F.jsx)(w.b,{type:"p2",weight:"semibold",color:"secondary",children:"Transaction summary"})}),Object(F.jsx)(f.a,{}),Object(F.jsxs)("div",{className:"pv-24 ph-24",children:[Object(F.jsxs)("div",{className:"grid flow-col justify-space-between mb-16",children:[Object(F.jsx)(w.b,{type:"small",weight:"semibold",color:"secondary",children:"Protocol fees"}),Object(F.jsxs)(w.b,{type:"p2",weight:"semibold",color:"primary",style:{wordBreak:"break-word"},children:[Object(p.a)(null===le||void 0===le?void 0:le.multipliedBy(null!==me&&void 0!==me?me:0).dividedBy(1e18))," ",null===I||void 0===I?void 0:I.underlyingSymbol," (",Object(p.c)(null===me||void 0===me?void 0:me.dividedBy(1e18)),")"]})]}),Object(F.jsxs)("div",{className:"grid flow-col justify-space-between",children:[Object(F.jsx)(w.b,{type:"small",weight:"semibold",color:"secondary",children:"Minimum received"}),Object(F.jsx)(v.a.Item,{dependencies:["from","slippage"],noStyle:!0,children:function(){var e;return Object(F.jsxs)(w.b,{type:"p2",weight:"semibold",color:"primary",style:{wordBreak:"break-word"},children:[Object(p.a)(null!==(e=ye())&&void 0!==e?e:m.a.ZERO)," ",null===I||void 0===I?void 0:I.contracts.smartYield.symbol]})}})]})]})]}),Object(F.jsxs)("div",{className:"grid flow-col col-gap-32 align-center justify-space-between",children:[Object(F.jsxs)("button",{type:"button",className:"button-back",disabled:Y.isSaving,onClick:function(){r.push({pathname:"/smart-yield/deposit",search:"?m=".concat(L,"&t=").concat(D)})},children:[Object(F.jsx)(y.a,{name:"arrow-back",width:16,height:16,className:"mr-8",color:"inherit"}),"Cancel"]}),Object(F.jsxs)("div",{className:"flex",children:[!1===X&&Object(F.jsxs)("button",{type:"button",className:"button-ghost mr-24",disabled:ae,onClick:function(){return xe.apply(this,arguments)},children:[Object(F.jsx)(O.a,{spinning:ae}),"Enable ",null===I||void 0===I?void 0:I.underlyingSymbol]}),Object(F.jsxs)("button",{type:"submit",className:"button-primary",disabled:ee,children:[Object(F.jsx)(O.a,{spinning:Y.isSaving}),"Deposit"]})]})]})]}),Y.depositModalVisible&&Object(F.jsx)(C.a,{title:"Confirm your deposit",header:Object(F.jsxs)("div",{className:"grid flow-col col-gap-32",children:[Object(F.jsxs)("div",{className:"grid flow-row row-gap-4",children:[Object(F.jsx)(w.b,{type:"small",weight:"semibold",color:"secondary",children:"Minimum received"}),Object(F.jsxs)(w.b,{type:"p1",weight:"semibold",color:"primary",children:[Object(p.a)(ye())," ",null===I||void 0===I?void 0:I.contracts.smartYield.symbol]})]}),Object(F.jsxs)("div",{className:"grid flow-row row-gap-4",children:[Object(F.jsx)(w.b,{type:"small",weight:"semibold",color:"secondary",children:"Deposited"}),Object(F.jsxs)(w.b,{type:"p1",weight:"semibold",color:"primary",children:[Object(p.a)(le)," ",null===I||void 0===I?void 0:I.underlyingSymbol]})]}),Object(F.jsxs)("div",{className:"grid flow-row row-gap-4",children:[Object(F.jsx)(w.b,{type:"small",weight:"semibold",color:"secondary",children:"Transaction fees"}),Object(F.jsxs)(w.b,{type:"p1",weight:"semibold",color:"primary",children:[Object(p.a)(null===le||void 0===le?void 0:le.multipliedBy(null!==me&&void 0!==me?me:0).dividedBy(1e18))," ",null===I||void 0===I?void 0:I.underlyingSymbol," (",Object(p.c)(null===me||void 0===me?void 0:me.dividedBy(1e18)),")"]})]})]}),submitText:"Confirm your deposit",onCancel:function(){K(Object(_.b)({depositModalVisible:!1}))},onConfirm:function(e){return ge.apply(this,arguments)}})]})}}}]);
//# sourceMappingURL=35.997ce7bd.chunk.js.map