(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[18],{1358:function(e,t,n){"use strict";var a=n(4),r=n(17),c=(n(0),n(1366)),s=n.n(c),o=n(8),i=n.n(o),u=n(33),l=n(48),d=n(99),b=n(1362),f=n.n(b),p=n(1),m=["children"],j=["className","label","hint","extra","children"],h=["className","children"],v=function(e){var t=e.className,n=e.children,c=Object(r.a)(e,h);return Object(p.jsx)(s.a,Object(a.a)(Object(a.a)({className:i()(f.a.form,t),layout:"vertical",requiredMark:!1},c),{},{children:n}))};v.Item=function(e){var t=e.className,n=e.label,c=e.hint,o=e.extra,b=e.children,m=Object(r.a)(e,j);return Object(p.jsx)(s.a.Item,Object(a.a)(Object(a.a)({className:i()(f.a.item,t)},m),{},{label:Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(l.a,{flow:"col",gap:4,align:"center",children:[n,c&&Object(p.jsx)(d.a,{title:c,children:Object(p.jsx)("span",{children:Object(p.jsx)(u.a,{name:"info",size:15})})})]}),o]}),children:b}))},v.List=function(e){var t=e.children,n=Object(r.a)(e,m);return Object(p.jsx)(s.a.List,Object(a.a)(Object(a.a)({},n),{},{children:t}))},t.a=v},1359:function(e,t,n){"use strict";var a=n(4),r=n(17),c=(n(0),n(1395)),s=n.n(c),o=n(8),i=n.n(o),u=n(1364),l=n.n(u),d=n(1),b=["className"];t.a=function(e){var t=e.className,n=Object(r.a)(e,b);return Object(d.jsx)(s.a,Object(a.a)({className:i()(l.a.divider,t)},n))}},1360:function(e,t,n){"use strict";var a=n(22);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Group",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return s.default}}),t.default=void 0;var r=a(n(1372)),c=a(n(1443)),s=a(n(1444)),o=r.default;o.Button=s.default,o.Group=c.default;var i=o;t.default=i},1362:function(e,t,n){e.exports={form:"s_form__36nMg",item:"s_item__2gbuN"}},1364:function(e,t,n){e.exports={divider:"s_divider__3YM-J"}},1367:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return O}));var a=n(5),r=n(0),c=n(425),s=n(421),o=n.n(s),i=n(427),u=n(80),l=n(37),d=n(20),b=n(73),f=n(66),p=n(119),m=n(1);function j(e){var t=Object(r.useRef)();return o()(e,t.current)||(t.current=e),t.current}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.loadBalance,c=t.loadCommon,s=t.loadAllowance,o=Object(b.c)(),i=o.provider,d=o.account,m=Object(p.a)(),h=Object(a.a)(m,1),v=h[0],O=Object(f.c)(),y=O.getContract,x=Object(r.useMemo)((function(){if(!e)return null;var t=y(e,(function(){return new u.a([],e)}));return t.on(l.d.UPDATE_DATA,v),t}),[e,i,v]);Object(r.useEffect)((function(){x&&n&&(x.setAccount(d),x.loadBalance())}),[x,n,d]),Object(r.useEffect)((function(){x&&c&&x.loadCommon().then((function(){return v()})).catch(Error)}),[x,c,v]);var w=j(s);return Object(r.useEffect)((function(){x&&w&&(Array.isArray(w)?w.forEach((function(e){return x.loadAllowance(e)})):x.loadAllowance(w))}),[x,w]),x};function v(e){var t=(null!==e&&void 0!==e?e:{}).listeners,n=void 0===t||t,s=Object(b.c)(),o=s.account,u=s.provider,l=Object(d.h)().activeProvider,f=Object(p.a)(),j=Object(a.a)(f,2),h=j[0],v=j[1],O=Object(r.useRef)(l),y=Object(r.useRef)(u),x=Object(r.useRef)(o),w=Object(r.useRef)(new Map),g=Object(r.useCallback)((function(e,t,n){var a,r=t();return r.setCallProvider(O.current),r.setProvider(y.current),r.setAccount(x.current),w.current.set(e,{address:e,factory:t,options:n,instance:r}),null===n||void 0===n||null===(a=n.afterInit)||void 0===a||a.call(n,r),h(),r}),[l,o,h]),k=Object(c.a)((function(){w.current.forEach((function(e){var t,n;null===(t=e.options)||void 0===t||null===(n=t.onDestroy)||void 0===n||n.call(t,e.instance),g(e.address,(function(){return e.instance}),e.options)}))}),250);O.current!==l&&(O.current=l,k()),y.current!==u&&(y.current=u,k()),x.current!==o&&(x.current=o,k());var C=Object(r.useCallback)((function(e,t,n){return w.current.has(e)?w.current.get(e).instance:g(e,t,n)}),[g]);return{getOrCreateContract:C,getContract:Object(r.useCallback)((function(e){if(w.current.has(e))return w.current.get(e).instance}),[g]),Listeners:Object(r.useMemo)((function(){return n?Object(m.jsx)(m.Fragment,{children:Array.from(w.current).map((function(e){var t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)(i.a,{contract:r.instance},n)}))}):null}),[v,n])}}function O(e,t){return v({listeners:!1}).getOrCreateContract("$address",e,t)}},1368:function(e,t,n){"use strict";var a=n(4),r=n(17),c=n(0),s=n.n(c),o=n(1621),i=n(249),u=n.n(i),l=n(8),d=n.n(l),b=n(1384),f=n.n(b),p=n(1),m=["type","className"];t.a=function(e){var t=e.type,n=void 0===t?"default":t,c=e.className,i=Object(r.a)(e,m),l=s.a.useMemo((function(){if("circle"===n)return Object(p.jsx)(o.a,{spin:!0})}),[n]);return Object(p.jsx)(u.a,Object(a.a)({indicator:l,className:d()(f.a.spin,c)},i))}},1371:function(e,t,n){"use strict";var a=n(4),r=n(5),c=n(17),s=n(0),o=n.n(s),i=n(1360),u=n.n(i),l=n(249),d=n.n(l),b=n(1374),f=n(48),p=n(12),m=n(50),j=n(419),h=n(1377),v=n.n(h),O=n(1),y=["className","value","onChange"];t.a=function(e){var t=e.className,n=e.value,s=(e.onChange,Object(c.a)(e,y)),i=Object(m.b)().activeNetwork,l=Object(j.a)({options:[],loading:!1,selected:void 0}),h=Object(r.a)(l,2),x=h[0],w=h[1];return o.a.useEffect((function(){w({loading:!0});var e="".concat(i.explorer.apiUrl,"/api?module=gastracker&action=gasoracle&apikey=").concat(i.explorer.key);fetch(e).then((function(e){return e.json()})).then((function(e){return e.result})).then((function(e){return{veryFast:Number(e.FastGasPrice),fast:Number(e.ProposeGasPrice),average:Math.round((Number(e.ProposeGasPrice)+Number(e.SafeGasPrice))/2),safeLow:Number(e.SafeGasPrice)}})).then((function(e){var t=[{key:"fastest",name:"Very fast",value:e.veryFast},{key:"fast",name:"Fast",value:e.fast},{key:"average",name:"Standard",value:e.average},{key:"safeLow",name:"Slow",value:e.safeLow}];w({loading:!1,options:t})})).catch((function(){w({loading:!1})}))}),[]),o.a.useEffect((function(){var t;void 0===n&&x.options.length>2&&(null===(t=e.onChange)||void 0===t||t.call(e,x.options[2]))}),[n,x.options]),o.a.useEffect((function(){w({selected:n})}),[n]),Object(O.jsx)(u.a.Group,Object(a.a)(Object(a.a)({className:t,style:{width:"100%"}},s),{},{value:x.selected,onChange:function(t){var n;null===(n=e.onChange)||void 0===n||n.call(e,t.target.value)},children:x.loading?Object(O.jsx)(d.a,{}):Object(O.jsx)("div",{className:v.a.list,children:x.options.map((function(e){return Object(O.jsx)(b.a,{label:Object(O.jsx)(p.b,{type:"p1",weight:"semibold",color:"primary",children:e.name}),hint:Object(O.jsxs)(f.a,{flow:"col",gap:4,children:[Object(O.jsx)(p.b,{type:"p1",weight:"semibold",color:"primary",children:e.value}),Object(O.jsx)(p.b,{type:"p2",weight:"semibold",color:"secondary",children:"Gwei"})]}),value:e},e.key)}))})}))}},1372:function(e,t,n){"use strict";var a=n(26),r=n(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(72)),s=r(n(44)),o=a(n(0)),i=r(n(1398)),u=r(n(8)),l=n(644),d=n(70),b=r(n(1373)),f=r(n(248)),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},m=function(e,t){var n,a=o.useContext(b.default),r=o.useContext(d.ConfigContext),m=r.getPrefixCls,j=r.direction,h=o.useRef(),v=(0,l.composeRef)(t,h);o.useEffect((function(){(0,f.default)(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var O=e.prefixCls,y=e.className,x=e.children,w=e.style,g=p(e,["prefixCls","className","children","style"]),k=m("radio",O),C=(0,s.default)({},g);a&&(C.name=a.name,C.onChange=function(t){e.onChange&&e.onChange(t),(null===a||void 0===a?void 0:a.onChange)&&a.onChange(t)},C.checked=e.value===a.value,C.disabled=e.disabled||a.disabled);var _=(0,u.default)("".concat(k,"-wrapper"),(n={},(0,c.default)(n,"".concat(k,"-wrapper-checked"),C.checked),(0,c.default)(n,"".concat(k,"-wrapper-disabled"),C.disabled),(0,c.default)(n,"".concat(k,"-wrapper-rtl"),"rtl"===j),n),y);return o.createElement("label",{className:_,style:w,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.createElement(i.default,(0,s.default)({},C,{prefixCls:k,ref:v})),void 0!==x?o.createElement("span",null,x):null)},j=o.forwardRef(m);j.displayName="Radio",j.defaultProps={type:"radio"};var h=j;t.default=h},1373:function(e,t,n){"use strict";var a=n(26);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RadioGroupContextProvider=void 0;var r=a(n(0)).createContext(null),c=r.Provider;t.RadioGroupContextProvider=c;var s=r;t.default=s},1374:function(e,t,n){"use strict";var a=n(4),r=n(17),c=(n(0),n(1360)),s=n.n(c),o=n(8),i=n.n(o),u=n(48),l=n(1376),d=n.n(l),b=n(1),f=["label","hint","className"];t.a=function(e){var t=e.label,n=e.hint,c=e.className,o=Object(r.a)(e,f);return Object(b.jsx)(s.a,Object(a.a)(Object(a.a)({className:i()(d.a.component,c)},o),{},{children:Object(b.jsxs)(u.a,{flow:"row",gap:4,children:[t,n]})}))}},1376:function(e,t,n){e.exports={component:"s_component__2RWFR"}},1377:function(e,t,n){e.exports={list:"s_list__mhVNU"}},1379:function(e,t,n){"use strict";var a=n(4),r=n(29),c=n(5),s=n(17),o=n(9),i=n.n(o),u=n(0),l=n.n(u),d=n(2289),b=n(74),f=n(1359),p=n(1358),m=n(100),j=n(1371),h=n(48),v=n(50);var O=n(1429),y=n.n(O),x=n(1),w=["header","submitText","children","onConfirm"];t.a=function(e){var t=e.header,n=e.submitText,o=e.children,O=e.onConfirm,g=Object(s.a)(e,w),k=Object(v.b)().activeNetwork,C=d.a.useForm(),_=Object(c.a)(C,1)[0],N=l.a.useState(!1),P=Object(c.a)(N,2),R=P[0],T=P[1],F=function(){var e=Object(u.useRef)(!1);return Object(u.useEffect)((function(){return function(){e.current=!0}}),[]),e}();function E(){return(E=Object(r.a)(i.a.mark((function t(n){var r,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.gasPrice,T(!0),t.prev=2,t.next=5,O(Object(a.a)(Object(a.a)({},n),{},{gasPrice:null===r||void 0===r?void 0:r.value}));case 5:null===(c=e.onCancel)||void 0===c||c.call(e),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(2);case 10:F.current||T(!1);case 11:case"end":return t.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return Object(x.jsx)(m.a,Object(a.a)(Object(a.a)({width:560},g),{},{children:Object(x.jsxs)(p.a,{form:_,validateTrigger:["onSubmit"],onFinish:function(e){return E.apply(this,arguments)},children:[t&&Object(x.jsxs)(x.Fragment,{children:[t,Object(x.jsx)(f.a,{className:y.a.divider})]}),Object(x.jsxs)(h.a,{flow:"row",gap:32,children:[null===o||void 0===o?void 0:o({form:_,submitting:R}),k.config.features.gasFees&&Object(x.jsx)(p.a.Item,{name:"gasPrice",label:"Gas Fee (Gwei)",rules:[{required:!0,message:"Required"}],children:Object(x.jsx)(j.a,{disabled:R})}),Object(x.jsx)(b.a,{htmlType:"submit",type:"primary",loading:R,children:n})]})]})}))}},1384:function(e,t,n){e.exports={spin:"s_spin__1EZtC"}},1398:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n(13),c=n(17),s=n(4),o=n(14),i=n(16),u=n(23),l=n(24),d=n(0),b=n.n(d),f=n(8),p=n.n(f),m=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;Object(o.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=a.props,n=t.disabled,r=t.onChange;n||("checked"in a.props||a.setState({checked:e.target.checked}),r&&r({target:Object(s.a)(Object(s.a)({},a.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},a.saveInput=function(e){a.input=e};var r="checked"in e?e.checked:e.defaultChecked;return a.state={checked:r},a}return Object(i.a)(n,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,s=t.className,o=t.style,i=t.name,u=t.id,l=t.type,d=t.disabled,f=t.readOnly,m=t.tabIndex,j=t.onClick,h=t.onFocus,v=t.onBlur,O=t.onKeyDown,y=t.onKeyPress,x=t.onKeyUp,w=t.autoFocus,g=t.value,k=t.required,C=Object(c.a)(t,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_=Object.keys(C).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=C[t]),e}),{}),N=this.state.checked,P=p()(n,s,(e={},Object(r.a)(e,"".concat(n,"-checked"),N),Object(r.a)(e,"".concat(n,"-disabled"),d),e));return b.a.createElement("span",{className:P,style:o},b.a.createElement("input",Object(a.a)({name:i,id:u,type:l,required:k,readOnly:f,disabled:d,tabIndex:m,className:"".concat(n,"-input"),checked:!!N,onClick:j,onFocus:h,onBlur:v,onKeyUp:x,onKeyDown:O,onKeyPress:y,onChange:this.handleChange,autoFocus:w,ref:this.saveInput,value:g},_)),b.a.createElement("span",{className:"".concat(n,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Object(s.a)(Object(s.a)({},t),{},{checked:e.checked}):null}}]),n}(d.Component);m.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.default=m},1429:function(e,t,n){e.exports={divider:"s_divider__1jS-8"}},1443:function(e,t,n){"use strict";var a=n(26),r=n(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(72)),s=r(n(57)),o=a(n(0)),i=r(n(8)),u=r(n(1410)),l=r(n(1372)),d=n(70),b=r(n(326)),f=n(1373),p=o.forwardRef((function(e,t){var n=o.useContext(d.ConfigContext),a=n.getPrefixCls,r=n.direction,p=o.useContext(b.default),m=(0,u.default)(e.defaultValue,{value:e.value}),j=(0,s.default)(m,2),h=j[0],v=j[1];return o.createElement(f.RadioGroupContextProvider,{value:{onChange:function(t){var n=h,a=t.target.value;"value"in e||v(a);var r=e.onChange;r&&a!==n&&r(t)},value:h,disabled:e.disabled,name:e.name}},function(){var n,s=e.prefixCls,u=e.className,d=void 0===u?"":u,b=e.options,f=e.optionType,m=e.buttonStyle,j=void 0===m?"outline":m,v=e.disabled,O=e.children,y=e.size,x=e.style,w=e.id,g=e.onMouseEnter,k=e.onMouseLeave,C=a("radio",s),_="".concat(C,"-group"),N=O;if(b&&b.length>0){var P="button"===f?"".concat(C,"-button"):C;N=b.map((function(e){return"string"===typeof e?o.createElement(l.default,{key:e,prefixCls:P,disabled:v,value:e,checked:h===e},e):o.createElement(l.default,{key:"radio-group-value-options-".concat(e.value),prefixCls:P,disabled:e.disabled||v,value:e.value,checked:h===e.value,style:e.style},e.label)}))}var R=y||p,T=(0,i.default)(_,"".concat(_,"-").concat(j),(n={},(0,c.default)(n,"".concat(_,"-").concat(R),R),(0,c.default)(n,"".concat(_,"-rtl"),"rtl"===r),n),d);return o.createElement("div",{className:T,style:x,onMouseEnter:g,onMouseLeave:k,id:w,ref:t},N)}())})),m=o.memo(p);t.default=m},1444:function(e,t,n){"use strict";var a=n(26),r=n(22);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(n(44)),s=a(n(0)),o=r(n(1372)),i=n(70),u=r(n(1373)),l=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n},d=function(e,t){var n=s.useContext(u.default),a=s.useContext(i.ConfigContext).getPrefixCls,r=e.prefixCls,d=l(e,["prefixCls"]),b=a("radio-button",r);return n&&(d.checked=e.value===n.value,d.disabled=e.disabled||n.disabled),s.createElement(o.default,(0,c.default)({prefixCls:b},d,{type:"radio",ref:t}))},b=s.forwardRef(d);t.default=b},1561:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var a=n(434);function r(e){var t=Object(a.a)(Date.now()),n=function(e){var t=Object(a.a)(Date.now());return t<e.epoch1Start?0:Math.floor((t-e.epoch1Start)/e.epochDuration+1)}(e),r=e.epoch1Start+n*e.epochDuration;return t<r?r-t:0}function c(e){switch(e){case"WETH (USD) BPT":return["balancer","usd","eth"];case"WBTC (USD) BPT":return["balancer","usd","wbtc"];case"KPI_WETH-USD-1w":return["uma","usd","weth"];case"KPI_WBTC-USD-1w":return["uma","usd","wbtc"];default:return["unknown","unknown","unknown"]}}},1616:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(4),r=n(8),c=n.n(r),s=n(38),o=n(12),i=n(33),u=n(1684),l=n.n(u),d=n(1),b=function(e){var t=e.type,n=void 0===t?"link":t,a=e.href,r=e.children;return"link"===n?Object(d.jsx)(s.e,{variation:"link",to:a,children:r}):Object(d.jsx)(s.d,{variation:"link",href:a,children:r})};function f(e){switch(e){case"info":return"info";case"warning":return"danger";case"error":return"error"}}var p=function(e){var t=e.type,n=e.className,r=e.children,s=e.title,u=e.link;return Object(d.jsxs)("div",{className:c()(l.a.alert,l.a[t],n),children:[Object(d.jsx)(i.a,{name:f(t),size:24,className:"mr-16"}),Object(d.jsxs)("div",{children:[s?Object(d.jsx)(o.b,{type:"p2",weight:"bold",className:"mb-4",children:s}):null,r?Object(d.jsx)(o.b,{type:"p2",weight:"semibold",children:r}):null,u?Object(d.jsx)(b,Object(a.a)({},u)):null]})]})}},1684:function(e,t,n){e.exports={alert:"s_alert__2vNah",info:"s_info__3TCZE",warning:"s_warning__5QlkP",error:"s_error__Zg2fw"}},1812:function(e,t,n){"use strict";var a=n(5),r=n(29),c=n(14),s=n(16),o=n(23),i=n(24),u=n(9),l=n.n(u),d=n(19),b=n.n(d),f=n(37),p=[{name:"poolSize",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"rewardLeft",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"claim",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"balances",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"rewardRatePerSecond",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"deposit",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"withdraw",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"withdrawAndClaim",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]}],m=[{name:"poolSize",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"numRewardTokens",type:"function",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"rewardLeft",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"rewardTokens",type:"function",inputs:[{name:"",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"claim",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"balances",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"rewardRatesPerSecond",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"deposit",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"withdraw",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"withdrawAndClaim",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"claim_allTokens",type:"function",inputs:[],outputs:[{name:"amounts",type:"uint256[]"}]}],j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(c.a)(this,n),(a=t.call(this,r?m:p,e,""))._isMulti=void 0,a.poolSize=void 0,a.rewardTokensCount=void 0,a.rewardLeft=new Map,a.rewardRates=new Map,a.balances=new Map,a.claims=new Map,a._isMulti=r,a.on(f.d.UPDATE_ACCOUNT,(function(){a.balances.clear(),a.claims.clear()})),a}return Object(s.a)(n,[{key:"loadCommon",value:function(){var e=Object(r.a)(l.a.mark((function e(){var t,n,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.poolSize=void 0,e.next=3,this.batch([{method:"poolSize"},{method:"numRewardTokens"}]);case 3:t=e.sent,n=Object(a.a)(t,2),r=n[0],c=n[1],this.poolSize=b.a.from(r),this.rewardTokensCount=Number(c)||1,this.emit(f.d.UPDATE_DATA);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadRewardLeftFor",value:function(){var e=Object(r.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("rewardLeft",this._isMulti?[t]:[]);case 2:n=e.sent,this.rewardLeft.set(t,new b.a(n)),this.emit(f.d.UPDATE_DATA);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadRewardRateFor",value:function(){var e=Object(r.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isMulti){e.next=6;break}return e.next=3,this.call("rewardRatesPerSecond",[t]);case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,this.call("rewardRatePerSecond",[]);case 8:n=e.sent;case 9:this.rewardRates.set(t,new b.a(n)),this.emit(f.d.UPDATE_DATA);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRewardLeftFor",value:function(e){return this.rewardLeft.get(e)}},{key:"getRewardRateFor",value:function(e){return this.rewardRates.get(e)}},{key:"getDailyRewardFor",value:function(e){var t;return null===(t=this.rewardRates.get(e))||void 0===t?void 0:t.multipliedBy(86400)}},{key:"getMyDailyRewardFor",value:function(e){var t,n=this.getBalanceFor(this.account);if(n&&this.poolSize){if(this.poolSize.eq(b.a.ZERO))return b.a.ZERO;var a=n.dividedBy(this.poolSize);return null===(t=this.getDailyRewardFor(e))||void 0===t?void 0:t.multipliedBy(a)}}},{key:"loadBalanceFor",value:function(){var e=Object(r.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("balances",[t],{from:this.account});case 2:n=e.sent,this.balances.set(t,new b.a(n)),this.emit(f.d.UPDATE_DATA);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getBalanceFor",value:function(e){return this.balances.get(e)}},{key:"loadClaimFor",value:function(){var e=Object(r.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("claim",this._isMulti?[t]:[],{from:this.account});case 2:n=e.sent,this.claims.set(t,new b.a(n)),this.emit(f.d.UPDATE_DATA);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getClaimFor",value:function(e){return this.claims.get(e)}},{key:"hasToClaim",value:function(){return Array.from(this.claims.values()).some((function(e){return e.gt(0)}))}},{key:"sendClaimAll",value:function(){var e=Object(r.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send(this._isMulti?"claim_allTokens":"claim",[],{},t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendDeposit",value:function(){var e=Object(r.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("deposit",[t],{},n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendWithdraw",value:function(){var e=Object(r.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("withdraw",[t],{},n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendWithdrawAndClaim",value:function(){var e=Object(r.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("withdrawAndClaim",[t],{},n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(f.d);t.a=j},2223:function(e,t,n){e.exports={card:"s_card__37e1L",header:"s_header__2BK7M",endedLabel:"s_endedLabel__3Ees0",tabs:"s_tabs__3mnz5",tabSelection:"s_tabSelection__1pKyI",toggled:"s_toggled__2R9RI",tab:"s_tab__2URZv",active:"s_active__1peCQ",defRow:"s_defRow__1SapJ",footer:"s_footer__3GPWw"}},2224:function(e,t,n){e.exports={cards:"s_cards__2fT2p"}},2267:function(e,t,n){"use strict";n.r(t);var a=n(249),r=n.n(a),c=n(1616),s=n(426),o=n(29),i=n(5),u=n(9),l=n.n(u),d=n(0),b=n.n(d),f=n(58),p=n(8),m=n.n(p),j=n(427),h=n(1379),v=n(65),O=n(1368),y=n(99),x=n(12),w=n(417),g=n(1367),k=n(119),C=n(1812),_=n(73),N=n(1561),P=n(2223),R=n.n(P),T=n(1),F=function(e){var t,n,a,r,c=e.className,s=e.kpiOption,u=Object(_.c)(),p=Object(k.a)(),P=Object(i.a)(p,1)[0],F=Object(d.useState)("pool"),E=Object(i.a)(F,2),S=E[0],A=E[1],M=Object(d.useState)(!1),D=Object(i.a)(M,2),B=D[0],L=D[1],U=Object(d.useState)(!1),z=Object(i.a)(U,2),I=z[0],K=z[1],G=Object(g.c)((function(){return new C.a(s.poolAddress,"MULTI"===s.poolType)}),{afterInit:function(e){e.onUpdateData(P),e.loadCommon(),u.account&&e.loadBalanceFor(u.account),s.rewardTokens.forEach((function(t){e.loadRewardRateFor(t.address),e.loadRewardLeftFor(t.address),e.loadBalanceFor(t.address),e.loadClaimFor(t.address)}))}});var W=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!1),K(!0),e.prev=2,e.next=5,G.sendClaimAll(t.gasPrice);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:K(!1);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),q=Object(N.a)(s.poolToken.symbol),Z=Object(i.a)(q,3),J=Z[0],V=Z[1],$=Z[2];return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("section",{className:m()(R.a.card,c),children:[Object(T.jsxs)("header",{className:R.a.header,children:[Object(T.jsx)(w.a,{name:J,bubble1Name:V,bubble2Name:$,outline:["purple","green"],size:36,className:"mr-16"}),Object(T.jsx)(x.b,{type:"p1",weight:"semibold",children:s.poolToken.symbol})]}),Object(T.jsxs)("div",{className:R.a.tabs,children:[Object(T.jsx)("div",{className:m()(R.a.tabSelection,"my"===S&&R.a.toggled)}),Object(T.jsx)("button",{type:"button",className:m()(R.a.tab,"pool"===S&&R.a.active),onClick:function(){return A("pool")},children:"Pool statistics"}),Object(T.jsx)("button",{type:"button",className:m()(R.a.tab,"my"===S&&R.a.active),disabled:!u.isActive,onClick:function(){return A("my")},children:"My statistics"})]}),"pool"===S&&Object(T.jsxs)("dl",{children:[s.rewardTokens.map((function(e){var t,n,a,r=Object(N.a)(e.symbol),c=Object(i.a)(r,3),s=c[0],o=c[1],u=c[2];return Object(T.jsxs)(b.a.Fragment,{children:[Object(T.jsxs)("div",{className:R.a.defRow,children:[Object(T.jsx)("dt",{children:Object(T.jsxs)(x.a,{text:"This number shows the $".concat(e.symbol," token rewards distributed per day."),children:[e.symbol," daily rewards"]})}),Object(T.jsxs)("dd",{children:[Object(T.jsx)(w.a,{name:s,bubble1Name:o,bubble2Name:u,className:"mr-8",size:"16"}),null!==(t=G.getRewardLeftFor(e.address))&&void 0!==t&&t.isZero()?"0":null!==(n=Object(v.d)(G.getDailyRewardFor(e.address),{scale:e.decimals}))&&void 0!==n?n:"-"]})]}),Object(T.jsxs)("div",{className:R.a.defRow,children:[Object(T.jsx)("dt",{children:Object(T.jsxs)(x.a,{text:"This number shows the $".concat(e.symbol," token rewards remaining."),children:[e.symbol," rewards balance"]})}),Object(T.jsxs)("dd",{children:[Object(T.jsx)(w.a,{name:s,bubble1Name:o,bubble2Name:u,className:"mr-8",size:"16"}),null!==(a=Object(v.d)(G.getRewardLeftFor(e.address),{scale:e.decimals}))&&void 0!==a?a:"-"]})]})]},e.symbol)})),Object(T.jsxs)("div",{className:R.a.defRow,children:[Object(T.jsx)("dt",{children:"Balancer tokens"}),Object(T.jsxs)("dd",{children:[Object(T.jsx)(w.a,{name:J,bubble1Name:V,bubble2Name:$,outline:["purple","green"],size:16,className:"mr-8"}),null!==(t=Object(v.d)(null===(n=G.poolSize)||void 0===n?void 0:n.unscaleBy(s.poolToken.decimals)))&&void 0!==t?t:"-"]})]})]}),"my"===S&&u.isActive&&Object(T.jsxs)("dl",{children:[s.rewardTokens.map((function(e){var t,n,a=Object(N.a)(e.symbol),r=Object(i.a)(a,3),c=r[0],s=r[1],o=r[2];return Object(T.jsxs)(b.a.Fragment,{children:[Object(T.jsxs)("div",{className:R.a.defRow,children:[Object(T.jsx)("dt",{children:Object(T.jsxs)(x.a,{text:"This number shows the $".concat(e.symbol," rewards you would potentially be able to harvest daily, but is subject to change - in case more users deposit, or you withdraw some of your stake."),children:["My daily ",e.symbol," reward"]})}),Object(T.jsxs)("dd",{children:[Object(T.jsx)(w.a,{name:c,bubble1Name:s,bubble2Name:o,className:"mr-8",size:"16"}),null!==(t=Object(v.d)(G.getMyDailyRewardFor(e.address),{scale:e.decimals}))&&void 0!==t?t:"-"]})]}),Object(T.jsxs)("div",{className:R.a.defRow,children:[Object(T.jsxs)("dt",{children:["My current ",e.symbol," reward"]}),Object(T.jsxs)("dd",{children:[Object(T.jsx)(w.a,{name:c,bubble1Name:s,bubble2Name:o,className:"mr-8",size:"16"}),null!==(n=Object(v.d)(G.getClaimFor(e.address),{scale:e.decimals}))&&void 0!==n?n:"-"]})]})]},e.address)})),Object(T.jsxs)("div",{className:R.a.defRow,children:[Object(T.jsx)("dt",{children:"Staked balance"}),Object(T.jsxs)("dd",{children:[Object(T.jsx)(w.a,{name:J,bubble1Name:V,bubble2Name:$,outline:["purple","green"],size:16,className:"mr-8"}),null!==(a=Object(v.d)(null===(r=G.getBalanceFor(u.account))||void 0===r?void 0:r.unscaleBy(s.poolToken.decimals)))&&void 0!==a?a:"-"]})]})]}),Object(T.jsxs)("footer",{className:R.a.footer,children:[Object(T.jsx)(f.b,{className:"button-primary full-width",to:"/smart-alpha/kpi-options/".concat(s.poolAddress),children:"View pool"}),u.isActive&&"my"===S&&Object(T.jsxs)("button",{type:"button",className:"button-ghost",disabled:!G.hasToClaim(),onClick:function(){s.rewardTokens.forEach((function(e){G.loadClaimFor(e.address)})),L(!0)},children:[I&&Object(T.jsx)(O.a,{type:"circle"}),"Claim"]})]})]}),B&&Object(T.jsx)(h.a,{title:"Confirm your claim",header:Object(T.jsx)("div",{className:"flex justify-center",children:s.rewardTokens.map((function(e){var t,n,a=Object(N.a)(e.symbol),r=Object(i.a)(a,3),c=r[0],s=r[1],o=r[2];return Object(T.jsxs)(y.a,{className:"flex col-gap-8 align-center justify-center mr-16",title:null!==(t=Object(v.d)(G.getClaimFor(e.address),{decimals:e.decimals,scale:e.decimals,tokenName:e.symbol}))&&void 0!==t?t:"-",children:[Object(T.jsx)(x.b,{type:"h2",weight:"semibold",color:"primary",children:null!==(n=Object(v.d)(G.getClaimFor(e.address),{compact:!0,scale:e.decimals}))&&void 0!==n?n:"-"}),Object(T.jsx)(w.a,{name:c,bubble1Name:s,bubble2Name:o,size:32})]},e.symbol)}))}),submitText:"Claim",onCancel:function(){return L(!1)},onConfirm:W}),Object(T.jsx)(j.a,{contract:G})]})},E=n(2224),S=n.n(E);t.default=function(){var e=Object(s.d)(),t=e.loading,n=e.data;return Object(T.jsx)(r.a,{spinning:t,children:Object(T.jsxs)("div",{className:"mh-auto",style:{maxWidth:"1240px"},children:[Object(T.jsxs)(c.a,{type:"info",className:"mb-32",children:["Check out our ongoing Key Performance Indicator option program by depositing into either the WETH (USD) or WBTC (USD) Balancer pools linked below:",Object(T.jsxs)("div",{children:[Object(T.jsx)("a",{href:"https://pools.balancer.exchange/#/pool/0x86859d09d5fd6bdbab2db4f0073ddadaa57018b1",rel:"noopener noreferrer",target:"_blank",children:"Balancer Pool 1"})," ",Object(T.jsx)("a",{href:"https://pools.balancer.exchange/#/pool/0xc4e5e56110ea66963ae59d18df9f30ac960fea18",rel:"noopener noreferrer",target:"_blank",children:"Balancer Pool 2"})]})]}),Object(T.jsx)("div",{className:S.a.cards,children:null===n||void 0===n?void 0:n.map((function(e){return Object(T.jsx)(F,{kpiOption:e},e.poolAddress)}))})]})})}}}]);
//# sourceMappingURL=sa-kpi-options-view.ef55839d.chunk.js.map