(this["webpackJsonpbarnbridge-frontend"]=this["webpackJsonpbarnbridge-frontend"]||[]).push([[47],{1370:function(t,e,n){"use strict";n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return v})),n.d(e,"g",(function(){return y})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return w})),n.d(e,"f",(function(){return j})),n.d(e,"e",(function(){return k}));var a,r=n(4),o=n(17),i=n(13),c=(n(0),n(58)),u=n(8),s=n.n(u),l=n(1545),d=n.n(l),p=n(1),m=["className","children"],f=["className"],b=["id","className","onClick"],h=function(t){var e=t.className,n=t.tabs,a=t.shadows,u=void 0!==a&&a;return Object(p.jsx)("div",{className:s()(d.a.tabs,e,Object(i.a)({},d.a.shadows,u)),style:{"--tabs-bg":"var(".concat("string"===typeof u?u:"--theme-body-color",")")},children:n.map((function(t,e){var n=t.className,a=t.children,i=Object(o.a)(t,m);return i.to?Object(p.jsx)(c.c,Object(r.a)(Object(r.a)({className:s()(d.a.tab,n),activeClassName:d.a.active},i),{},{children:a}),e):Object(p.jsx)("a",Object(r.a)(Object(r.a)({className:s()(d.a.tab,n),rel:"noopener noreferrer",target:"_blank"},i),{},{children:a}),e)}))})},v=function(t){var e=t.className,n=Object(o.a)(t,f);return Object(p.jsx)(h,Object(r.a)(Object(r.a)({},n),{},{className:s()(d.a.horizontalMenu,e)}))},y=function(t){var e,n=t.variation,a=void 0===n?"normal":n,c=t.tabs,u=t.activeKey,l=t.size,m=t.className,f=t.style;return Object(p.jsx)("div",{className:s()(m,(e={},Object(i.a)(e,d.a.tabs,"normal"===a),Object(i.a)(e,d.a.elasticTabs,"elastic"===a),e)),style:f,children:c.map((function(e){var n,a=e.id,c=e.className,m=e.onClick,f=Object(o.a)(e,b);return Object(p.jsx)("button",Object(r.a)({className:s()(d.a.tab,c,(n={},Object(i.a)(n,d.a.active,a===u),Object(i.a)(n,d.a.small,"small"===l),n)),type:"button",onClick:function(){var e;null===(e=t.onClick)||void 0===e||e.call(t,a),null===m||void 0===m||m(a)}},f),a)}))})};!function(t){t.day="24h",t.week="1w",t.month="30d"}(a||(a={}));var j,O=[{id:a.day,children:"24h"},{id:a.week,children:"1w"},{id:a.month,children:"1mo"}],w=function(t){return Object(p.jsx)(y,Object(r.a)(Object(r.a)({},t),{},{tabs:O,variation:"elastic"}))};!function(t){t.week="1w",t.month="30d"}(j||(j={}));var g=[{id:j.week,children:"1w"},{id:j.month,children:"1mo"}],k=function(t){return Object(p.jsx)(y,Object(r.a)(Object(r.a)({},t),{},{tabs:g,variation:"elastic"}))}},1383:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return f})),n.d(e,"h",(function(){return b})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return h})),n.d(e,"f",(function(){return y})),n.d(e,"j",(function(){return O})),n.d(e,"i",(function(){return w}));var a,r=n(4),o=n(0),i=n(19),c=n.n(i),u=n(45),s=n(59),l=n(71),d=n(1);!function(t){t.JUNIOR_DEPOSIT="JUNIOR_DEPOSIT",t.JUNIOR_INSTANT_WITHDRAW="JUNIOR_INSTANT_WITHDRAW",t.JUNIOR_REGULAR_WITHDRAW="JUNIOR_REGULAR_WITHDRAW",t.JUNIOR_REDEEM="JUNIOR_REDEEM",t.SENIOR_DEPOSIT="SENIOR_DEPOSIT",t.SENIOR_REDEEM="SENIOR_REDEEM",t.JTOKEN_SEND="JTOKEN_SEND",t.JTOKEN_RECEIVE="JTOKEN_RECEIVE",t.JBOND_SEND="JBOND_SEND",t.JBOND_RECEIVE="JBOND_RECEIVE",t.SBOND_SEND="SBOND_SEND",t.SBOND_RECEIVE="SBOND_RECEIVE",t.JUNIOR_STAKE="JUNIOR_STAKE",t.JUNIOR_UNSTAKE="JUNIOR_UNSTAKE"}(a||(a={}));var p,m=new Map([[a.JUNIOR_DEPOSIT,"Deposit"],[a.JUNIOR_INSTANT_WITHDRAW,"Instant Withdraw"],[a.JUNIOR_REGULAR_WITHDRAW,"2 Step Withdraw"],[a.JUNIOR_REDEEM,"Redeem"],[a.JTOKEN_SEND,"Token Send"],[a.JTOKEN_RECEIVE,"Token Receive"],[a.JBOND_SEND,"Bond Send"],[a.JBOND_RECEIVE,"Bond Receive"],[a.JUNIOR_STAKE,"Stake"],[a.JUNIOR_UNSTAKE,"Unstake"],[a.SENIOR_DEPOSIT,"Deposit"],[a.SENIOR_REDEEM,"Redeem"],[a.SBOND_SEND,"Bond Send"],[a.SBOND_RECEIVE,"Bond Receive"]]),f=new Map([[a.JUNIOR_DEPOSIT,"Junior Deposit"],[a.JUNIOR_INSTANT_WITHDRAW,"Junior Instant Withdraw"],[a.JUNIOR_REGULAR_WITHDRAW,"Junior 2 Step Withdraw"],[a.JUNIOR_REDEEM,"Junior Redeem"],[a.JTOKEN_SEND,"Junior Token Send"],[a.JTOKEN_RECEIVE,"Junior Token Receive"],[a.JBOND_SEND,"Junior Bond Send"],[a.JBOND_RECEIVE,"Junior Bond Receive"],[a.JUNIOR_STAKE,"Junior Stake"],[a.JUNIOR_UNSTAKE,"Junior Unstake"],[a.SENIOR_DEPOSIT,"Senior Deposit"],[a.SENIOR_REDEEM,"Senior Redeem"],[a.SBOND_SEND,"Senior Bond Send"],[a.SBOND_RECEIVE,"Senior Bond Receive"]]);function b(t){return[a.JUNIOR_DEPOSIT,a.JTOKEN_RECEIVE,a.JBOND_RECEIVE,a.JUNIOR_STAKE,a.SENIOR_DEPOSIT,a.SBOND_RECEIVE].includes(t)}!function(t){t.JUNIOR_REDEEM="JUNIOR_REDEEM",t.JUNIOR_INSTANT_WITHDRAW="JUNIOR_INSTANT_WITHDRAW"}(p||(p={}));var h,v=new Map([[p.JUNIOR_REDEEM,"Redeem"],[p.JUNIOR_INSTANT_WITHDRAW,"Instant Withdraw"]]);!function(t){t.JUNIOR_STAKE="JUNIOR_STAKE",t.JUNIOR_UNSTAKE="JUNIOR_UNSTAKE"}(h||(h={}));var y=new Map([[h.JUNIOR_STAKE,"Stake"],[h.JUNIOR_UNSTAKE,"Unstake"]]),j=Object(o.createContext)(Object(s.a)("SyAPIProvider"));function O(){return Object(o.useContext)(j)}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.originator,n=t.baseUrl,a=Object(u.b)(),r=new URL("/api/smartyield/pools",null!==n&&void 0!==n?n:a.api.baseUrl);return e&&r.searchParams.set("originator",e),Object(l.d)(r,{transform:function(t){return t.data}})}e.g=function(t){var e=Object(u.b)();var n={fetchSYPools:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=new URL("/api/smartyield/pools?originator=".concat(t),e.api.baseUrl);return fetch(n.toString()).then((function(t){return t.json()})).then((function(t){return t.data}))},fetchSYPool:function(t,n){var a=new URL("/api/smartyield/pools?originator=".concat(t,"&underlyingSymbol=").concat(n),e.api.baseUrl);return fetch(a.toString()).then((function(t){return t.json()})).then((function(t){var e;return null===(e=t.data)||void 0===e?void 0:e[0]}))},fetchSYPoolAPY:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"24h",a=Object(l.c)({window:n}),r=new URL("/api/smartyield/pools/".concat(t,"/apy?").concat(a),e.api.baseUrl);return fetch(r.toString()).then((function(t){return t.json()})).then((function(t){return t.data}))},fetchSYPoolLiquidity:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"24h",a=Object(l.c)({window:n}),r=new URL("/api/smartyield/pools/".concat(t,"/liquidity?").concat(a),e.api.baseUrl);return fetch(r.toString()).then((function(t){return t.json()})).then((function(t){return t.data}))},fetchSYPoolTransactions:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",i=Object(l.c)({page:String(n),limit:String(a),transactionType:o}),u=new URL("/api/smartyield/pools/".concat(t,"/transactions?").concat(i),e.api.baseUrl);return fetch(u.toString()).then((function(t){return t.json()})).then((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{data:(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{amount:new c.a(t.amount)})}))})}))},fetchSYSeniorBonds:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,s=Object(l.c)({page:String(n),limit:String(a),redeemed:o,sort:i,sortDirection:u}),d=new URL("/api/smartyield/pools/".concat(t,"/senior-bonds?").concat(s),e.api.baseUrl);return fetch(d.toString()).then((function(t){return t.json()})).then((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{data:(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{depositedAmount:new c.a(t.depositedAmount),redeemableAmount:new c.a(t.redeemableAmount)})}))})}))},fetchSYJuniorBonds:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,s=Object(l.c)({page:String(n),limit:String(a),redeemed:o,sort:i,sortDirection:u}),d=new URL("/api/smartyield/pools/".concat(t,"/junior-bonds?").concat(s),e.api.baseUrl);return fetch(d.toString()).then((function(t){return t.json()})).then((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{data:(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{depositedAmount:new c.a(t.depositedAmount)})}))})}))},fetchSYUserTxHistory:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"all",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"all",u=Object(l.c)({page:String(n),limit:String(a),originator:o,token:i,transactionType:c}),s=new URL("/api/smartyield/users/".concat(t,"/history?").concat(u),e.api.baseUrl);return fetch(s.toString()).then((function(t){return t.json()})).then((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{data:(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{amount:Number(t.amount)})}))})}))},fetchSYSeniorRedeems:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"all",c=Object(l.c)({page:String(n),limit:String(a),originator:o,token:i}),u=new URL("/api/smartyield/users/".concat(t,"/redeems/senior?=").concat(c),e.api.baseUrl);return fetch(u.toString()).then((function(t){return t.json()})).then((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{data:(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)({},t)}))})}))},fetchSYJuniorPastPositions:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"all",u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"all",s=Object(l.c)({page:String(n),limit:String(a),originator:o,token:i,transactionType:u}),d=new URL("/api/smartyield/users/".concat(t,"/junior-past-positions?").concat(s),e.api.baseUrl);return fetch(d.toString()).then((function(t){return t.json()})).then((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{data:(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{tokensIn:new c.a(t.tokensIn),underlyingOut:new c.a(t.underlyingOut),forfeits:new c.a(t.forfeits)})}))})}))},fetchSYPortfolioValues:function(t){var n=new URL("/api/smartyield/users/".concat(t,"/portfolio-value"),e.api.baseUrl);return fetch(n.toString()).then((function(t){return t.json()})).then((function(t){var e;return(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{timestamp:new Date(t.timestamp)})}))}))},fetchSYSeniorPortfolioValues:function(t){var n=new URL("/api/smartyield/users/".concat(t,"/portfolio-value/senior"),e.api.baseUrl);return fetch(n.toString()).then((function(t){return t.json()})).then((function(t){var e;return(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{timestamp:new Date(t.timestamp)})}))}))},fetchSYJuniorPortfolioValues:function(t){var n=new URL("/api/smartyield/users/".concat(t,"/portfolio-value/junior"),e.api.baseUrl);return fetch(n.toString()).then((function(t){return t.json()})).then((function(t){var e;return(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{timestamp:new Date(t.timestamp)})}))}))},fetchSYRewardPools:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",a=new URL("/api/smartyield/rewards/v2/pools?originator=".concat(t,"&underlyingSymbol=").concat(n),e.api.baseUrl);return fetch(a.toString()).then((function(t){return t.json()})).then((function(t){return t.data}))},fetchSYRewardPoolTransactions:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"all",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"all",u=Object(l.c)({page:String(n),limit:String(a),userAddress:o,transactionType:i}),s=new URL("/api/smartyield/rewards/v2/pools/".concat(t,"/transactions?").concat(u),e.api.baseUrl);return fetch(s.toString()).then((function(t){return t.json()})).then((function(t){var e;return Object(r.a)(Object(r.a)({},t),{},{data:(null!==(e=t.data)&&void 0!==e?e:[]).map((function(t){return Object(r.a)(Object(r.a)({},t),{},{amount:new c.a(t.amount)})}))})}))}};return Object(d.jsx)(j.Provider,{value:n,children:t.children})}},1406:function(t,e,n){"use strict";n.d(e,"b",(function(){return D}));var a=n(4),r=n(29),o=n(5),i=n(9),c=n.n(i),u=n(0),s=n.n(u),l=n(56),d=n(19),p=n.n(d),m=n(66),f=n(80),b=n(37),h=n(186),v=n(250),y=n(20),j=n(119),O=n(1383),w=n(1888),g=n(1682),k=n(1711),x=n(1631),T=n(1465),S=n(1457),E=n(73),A=n(59),R=n(1),_={marketId:void 0,tokenId:void 0,loading:!1,pool:void 0,statusModal:{visible:!1,type:void 0,state:void 0,txHash:void 0}},N=s.a.createContext(Object(A.a)("PoolProvider"));function D(){return s.a.useContext(N)}e.a=function(t){var e=t.children,n=Object(l.g)(),i=Object(l.h)(),u=Object(E.c)(),d=Object(y.h)().getEtherscanTxUrl,A=Object(m.c)().getContract,D=Object(v.e)().getToken,I=Object(h.c)(),P=I.projectToken,U=I.stkAaveToken,C=I.ethToken,B=I.convertTokenIn,M=I.convertTokenInUSD,J=Object(O.j)(),Y=Object(j.a)(),F=Object(o.a)(Y,2),L=F[0],W=F[1],H=s.a.useState(_),z=Object(o.a)(H,2),K=z[0],V=z[1],q=Boolean(Object(l.j)("/smart-yield/deposit/senior")),G=Boolean(Object(l.j)("/smart-yield/deposit/junior")),Z=Boolean(Object(l.j)("/smart-yield/withdraw")),Q=s.a.useMemo((function(){var t,e,n=new URLSearchParams(i.search),a=null!==(t=n.get("m"))&&void 0!==t?t:void 0;a&&(a=decodeURIComponent(a));var r=null!==(e=n.get("t"))&&void 0!==e?e:void 0;return r&&(r=decodeURIComponent(r)),[a,r]}),[i.search]),X=Object(o.a)(Q,2),$=X[0],tt=X[1];function et(t,e,n){return nt.apply(this,arguments)}function nt(){return(nt=Object(r.a)(c.a.mark((function t(e,n,a){var r,o,i,u,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,o=n,(i=new g.a(r)).setCallProvider(y.d),t.next=6,i.loadCommon();case 6:return u=B(1,U.symbol,C.symbol),s=B(1,a,C.symbol),t.abrupt("return",i.calculateIncentivesAPY(u,s,o));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}s.a.useEffect((function(){$&&tt&&(V((function(t){return Object(a.a)(Object(a.a)({},t),{},{marketId:$,tokenId:tt,loading:!0,pool:void 0})})),Object(r.a)(c.a.mark((function t(){var e,n,r,o,i,u,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J.fetchSYPool($,tt);case 3:if(e=t.sent){t.next=8;break}return t.next=7,Promise.reject();case 7:return t.abrupt("return",t.sent);case 8:return r=A(e.smartYieldAddress,(function(){return new T.a(e.smartYieldAddress)})),t.next=11,r.loadCommon().catch(Error);case 11:if(o=A(e.underlyingAddress,(function(){return new f.a([],e.underlyingAddress)})),i=A(e.controllerAddress,(function(){return new k.a(e.controllerAddress)})),e.protocolId!==S.a.id){t.next=17;break}return t.next=16,et(e.cTokenAddress,e.underlyingDecimals,e.underlyingSymbol);case 16:u=t.sent;case 17:return t.next=19,Promise.all([r.loadCommon(),o.loadCommon()]);case 19:return n=Object(a.a)(Object(a.a)({},e),{},{token:D(e.underlyingSymbol),market:Object(S.c)(e.protocolId),contracts:{smartYield:r,underlying:o,controller:i,rewardPool:s},apr:void 0,apy:u}),t.next=22,J.fetchSYRewardPools(e.protocolId,e.underlyingSymbol);case 22:(null===(l=t.sent)||void 0===l?void 0:l.length)>0&&(s=A(e.rewardPoolAddress,(function(){return new x.a(e.rewardPoolAddress,"MULTI"===l[0].poolType)})),n.contracts.rewardPool=s,s.on(b.d.UPDATE_DATA,L),s.loadCommon().then((function(){var t;return null===(t=s)||void 0===t?void 0:t.loadRewardRateFor(P.address)})).then((function(){var t=s.poolSize;if(t){var e,a,o,i,c=null===(e=s)||void 0===e||null===(a=e.getDailyRewardFor(P.address))||void 0===a?void 0:a.unscaleBy(P.decimals),u=null===(o=M(c,P.symbol))||void 0===o?void 0:o.multipliedBy(365),l=null===t||void 0===t?void 0:t.dividedBy(Math.pow(10,null!==(i=r.decimals)&&void 0!==i?i:0)),d=M(l,r.symbol);u&&d&&d.gt(p.a.ZERO)&&(n.apr=u.dividedBy(d),L())}}))),V((function(t){return Object(a.a)(Object(a.a)({},t),{},{loading:!1,pool:n})})),t.next=31;break;case 27:t.prev=27,t.t0=t.catch(0),console.error(t.t0),V((function(t){return Object(a.a)(Object(a.a)({},t),{},{loading:!1,pool:null})}));case 31:case"end":return t.stop()}}),t,null,[[0,27]])})))())}),[$,tt]),s.a.useEffect((function(){var t,e=K.pool;e&&(e.contracts.smartYield.setProvider(u.provider),e.contracts.underlying.setProvider(u.provider),e.contracts.controller.setProvider(u.provider),null===(t=e.contracts.rewardPool)||void 0===t||t.setProvider(u.provider))}),[K.pool,u.provider]),s.a.useEffect((function(){var t=K.pool;t&&(t.contracts.smartYield.setAccount(u.account),u.account&&t.contracts.smartYield.loadBalance().then(L),t.contracts.underlying.setAccount(u.account),u.account&&(t.contracts.underlying.loadBalance().then(L),t.contracts.underlying.loadAllowance(t.providerAddress).then(L)))}),[K.pool,u.account]);var at=s.a.useCallback(function(){var t=Object(r.a)(c.a.mark((function t(e){var n,a,r,o,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=K.pool){t.next=3;break}return t.abrupt("return",void 0);case 3:if(a=n.contracts.smartYield,r=a.decimals,(o=a.totalSupply)&&r){t.next=6;break}return t.abrupt("return",void 0);case 6:return t.next=8,n.contracts.smartYield.getAbondDebt();case 8:return i=t.sent,t.abrupt("return",i.dividedBy(Math.pow(10,r)).multipliedBy(e).dividedBy(o.dividedBy(Math.pow(10,r))));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[K.pool]),rt=s.a.useCallback((function(t){var e=K.pool;if(e&&u.account){var n=A(e.smartYieldAddress,(function(){return new T.a(e.smartYieldAddress)}));return n.on("tx:hash",(function(e){V((function(n){return Object(a.a)(Object(a.a)({},n),{},{statusModal:{visible:!0,type:t,state:"progress",txHash:e}})}))})).on("tx:success",(function(){V((function(t){return Object(a.a)(Object(a.a)({},t),{},{statusModal:Object(a.a)(Object(a.a)({},t.statusModal),{},{state:"success"})})}))})).on("tx:fail",(function(){V((function(t){return Object(a.a)(Object(a.a)({},t),{},{statusModal:Object(a.a)(Object(a.a)({},t.statusModal),{},{state:"failure"})})}))})),n}}),[K.pool,u.provider,u.account]);var ot=s.a.useCallback((function(t){var e=K.pool;return e&&u.account?e.contracts.underlying.approve(e.providerAddress,t).then(L):Promise.reject()}),[K.pool]),it=s.a.useCallback((function(t,e,n,a,r){var o=rt("deposit");return o?o.buyBondSend(t,e,n,a,r).then((function(){var t;null===(t=K.pool)||void 0===t||t.contracts.underlying.loadBalance().then(L)})):Promise.reject()}),[rt]),ct=s.a.useCallback((function(t,e,n,a){var r=rt("deposit");return r?r.buyTokensSend(t,e,n,a).then((function(){var t,e;null===(t=K.pool)||void 0===t||t.contracts.smartYield.loadBalance().then(L),null===(e=K.pool)||void 0===e||e.contracts.underlying.loadBalance().then(L)})):Promise.reject()}),[rt]),ut=s.a.useCallback((function(t,e,n,a){var r=rt("withdraw");return r?r.buyJuniorBondSend(t,e,n,a).then((function(){var t,e;null===(t=K.pool)||void 0===t||t.contracts.smartYield.loadBalance().then(L),null===(e=K.pool)||void 0===e||e.contracts.underlying.loadBalance().then(L)})):Promise.reject()}),[rt]),st=s.a.useCallback((function(t,e,n,a){var r=rt("withdraw");return r?r.sellTokensSend(t,e,n,a).then((function(){var t,e;null===(t=K.pool)||void 0===t||t.contracts.smartYield.loadBalance().then(L),null===(e=K.pool)||void 0===e||e.contracts.underlying.loadBalance().then(L)})):Promise.reject()}),[rt]),lt=s.a.useMemo((function(){return{getForfeitsFor:at,approveUnderlying:ot,seniorDeposit:it,juniorDeposit:ct,twoStepWithdraw:ut,instantWithdraw:st}}),[at,ot,it,ct,ut,st]),dt=s.a.useMemo((function(){return Object(a.a)(Object(a.a)({},K),{},{actions:lt})}),[K,lt,W]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(N.Provider,{value:dt,children:e}),K.statusModal.visible&&Object(R.jsx)(w.a,{type:K.statusModal.type,state:K.statusModal.state,txLink:K.statusModal.txHash&&d(K.statusModal.txHash),onCancel:function(){V((function(t){return Object(a.a)(Object(a.a)({},t),{},{statusModal:{visible:!1,type:void 0,state:void 0,txHash:void 0}})}))},onSuccessClick:function(){q?n.push({pathname:"/smart-yield/portfolio/senior"}):(G||Z)&&n.push({pathname:"/smart-yield/portfolio/junior"})}})]})}},1457:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u}));var a=n(38),r=n(1),o={id:"aave/v2",name:"AAVE",icon:{active:"aave"}},i={id:"cream/v2",name:"C.R.E.A.M Finance",icon:{active:"cream"},warning:Object(r.jsxs)("span",{children:["C.R.E.A.M pool deposits have been disabled.",Object(r.jsx)("br",{}),Object(r.jsx)(a.d,{variation:"link",href:"https://medium.com/cream-finance/post-mortem-exploit-oct-27-507b12bb6f8e",children:"Click here to learn more"})]}),depositDisabled:!0},c=[{id:"compound/v2",name:"Compound",icon:{active:"compound"}},o,i];function u(t){return c.find((function(e){return e.id===t}))}},1465:function(t,e,n){"use strict";var a=n(5),r=n(29),o=n(14),i=n(16),c=n(223),u=n(121),s=n(23),l=n(24),d=n(9),p=n.n(d),m=n(19),f=n.n(m),b=n(80),h=n(65),v=n(37),y=[{name:"name",type:"function",stateMutability:"view",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}]},{name:"symbol",type:"function",stateMutability:"view",inputs:[],outputs:[{internalType:"string",name:"",type:"string"}]},{name:"decimals",type:"function",stateMutability:"view",inputs:[],outputs:[{internalType:"uint8",name:"",type:"uint8"}]},{name:"balanceOf",type:"function",stateMutability:"view",inputs:[{internalType:"address",name:"account",type:"address"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}]},{name:"price",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}]},{name:"abondDebt",type:"function",stateMutability:"view",inputs:[],outputs:[{internalType:"uint256",name:"",type:"uint256"}]},{name:"abond",type:"function",stateMutability:"view",inputs:[],outputs:[{internalType:"uint256",name:"principal",type:"uint256"},{internalType:"uint256",name:"gain",type:"uint256"},{internalType:"uint256",name:"issuedAt",type:"uint256"},{internalType:"uint256",name:"maturesAt",type:"uint256"},{internalType:"bool",name:"liquidated",type:"bool"}]},{name:"bondGain",type:"function",inputs:[{name:"principalAmount",type:"uint256"},{name:"forDays",type:"uint16"}],outputs:[{name:"",type:"uint256"}]},{name:"juniorBonds",type:"function",stateMutability:"view",inputs:[{internalType:"uint256",name:"",type:"uint256"}],outputs:[{internalType:"uint256",name:"tokens",type:"uint256"},{internalType:"uint256",name:"maturesAt",type:"uint256"}]},{name:"seniorBonds",type:"function",stateMutability:"view",inputs:[{internalType:"uint256",name:"",type:"uint256"}],outputs:[{internalType:"uint256",name:"principal",type:"uint256"},{internalType:"uint256",name:"gain",type:"uint256"},{internalType:"uint256",name:"issuedAt",type:"uint256"},{internalType:"uint256",name:"maturesAt",type:"uint256"},{internalType:"bool",name:"liquidated",type:"bool"}]},{name:"buyTokens",type:"function",stateMutability:"nonpayable",inputs:[{internalType:"uint256",name:"underlyingAmount_",type:"uint256"},{internalType:"uint256",name:"minTokens_",type:"uint256"},{internalType:"uint256",name:"deadline_",type:"uint256"}],outputs:[]},{name:"buyBond",type:"function",stateMutability:"nonpayable",inputs:[{internalType:"uint256",name:"principalAmount_",type:"uint256"},{internalType:"uint256",name:"minGain_",type:"uint256"},{internalType:"uint256",name:"deadline_",type:"uint256"},{internalType:"uint16",name:"forDays_",type:"uint16"}],outputs:[{internalType:"uint256",name:"",type:"uint256"}]},{name:"buyJuniorBond",type:"function",stateMutability:"nonpayable",inputs:[{internalType:"uint256",name:"tokenAmount_",type:"uint256"},{internalType:"uint256",name:"maxMaturesAt_",type:"uint256"},{internalType:"uint256",name:"deadline_",type:"uint256"}],outputs:[]},{name:"sellTokens",type:"function",stateMutability:"nonpayable",inputs:[{internalType:"uint256",name:"tokenAmount_",type:"uint256"},{internalType:"uint256",name:"minUnderlying_",type:"uint256"},{internalType:"uint256",name:"deadline_",type:"uint256"}],outputs:[]},{name:"redeemJuniorBond",type:"function",stateMutability:"nonpayable",inputs:[{internalType:"uint256",name:"jBondId_",type:"uint256"}],outputs:[]},{name:"redeemBond",type:"function",stateMutability:"nonpayable",inputs:[{internalType:"uint256",name:"bondId_",type:"uint256"}],outputs:[]}],j=function(t){Object(s.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,y,t)).price=void 0,a.abondDebt=void 0,a.abond=void 0,a}return Object(i.a)(n,[{key:"loadCommon",value:function(){var t=Object(r.a)(p.a.mark((function t(){var e=this;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(c.a)(Object(u.a)(n.prototype),"loadCommon",this).call(this),t.abrupt("return",this.batch([{method:"price",transform:function(t){return f.a.from(t)}},{method:"abondDebt",transform:function(t){return f.a.from(t)}},{method:"abond",transform:function(t){return{principal:f.a.from(t.principal),gain:f.a.from(t.gain),issuedAt:Math.floor(new f.a(t.issuedAt).dividedBy(1e18).toNumber()),maturesAt:Math.floor(new f.a(t.maturesAt).dividedBy(1e18).toNumber()),liquidated:t.liquidated}}}]).then((function(t){var n=Object(a.a)(t,3),r=n[0],o=n[1],i=n[2];e.price=r.dividedBy(1e18),e.abondDebt=o,e.abond=i,e.emit(v.d.UPDATE_DATA)})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getPrice",value:function(){var t=Object(r.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.call("price").then((function(t){return new f.a(t)})));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAbondDebt",value:function(){var t=Object(r.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.call("abondDebt").then((function(t){return new f.a(t)})));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAbond",value:function(){var t=Object(r.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.call("abond").then((function(t){return{principal:new f.a(t.principal),gain:new f.a(t.gain),issuedAt:Math.floor(new f.a(t.issuedAt).dividedBy(1e18).toNumber()),maturesAt:Math.floor(new f.a(t.maturesAt).dividedBy(1e18).toNumber()),liquidated:t.liquidated}})));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getBondGain",value:function(){var t=Object(r.a)(p.a.mark((function t(e,n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.call("bondGain",[e,n]).then((function(t){return new f.a(t)})));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getJuniorBonds",value:function(){var t=Object(r.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",Promise.resolve([]));case 2:return n=e.map((function(t){return{method:"juniorBonds",methodArgs:[t],transform:function(e){return{jBondId:t,tokens:f.a.from(e.tokens),maturesAt:Number(e.maturesAt)}}}})),t.abrupt("return",this.batch(n));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSeniorBonds",value:function(){var t=Object(r.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",Promise.resolve([]));case 2:return n=e.map((function(t){return{method:"seniorBonds",methodArgs:[t],transform:function(e){return{sBondId:t,principal:f.a.from(e.principal),gain:f.a.from(e.gain),issuedAt:Number(e.issuedAt),maturesAt:Number(e.maturesAt)}}}})),t.abrupt("return",this.batch(n));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"buyTokensSend",value:function(t,e,n,a){return this.account?this.send("buyTokens",[t,e,n],{from:this.account,gasPrice:Object(h.g)(a)}):Promise.reject()}},{key:"buyBondSend",value:function(t,e,n,a,r){return this.account?this.send("buyBond",[t,e,n,a],{from:this.account,gasPrice:Object(h.g)(r)}):Promise.reject()}},{key:"buyJuniorBondSend",value:function(t,e,n,a){return this.account?this.send("buyJuniorBond",[t,e,n],{from:this.account,gasPrice:Object(h.g)(a)}):Promise.reject()}},{key:"sellTokensSend",value:function(t,e,n,a){return this.account?this.send("sellTokens",[t,e,n],{from:this.account,gasPrice:Object(h.g)(a)}):Promise.reject()}},{key:"redeemJuniorBondSend",value:function(t,e){return this.account?this.send("redeemJuniorBond",[t],{from:this.account,gasPrice:Object(h.g)(e)}):Promise.reject()}},{key:"redeemBondSend",value:function(t,e){return this.account?this.send("redeemBond",[t],{from:this.account,gasPrice:Object(h.g)(e)}):Promise.reject()}}]),n}(b.a);e.a=j},1545:function(t,e,n){t.exports={tabs:"s_tabs__32Wke",shadows:"s_shadows__12PQF",tab:"s_tab__2wEah",active:"s_active__1mayN",disabled:"s_disabled__xaH2p",elasticTabs:"s_elasticTabs__2URoC",elasticToggle:"s_elasticToggle__3M_xZ",small:"s_small__c6etg",horizontalMenu:"s_horizontalMenu__3BcI1"}},1559:function(t,e,n){"use strict";n.d(e,"b",(function(){return D}));var a=n(4),r=n(29),o=n(5),i=n(9),c=n.n(i),u=n(0),s=n.n(u),l=n(56),d=n(19),p=n.n(d),m=n(66),f=n(80),b=n(37),h=n(186),v=n(250),y=n(20),j=n(119),O=n(1383),w=n(1888),g=n(1682),k=n(1631),x=n(1791),T=n(1465),S=n(1457),E=n(73),A=n(59),R=n(1),_={loading:!1,pools:[]},N=s.a.createContext(Object(A.a)("PoolsProvider"));function D(){return s.a.useContext(N)}e.a=function(t){var e=t.children,n=Object(l.g)(),i=Object(E.c)(),d=Object(y.h)().getEtherscanTxUrl,A=Object(m.c)().getContract,D=Object(v.e)().getToken,I=Object(h.c)(),P=I.getTokenBySymbol,U=I.convertTokenIn,C=I.convertTokenInUSD,B=I.stkAaveToken,M=I.ethToken,J=I.bondToken,Y=Object(j.a)(),F=Object(o.a)(Y,2),L=F[0],W=F[1],H=s.a.useState(_),z=Object(o.a)(H,2),K=z[0],V=z[1],q=Object(O.j)(),G=s.a.useState({visible:!1,type:void 0,state:void 0,txHash:void 0}),Z=Object(o.a)(G,2),Q=Z[0],X=Z[1],$=Object(u.useCallback)(function(){var t=Object(r.a)(c.a.mark((function t(e,n,a){var r,o,i,u,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,o=n,(i=new g.a(r)).setCallProvider(y.d),t.next=6,i.loadCommon();case 6:return u=U(1,B.symbol,M.symbol),s=U(1,a,M.symbol),t.abrupt("return",i.calculateIncentivesAPY(u,s,o));case 9:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),[U,M,P,B]);s.a.useEffect((function(){V((function(t){return Object(a.a)(Object(a.a)({},t),{},{loading:!0,pools:[]})})),Object(r.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q.fetchSYPools();case 3:e=t.sent,V((function(t){return Object(a.a)(Object(a.a)({},t),{},{loading:!1,pools:(null!==e&&void 0!==e?e:[]).map((function(t){var e=A(t.smartYieldAddress,(function(){return new T.a(t.smartYieldAddress)}));e.on(b.d.UPDATE_DATA,L);var n=A(t.underlyingAddress,(function(){return new f.a([],t.underlyingAddress)}));n.on(b.d.UPDATE_DATA,L),e.loadCommon(),n.loadCommon();var r=Object(a.a)(Object(a.a)({},t),{},{token:D(t.underlyingSymbol),market:Object(S.c)(t.protocolId),contracts:{smartYield:e,underlying:n,rewardPool:void 0},apy:void 0,apr:void 0});if(t.rewardPoolAddress){var o=A(t.rewardPoolAddress,(function(){return new k.a(t.rewardPoolAddress,t.protocolId===S.a.id)}));o.on(b.d.UPDATE_DATA,L),o.loadCommon().then((function(){return o.loadRewardRateFor(J.address)})).then((function(){var t=o.poolSize;if(t){var n,a,i,c=null===(n=o.getDailyRewardFor(J.address))||void 0===n?void 0:n.unscaleBy(J.decimals),u=null===(a=C(c,J.symbol))||void 0===a?void 0:a.multipliedBy(365),s=t.dividedBy(Math.pow(10,null!==(i=e.decimals)&&void 0!==i?i:0)),l=C(s,e.symbol);u&&l&&l.gt(p.a.ZERO)&&(r.apr=u.dividedBy(l),L())}})),r.contracts.rewardPool=o}return t.protocolId===S.a.id&&$(t.cTokenAddress,t.underlyingDecimals,t.underlyingSymbol).then((function(t){r.apy=t,L()})),r}))})})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),V((function(t){return Object(a.a)(Object(a.a)({},t),{},{loading:!1})}));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}),[]),s.a.useEffect((function(){K.pools.forEach((function(t){var e,n,a,r,o,c,u;(null===(e=t.contracts.smartYield)||void 0===e||e.setProvider(i.provider),null===(n=t.contracts.smartYield)||void 0===n||n.setAccount(i.account),null===(a=t.contracts.underlying)||void 0===a||a.setProvider(i.provider),null===(r=t.contracts.underlying)||void 0===r||r.setAccount(i.account),i.account)&&(null===(u=t.contracts.underlying)||void 0===u||u.loadBalance());null===(o=t.contracts.rewardPool)||void 0===o||o.setProvider(i.provider),null===(c=t.contracts.rewardPool)||void 0===c||c.setAccount(i.account)}))}),[K.pools,i.account]);var tt=s.a.useCallback((function(t){return K.pools.filter((function(e){return e.protocolId===(null!==t&&void 0!==t?t:e.protocolId)})).reduce((function(t,e){return t.plus(e.state.seniorLiquidity).plus(e.state.juniorLiquidity)}),p.a.ZERO)}),[K.pools]),et=s.a.useCallback((function(t,e,n){var r=A(t,(function(){return new T.a(t)}));return r.on("tx:hash",(function(t){X((function(e){return Object(a.a)(Object(a.a)({},e),{},{visible:!0,type:"redeem",state:"progress",txHash:t})}))})).on("tx:success",(function(){X((function(t){return Object(a.a)(Object(a.a)({},t),{},{state:"success"})}))})).on("tx:fail",(function(){X((function(t){return Object(a.a)(Object(a.a)({},t),{},{state:"failure"})}))})),r.redeemBondSend(e,n)}),[i.account,i.provider]),nt=s.a.useCallback((function(t,e,n){var r=A(t,(function(){return new T.a(t)}));return r.on("tx:hash",(function(t){X((function(e){return Object(a.a)(Object(a.a)({},e),{},{visible:!0,type:"redeemJunior",state:"progress",txHash:t})}))})).on("tx:success",(function(){X((function(t){return Object(a.a)(Object(a.a)({},t),{},{state:"success"})}))})).on("tx:fail",(function(){X((function(t){return Object(a.a)(Object(a.a)({},t),{},{state:"failure"})}))})),r.redeemJuniorBondSend(e,n)}),[i.account,i.provider]),at=s.a.useCallback((function(t,e,n,r){var o=A(t,(function(){return new x.a(t)}));return o.on("tx:hash",(function(t){X((function(e){return Object(a.a)(Object(a.a)({},e),{},{visible:!0,type:"transfer",state:"progress",txHash:t})}))})).on("tx:success",(function(){X((function(t){return Object(a.a)(Object(a.a)({},t),{},{state:"success"})}))})).on("tx:fail",(function(){X((function(t){return Object(a.a)(Object(a.a)({},t),{},{state:"failure"})}))})),o.transferFromSend(i.account,e,n,r)}),[i.account,i.provider]);var rt=s.a.useMemo((function(){return Object(a.a)(Object(a.a)({},K),{},{getMarketTVL:tt,redeemBond:et,transferFrom:at,redeemJuniorBond:nt})}),[K,W]);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(N.Provider,{value:rt,children:e}),Q.visible&&Object(R.jsx)(w.a,{type:Q.type,state:Q.state,txLink:Q.txHash&&d(Q.txHash),onCancel:function(){X((function(t){return Object(a.a)(Object(a.a)({},t),{},{visible:!1,type:void 0,state:void 0,txHash:void 0})}))},onSuccessClick:function(){X((function(t){return Object(a.a)(Object(a.a)({},t),{},{visible:!1,type:void 0,state:void 0,txHash:void 0})})),n.push({pathname:"/smart-yield/portfolio/senior"})}})]})}},1578:function(t,e,n){"use strict";n.d(e,"b",(function(){return j}));var a=n(29),r=n(5),o=n(9),i=n.n(o),c=n(0),u=n(19),s=n.n(u),l=n(66),d=n(186),p=n(119),m=n(1383),f=n(1726),b=n(73),h=n(59),v=n(1),y=Object(c.createContext)(Object(h.a)("RewardPoolsProvider"));function j(){return Object(c.useContext)(y)}e.a=function(t){var e=t.children,n=Object(d.c)(),o=Object(l.c)(),u=Object(b.c)(),h=Object(p.a)(),j=Object(r.a)(h,1)[0],O=Object(m.j)(),w=Object(c.useState)(!1),g=Object(r.a)(w,2),k=g[0],x=g[1],T=Object(c.useState)([]),S=Object(r.a)(T,2),E=S[0],A=S[1],R=Object(c.useCallback)((function(t){return E.filter((function(e){return e.meta.protocolId===(null!==t&&void 0!==t?t:e.meta.protocolId)})).reduce((function(t,e){var a=e.rewardPool.poolSize,r=e.smartYield,o=r.decimals,i=r.symbol;if(!a||!i)return t;var c=n.convertTokenInUSD(a.unscaleBy(o),i);return c?t.plus(c):t}),s.a.ZERO)}),[E]),_=Object(c.useCallback)((function(){return E.reduce((function(t,e){var a=e.rewardPool.poolSize,r=e.smartYield,o=r.decimals,i=r.symbol;if(!a||!i)return t;var c=n.convertTokenInUSD(a.unscaleBy(o),i);return c?t.plus(c):t}),s.a.ZERO)}),[E]);Object(c.useEffect)((function(){Object(a.a)(i.a.mark((function t(){var e,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.prev=1,t.next=4,O.fetchSYRewardPools();case 4:e=t.sent,a=e.map((function(t){var e=new f.a(t,n,o);return e.onDataUpdate(j),e.loadCommonData(),e})),A(a),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:x(!1);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}),[]),Object(c.useEffect)((function(){E.forEach((function(t){u.account&&t.loadUserData()}))}),[E,u.account]);var N={loading:k,pools:E,getMarketTVL:R,getSYTotalStakedInUSD:_};return Object(v.jsx)(y.Provider,{value:N,children:e})}},1631:function(t,e,n){"use strict";var a=n(5),r=n(29),o=n(14),i=n(16),c=n(23),u=n(24),s=n(9),l=n.n(s),d=n(19),p=n.n(d),m=n(37),f=[{name:"poolSize",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"rewardLeft",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"claim",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"balances",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"rewardRatePerSecond",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"deposit",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"withdraw",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"withdrawAndClaim",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]}],b=[{name:"poolSize",type:"function",inputs:[],outputs:[{name:"amount",type:"uint256"}]},{name:"numRewardTokens",type:"function",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"rewardLeft",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"rewardTokens",type:"function",inputs:[{name:"",type:"uint256"}],outputs:[{name:"",type:"address"}]},{name:"claim",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"balances",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"rewardRatesPerSecond",type:"function",inputs:[{name:"address",type:"address"}],outputs:[{name:"amount",type:"uint256"}]},{name:"deposit",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"withdraw",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[]},{name:"withdrawAndClaim",type:"function",inputs:[{name:"amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"claim_allTokens",type:"function",inputs:[],outputs:[{name:"amounts",type:"uint256[]"}]}],h=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(o.a)(this,n),(a=e.call(this,r?b:f,t,""))._isMulti=void 0,a.poolSize=void 0,a.rewardTokensCount=void 0,a.rewardLeft=new Map,a.rewardRates=new Map,a.balances=new Map,a.claims=new Map,a._isMulti=r,a.on(m.d.UPDATE_ACCOUNT,(function(){a.balances.clear(),a.claims.clear()})),a}return Object(i.a)(n,[{key:"loadCommon",value:function(){var t=Object(r.a)(l.a.mark((function t(){var e,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.poolSize=void 0,t.next=3,this.batch([{method:"poolSize"},{method:"numRewardTokens"}]);case 3:e=t.sent,n=Object(a.a)(e,2),r=n[0],o=n[1],this.poolSize=p.a.from(r),this.rewardTokensCount=Number(o)||1,this.emit(m.d.UPDATE_DATA);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"loadRewardLeftFor",value:function(){var t=Object(r.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rewardLeft",this._isMulti?[e]:[]);case 2:n=t.sent,this.rewardLeft.set(e,new p.a(n)),this.emit(m.d.UPDATE_DATA);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"loadRewardRateFor",value:function(){var t=Object(r.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isMulti){t.next=6;break}return t.next=3,this.call("rewardRatesPerSecond",[e]);case 3:n=t.sent,t.next=9;break;case 6:return t.next=8,this.call("rewardRatePerSecond",[]);case 8:n=t.sent;case 9:this.rewardRates.set(e,new p.a(n)),this.emit(m.d.UPDATE_DATA);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getRewardLeftFor",value:function(t){return this.rewardLeft.get(t)}},{key:"getRewardRateFor",value:function(t){return this.rewardRates.get(t)}},{key:"getDailyRewardFor",value:function(t){var e;return null===(e=this.rewardRates.get(t))||void 0===e?void 0:e.multipliedBy(86400)}},{key:"getMyDailyRewardFor",value:function(t){var e,n=this.getBalanceFor(this.account);if(n&&this.poolSize&&this.poolSize.gt(p.a.ZERO)){var a=n.dividedBy(this.poolSize);return null===(e=this.getDailyRewardFor(t))||void 0===e?void 0:e.multipliedBy(a)}}},{key:"loadBalanceFor",value:function(){var t=Object(r.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("balances",[e],{from:this.account});case 2:n=t.sent,this.balances.set(e,new p.a(n)),this.emit(m.d.UPDATE_DATA);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBalanceFor",value:function(t){return this.balances.get(t)}},{key:"loadClaimFor",value:function(){var t=Object(r.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("claim",this._isMulti?[e]:[],{from:this.account});case 2:n=t.sent,this.claims.set(e,new p.a(n)),this.emit(m.d.UPDATE_DATA);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getClaimFor",value:function(t){return this.claims.get(t)}},{key:"sendClaimAll",value:function(){var t=Object(r.a)(l.a.mark((function t(e){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send(this._isMulti?"claim_allTokens":"claim",[],{},e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendDeposit",value:function(){var t=Object(r.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("deposit",[e],{},n);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"sendWithdraw",value:function(){var t=Object(r.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("withdraw",[e],{},n);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"sendWithdrawAndClaim",value:function(){var t=Object(r.a)(l.a.mark((function t(e,n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("withdrawAndClaim",[e],{},n);case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(m.d);e.a=h},1682:function(t,e,n){"use strict";var a=n(5),r=n(29),o=n(14),i=n(16),c=n(23),u=n(24),s=n(9),l=n.n(s),d=n(19),p=n.n(d),m=n(37),f=[Object(m.c)("getAssetData",["address"],["uint256","uint256","uint256"])],b=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,f,t,"")).emissionPerSecond=void 0,a}return Object(i.a)(n,[{key:"loadAssetData",value:function(){var t=Object(r.a)(l.a.mark((function t(e){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("getAssetData",[e]);case 2:n=t.sent,a=n[1],this.emissionPerSecond=p.a.from(a),this.emit(m.d.UPDATE_DATA);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(m.d),h=[Object(m.c)("totalSupply",[],["uint256"]),Object(m.c)("getIncentivesController",[],["address"])],v=function(t){Object(c.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,h,t,"")).totalSupply=void 0,a.incentivesController=void 0,a}return Object(i.a)(n,[{key:"calculateIncentivesAPY",value:function(t,e,n){var a,r,o,i;if(this.incentivesController){var c=this.incentivesController.emissionPerSecond,u=null===(a=p.a.from(c))||void 0===a||null===(r=a.unscaleBy(18))||void 0===r?void 0:r.multipliedBy(t).multipliedBy(31536e3);if(u){var s=null===(o=this.totalSupply)||void 0===o||null===(i=o.unscaleBy(n))||void 0===i?void 0:i.multipliedBy(e);if(s)return u.dividedBy(s)}}}},{key:"loadCommon",value:function(){var t=Object(r.a)(l.a.mark((function t(){var e,n,r,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.batch([{method:"totalSupply"},{method:"getIncentivesController"}]);case 2:if(e=t.sent,n=Object(a.a)(e,2),r=n[0],o=n[1],this.totalSupply=p.a.from(r),!o){t.next=12;break}return this.incentivesController=new b(o),this.incentivesController.setCallProvider(this.callProvider),t.next=12,this.incentivesController.loadAssetData(this.address);case 12:this.emit(m.d.UPDATE_DATA);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(m.d);e.a=v},1690:function(t,e,n){"use strict";n.d(e,"b",(function(){return O}));var a=n(29),r=n(5),o=n(9),i=n.n(o),c=n(0),u=n(66),s=n(186),l=n(119),d=n(56);var p=function(){var t=Object(d.h)(),e=Object(c.useMemo)((function(){return new URLSearchParams(t.search)}),[t.search]),n=Object(c.useCallback)((function(t){var n,a=null!==(n=e.get(t))&&void 0!==n?n:void 0;return a?decodeURIComponent(a):void 0}),[t.search]);return{urlQuery:e,get:n}},m=n(1383),f=n(1726),b=n(1457),h=n(73),v=n(59),y=n(1),j=Object(c.createContext)(Object(v.a)("RewardPoolProvider"));function O(){return Object(c.useContext)(j)}e.a=function(t){var e=t.children,n=Object(h.c)(),o=Object(l.a)(),d=Object(r.a)(o,1)[0],v=p(),O=Object(s.c)(),w=Object(u.c)(),g=O.getTokenBySymbol,k=Object(m.j)(),x=Object(c.useMemo)((function(){var t=v.get("m");return t?Object(b.c)(t):void 0}),[v.get]),T=Object(c.useMemo)((function(){var t=v.get("t");return t?g(t):void 0}),[v.get]),S=Object(c.useState)(!1),E=Object(r.a)(S,2),A=E[0],R=E[1],_=Object(c.useState)(),N=Object(r.a)(_,2),D=N[0],I=N[1];Object(c.useEffect)((function(){x&&T&&Object(a.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R(!0),t.prev=1,t.next=4,k.fetchSYRewardPools(x.id,T.symbol);case 4:if(0!==(e=t.sent).length){t.next=7;break}return t.abrupt("return");case 7:(n=new f.a(e[0],O,w)).onDataUpdate(d),n.loadCommonData(),I(n),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(1);case 15:R(!1);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})))()}),[x,T]),Object(c.useEffect)((function(){n.account&&(null===D||void 0===D||D.loadUserData(),null!==D&&void 0!==D&&D.rewardPool.address&&null!==D&&void 0!==D&&D.smartYield.account&&(null===D||void 0===D||D.smartYield.loadAllowance(null===D||void 0===D?void 0:D.rewardPool.address)))}),[D,n.account,null===D||void 0===D?void 0:D.smartYield.account]);var P={market:x,uToken:T,loading:A,pool:D};return Object(y.jsx)(j.Provider,{value:P,children:e})}},1711:function(t,e,n){"use strict";var a=n(14),r=n(16),o=n(23),i=n(24),c=n(19),u=n.n(c),s=n(37),l=[{name:"BOND_LIFE_MAX",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"FEE_BUY_JUNIOR_TOKEN",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"FEE_REDEEM_SENIOR_BOND",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]},{name:"harvest",type:"function",stateMutability:"nonpayable",inputs:[{name:"",type:"uint256"}],outputs:[{name:"rewardAmountGot",type:"uint256"},{name:"underlyingHarvestReward",type:"uint256"}]}],d=function(t){Object(o.a)(n,t);var e=Object(i.a)(n);function n(t){return Object(a.a)(this,n),e.call(this,l,t,"")}return Object(r.a)(n,[{key:"getBondLifeMax",value:function(){return this.call("BOND_LIFE_MAX").then((function(t){return Number(t)}))}},{key:"getJuniorBuyFee",value:function(){return this.call("FEE_BUY_JUNIOR_TOKEN").then((function(t){return new u.a(t)}))}},{key:"getSeniorRedeemFee",value:function(){return this.call("FEE_REDEEM_SENIOR_BOND").then((function(t){return new u.a(t)}))}},{key:"getHarvestAmount",value:function(){return this.call("harvest").then((function(t){return new u.a(t)}))}},{key:"harvest",value:function(t){return this.send("harvest",[0],{},t)}}]),n}(s.d);e.a=d},1726:function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var a=n(29),r=n(14),o=n(16),i=n(23),c=n(24),u=n(9),s=n.n(u),l=n(19),d=n.n(l),p=n(80),m=n(37),f=n(186),b=n(20),h=n(206),v=n.n(h),y=function(){function t(){var e=this;Object(r.a)(this,t),this._event=void 0,this.onDataUpdate=function(t){return e._event.on("data:update",t),function(){return e._event.off("data:update",t)}},this.emitDataUpdate=function(){var t;null===(t=e._event)||void 0===t||t.emit("data:update")},this._event=new v.a}return Object(o.a)(t,[{key:"event",get:function(){return this._event}}]),t}(),j=n(1682),O=n(1631),w=n(1465),g=n(1457),k=function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(t,a,o){var i,c,u;(Object(r.a)(this,n),(i=e.call(this)).meta=void 0,i.smartYield=void 0,i.rewardPool=void 0,i.rewardTokens=void 0,i.knownTokensCtx=void 0,i.contractManagerCtx=void 0,i.apy=void 0,i.meta=t,i.knownTokensCtx=a,i.contractManagerCtx=o,i.smartYield=i.contractManagerCtx.getContract(t.poolTokenAddress,(function(){return new w.a(t.poolTokenAddress)})),i.smartYield.on(m.d.UPDATE_DATA,i.emitDataUpdate),i.rewardPool=i.contractManagerCtx.getContract(t.poolAddress,(function(){return new O.a(t.poolAddress,"MULTI"===t.poolType)})),i.rewardPool.on(m.d.UPDATE_DATA,i.emitDataUpdate),i.rewardTokens=new Map,t.rewardTokens.forEach((function(t){var e,n,r=null!==(e=a.getTokenByAddress(t.address))&&void 0!==e?e:{address:t.address,symbol:t.symbol,name:t.symbol,decimals:t.decimals,contract:i.contractManagerCtx.getContract(t.address,(function(){return new p.a([],t.address)}))};null===(n=r.contract)||void 0===n||n.on(m.d.UPDATE_DATA,i.emitDataUpdate),i.rewardTokens.set(t.address,r)})),t.protocolId===g.a.id)&&(t.underlyingSymbol===f.a.DAI?(c="0x028171bca77440897b824ca71d1c56cac55b68a3",u=18):t.underlyingSymbol===f.a.GUSD?(c="0xd37ee7e4f452c6638c96536e68090de8cbcdb583",u=2):t.underlyingSymbol===f.a.USDC?(c="0xbcca60bb61934080951369a648fb03df4f96263c",u=6):t.underlyingSymbol===f.a.USDT&&(c="0x3ed3b47dd13ec9a98b44e6204a523e766b225811",u=6),c&&u&&i.getAaveIncentivesAPY(c,u,t.underlyingSymbol).then((function(t){i.apy=t})));return i}return Object(o.a)(n,[{key:"apr",get:function(){var t,e,n,a=this.rewardPool,r=this.smartYield,o=a.poolSize;if(o){var i=this.knownTokensCtx,c=i.bondToken,u=i.convertTokenInUSD,s=null===(e=u(null===(t=a.getDailyRewardFor(c.address))||void 0===t?void 0:t.unscaleBy(c.decimals),c.symbol))||void 0===e?void 0:e.multipliedBy(365),l=u(o.dividedBy(Math.pow(10,null!==(n=r.decimals)&&void 0!==n?n:0)),r.symbol);if(s&&l&&!l.eq(d.a.ZERO))return s.dividedBy(l)}}},{key:"getAaveIncentivesAPY",value:function(){var t=Object(a.a)(s.a.mark((function t(e,n,a){var r,o,i,c,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e,o=n,(i=new j.a(r)).setCallProvider(b.d),t.next=6,i.loadCommon();case 6:return c=this.knownTokensCtx.convertTokenIn(1,this.knownTokensCtx.stkAaveToken.symbol,this.knownTokensCtx.ethToken.symbol),u=this.knownTokensCtx.convertTokenIn(1,a,this.knownTokensCtx.ethToken.symbol),t.abrupt("return",i.calculateIncentivesAPY(c,u,o));case 9:case"end":return t.stop()}}),t,this)})));return function(e,n,a){return t.apply(this,arguments)}}()},{key:"loadCommonData",value:function(){var t=this;this.smartYield.loadCommon().catch(Error),this.rewardPool.loadCommon().catch(Error),this.rewardTokens.forEach((function(e){var n;t.rewardPool.loadRewardLeftFor(e.address).catch(Error),t.rewardPool.loadRewardRateFor(e.address).catch(Error),null===(n=e.contract)||void 0===n||n.loadBalance(t.meta.poolAddress).catch(Error)}))}},{key:"loadUserBalances",value:function(){var t=this;this.smartYield.loadBalance().catch(Error),this.rewardTokens.forEach((function(e){var n;null===(n=e.contract)||void 0===n||n.loadBalance().catch(Error),t.rewardPool.loadBalanceFor(e.address).catch(Error)})),this.rewardPool.account&&this.rewardPool.loadBalanceFor(this.rewardPool.account).catch(Error)}},{key:"loadClaims",value:function(){var t=this;this.rewardTokens.forEach((function(e){t.rewardPool.loadClaimFor(e.address).catch(Error)}))}},{key:"loadUserData",value:function(){this.loadUserBalances(),this.loadClaims()}}]),n}(y)},1791:function(t,e,n){"use strict";var a=n(29),r=n(14),o=n(16),i=n(23),c=n(24),u=n(9),s=n.n(u),l=n(65),d=n(37),p=[{name:"balanceOf",type:"function",inputs:[{name:"owner",type:"address"}],outputs:[{name:"",type:"uint256"}]},{name:"tokenOfOwnerByIndex",type:"function",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{name:"transferFrom",type:"function",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],m=function(t){Object(i.a)(n,t);var e=Object(c.a)(n);function n(t){return Object(r.a)(this,n),e.call(this,p,t,"")}return Object(o.a)(n,[{key:"getSeniorBondIds",value:function(){var t=Object(a.a)(s.a.mark((function t(){var e=this;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.account){t.next=2;break}return t.abrupt("return",Promise.reject());case 2:return t.abrupt("return",this.call("balanceOf",[this.account]).then((function(t){return Number(t)})).then((function(t){if(t>0){var n=Array.from(Array(t)).map((function(t,n){return{method:"tokenOfOwnerByIndex",methodArgs:[e.account,n],transform:function(t){return Number(t)}}}));return e.batch(n)}return[]})));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"transferFromSend",value:function(t,e,n,a){return this.account?this.send("transferFrom",[t,e,n],{from:this.account,gasPrice:Object(l.g)(a)}):Promise.reject()}}]),n}(d.d);e.a=m},1888:function(t,e,n){"use strict";var a=n(4),r=n(17),o=(n(0),n(74)),i=n(100),c=n(38),u=n(63),s=n(12),l=n(50),d=n(1),p=["type","state","txLink","onSuccessClick"];e.a=function(t){var e=t.type,n=t.state,m=t.txLink,f=t.onSuccessClick,b=Object(r.a)(t,p),h=Object(l.b)().activeNetwork;return Object(d.jsx)(i.a,Object(a.a)(Object(a.a)({width:560,title:"Transaction status"},b),{},{children:Object(d.jsxs)("div",{className:"grid flow-row pv-8 ph-8",children:["progress"===n&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{name:"tx-progress",width:180,height:160,className:"mb-32 mh-auto"}),Object(d.jsx)(s.b,{type:"h3",weight:"semibold",color:"primary",className:"mb-64 text-center",children:"Your transaction is being processed ..."}),Object(d.jsx)(c.d,{href:m,children:Object(d.jsxs)(o.a,{htmlType:"submit",type:"primary",className:"full-width",children:["View on ",h.explorer.name]})})]}),"success"===n&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{name:"tx-success",width:180,height:160,className:"mb-32 mh-auto"}),Object(d.jsx)(s.b,{type:"h3",weight:"semibold",color:"primary",className:"mb-16 text-center",children:"Congratulations!"}),Object(d.jsxs)(s.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-64 text-center",children:["Your transaction was successful.",Object(d.jsx)("br",{}),"deposit"===e&&"You can see your new position in your portfolio","withdraw"===e&&"You can see your past positions in your portfolio","redeem"===e&&"You can see your past positions in your portfolio","redeemJunior"===e&&"You can see your past positions in your portfolio"]}),"transfer"!==e&&Object(d.jsx)(o.a,{htmlType:"submit",type:"primary",onClick:f,children:"See your portfolio"})]}),"failure"===n&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u.a,{name:"tx-failure",width:180,height:160,className:"mb-32 mh-auto"}),Object(d.jsx)(s.b,{type:"h3",weight:"semibold",color:"primary",className:"mb-16 text-center",children:"Failed!"}),Object(d.jsxs)(s.b,{type:"small",weight:"semibold",color:"secondary",className:"mb-64 text-center",children:["Your transaction failed to execute.",Object(d.jsx)("br",{}),"Please try again."]}),Object(d.jsx)(o.a,{htmlType:"submit",type:"primary",onClick:null===t||void 0===t?void 0:t.onCancel,children:"Dismiss"})]})]})}))}},2275:function(t,e,n){"use strict";n.r(e);var a=n(15),r=n(5),o=n(0),i=n.n(o),c=n(56),u=n(249),s=n.n(u),l=n(1370),d=n(33),p=n(45),m=n(1383),f=n(1690),b=n(73),h=n(1406),v=n(1559),y=n(1578),j=n(1),O=Object(o.lazy)((function(){return n.e(46).then(n.bind(null,2262))})),w=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(3),n.e(4),n.e(7),n.e(37)]).then(n.bind(null,2247))})),g=Object(o.lazy)((function(){return n.e(55).then(n.bind(null,2210))})),k=Object(o.lazy)((function(){return n.e(53).then(n.bind(null,2211))})),x=Object(o.lazy)((function(){return n.e(56).then(n.bind(null,2263))})),T=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(38)]).then(n.bind(null,2264))})),S=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(4),n.e(27)]).then(n.bind(null,2252))}));e.default=function(){var t=Object(c.j)().params.vt,e=void 0===t?"markets":t,n=Object(p.b)(),u=Object(b.c)(),E=i.a.useState(e),A=Object(r.a)(E,2),R=A[0],_=A[1];i.a.useEffect((function(){["stats","deposit"].includes(e)?_("markets"):"withdraw"!==e?"pool"!==e?e!==R&&_(e):_("pools"):_("portfolio")}),[e]);var N=[{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.a,{name:"overview",className:"mr-8"})," Markets"]}),to:"/smart-yield/markets",isActive:function(t,e){return t||e.pathname.startsWith("/smart-yield/stats")||e.pathname.startsWith("/smart-yield/deposit")}},{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.a,{name:"wallet",className:"mr-8"})," Portfolio"]}),to:"/smart-yield/portfolio",isActive:function(t,e){return t||e.pathname.startsWith("/smart-yield/withdraw")},disabled:!u.account}].concat(Object(a.a)(n.features.smartYieldReward?[{children:Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d.a,{name:"pools",className:"mr-8"})," Pools"]}),to:"/smart-yield/pools"}]:[]));return Object(j.jsxs)(m.g,{children:[Object(j.jsx)(l.a,{tabs:N}),Object(j.jsx)("div",{className:"content-container-fix content-container",children:Object(j.jsx)(o.Suspense,{fallback:Object(j.jsx)(s.a,{}),children:Object(j.jsxs)(c.d,{children:[Object(j.jsx)(c.b,{path:"/smart-yield/:path(markets|portfolio)",render:function(t){var e=t.location;return Object(j.jsxs)(v.a,{children:[Object(j.jsx)(y.a,{children:Object(j.jsx)(c.b,{path:"/smart-yield/markets",exact:!0,component:O})}),u.initialized&&Object(j.jsx)(j.Fragment,{children:u.isActive?Object(j.jsx)(c.b,{path:"/smart-yield/portfolio",component:g}):Object(j.jsx)(c.a,{to:{pathname:"/smart-yield/markets",search:e.search}})})]})}}),Object(j.jsx)(c.b,{path:"/smart-yield/:path(deposit|withdraw)",render:function(){return u.initialized&&Object(j.jsx)(j.Fragment,{children:u.isActive?Object(j.jsxs)(h.a,{children:[Object(j.jsx)(c.b,{path:"/smart-yield/deposit",component:k}),Object(j.jsx)(c.b,{path:"/smart-yield/withdraw",component:x})]}):Object(j.jsx)(c.a,{to:"/smart-yield/markets"})})}}),Object(j.jsx)(c.b,{path:"/smart-yield/stats",exact:!0,children:Object(j.jsx)(h.a,{children:Object(j.jsx)(y.a,{children:Object(j.jsx)(w,{})})})}),n.features.smartYieldReward&&Object(j.jsx)(c.b,{path:"/smart-yield/pools",exact:!0,children:Object(j.jsx)(y.a,{children:Object(j.jsx)(T,{})})}),n.features.smartYieldReward&&Object(j.jsx)(c.b,{path:"/smart-yield/pool",component:S,children:Object(j.jsx)(f.a,{children:Object(j.jsx)(S,{})})}),Object(j.jsx)(c.a,{to:"/smart-yield/markets"})]})})})]})}}}]);
//# sourceMappingURL=47.563aeaf5.chunk.js.map