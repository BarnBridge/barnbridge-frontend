{"version":3,"sources":["components/antd/form/index.tsx","components/antd/divider/index.tsx","components/antd/form/s.module.scss","components/antd/divider/s.module.scss","components/antd/spin/index.tsx","components/antd/spin/s.module.scss","../node_modules/antd/lib/divider/index.js","components/antd/table/index.tsx","components/custom/icons-set/index.tsx","components/custom/icons-set/s.module.scss","components/custom/table-filter/index.tsx","components/custom/label/index.tsx","components/custom/label/s.module.scss","components/antd/table/s.module.scss","../node_modules/antd/es/_util/type.js","components/alert/index.tsx","../node_modules/@ant-design/icons-svg/es/asn/LoadingOutlined.js","../node_modules/@ant-design/icons/es/icons/LoadingOutlined.js","../node_modules/antd/es/_util/reactNode.js","components/alert/s.module.scss","modules/smart-yield/views/deposit-view/deposit-header/index.tsx","../node_modules/antd/es/spin/index.js","modules/smart-yield/views/stats-view/apy/s.module.scss","modules/smart-yield/views/stats-view/liquidity/s.module.scss","modules/smart-yield/views/stats-view/market/s.module.scss","modules/smart-yield/views/stats-view/s.module.scss","modules/smart-yield/views/stats-view/apy/index.tsx","modules/smart-yield/views/stats-view/junior-bonds-table/index.tsx","modules/smart-yield/views/stats-view/liquidity/index.tsx","modules/smart-yield/views/stats-view/market/index.tsx","modules/smart-yield/views/stats-view/pool-tx-table/index.tsx","modules/smart-yield/views/stats-view/senior-bonds-table/index.tsx","modules/smart-yield/views/stats-view/index.tsx"],"names":["Form","props","className","children","formProps","cn","s","form","layout","requiredMark","Item","label","hint","extra","itemProps","item","flow","gap","align","title","name","size","List","listProps","Divider","dividerProps","divider","module","exports","Spin","type","spinProps","indicator","React","useMemo","spin","_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","value","_extends2","_defineProperty2","_classnames","_configProvider","__rest","e","t","p","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","_default","createElement","ConfigConsumer","_ref","_classNames","getPrefixCls","direction","customizePrefixCls","prefixCls","_props$type","_props$orientation","orientation","dashed","plain","restProps","orientationPrefix","concat","hasChildren","classString","role","Table","pagination","tableProps","component","bordered","showSorterTooltip","showSizeChanger","IconsSet","icons","TableFilter","filters","onChange","AntdForm","useForm","useState","visible","setVisible","initialValues","reduce","a","c","defaultValue","countApplied","count","forEach","filter","useEffect","setFieldsValue","Content","validateTrigger","onFinish","values","map","itemRender","onClick","resetFields","overlayStyle","width","content","onVisibleChange","placement","classNames","AprLabel","iconSize","aprLabel","aprLabelLarge","icon","idx","aprLabelText","aprLabelTextGradient","tuple","_len","arguments","args","Array","_key","RenderLink","href","variation","to","getIconName","Alert","link","alert","weight","LoadingOutlined","ref","AntdIcon","_objectSpread","LoadingOutlinedSvg","displayName","isValidElement","cloneElement","element","replacement","replaceElement","DepositHeader","wallet","useWallet","pool","useSYPool","isRootDeposit","Boolean","useRouteMatch","path","exact","isSeniorDeposit","isJuniorDeposit","style","token","bubble1Name","market","active","display","whiteSpace","color","underlyingSymbol","isActive","formatToken","contracts","underlying","balance","scale","underlyingDecimals","tag","smartYield","symbol","formatPercent","state","seniorApy","juniorApy","defaultIndicator","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","this","debouncifyUpdateSpinning","delay","cancelExistingSpin","updateSpinning","debounce","originalUpdateSpinning","spinning","setState","renderSpin","_ref2","_a","tip","wrapperClassName","spinClassName","_defineProperty","divProps","omit","spinElement","_extends","dotClassName","renderIndicator","isNestedPattern","containerClassName","key","shouldBeDelayed","isNaN","Number","shouldDelay","_createClass","cancel","defaultProps","tabs","id","InitialState","loading","data","ApyTrend","syAPI","useSyAPI","activeTab","setActiveTab","mergeState","fetchSYPoolAPY","smartYieldAddress","poolAPYs","apy","point","Date","valueOf","ticks","dates","d","minDate","Math","min","maxDate","max","isFinite","range","minDt","from","_","index","header","activeKey","height","margin","left","gradientTransform","offset","stopColor","vertical","strokeDasharray","stroke","dataKey","tickMargin","minTickGap","tickFormatter","isInteger","format","formatTick","axisLine","tickLine","separator","labelFormatter","formatter","fill","strokeWidth","TokenNameColumn","projectToken","useKnownTokens","bubble2Name","address","DepositedColumn","entity","getAmountInUSD","useTokens","depositedAmount","decimals","underlyingTokenDecimals","tokenName","formatUSD","Columns","render","accountAddress","shortenAddr","transactionHash","blockTimestamp","maturityDate","total","pageSize","page","redeemed","sortBy","sortDir","Filters","options","JuniorBondsTable","prevState","fetchSYJuniorBonds","undefined","history","meta","columns","dataSource","rowKey","current","position","showTotal","scroll","x","Liquidity","convertTokenInUSD","fetchSYPoolLiquidity","poolLiquidity","liquidity","seniorLiquidity","toNumber","juniorLiquidity","compact","maxWidth","text","MarketDetails","bondToken","stkAaveToken","poolCtx","pools","useRewardPools","getToken","abond","abondDebt","seniorLiquiditySum","BigNumber","multipliedBy","price","toString","juniorLiquiditySum","abondPrincipalSum","principal","unscaleBy","abondGainSum","gain","abondDebtSum","hasZeroBondRewardLeft","find","rPool","rewardPool","rewardPoolAddress","rewardTokens","some","rewardToken","getRewardLeftFor","isZero","Intl","NumberFormat","notation","formatNumber","numberOfSeniors","numberOfJuniors","rewardTokensCount","plus","apr","getFormattedDuration","now","avgSeniorMaturityDays","juniorLiquidityLocked","maturesAt","isTokenAmount","poolEntity","underlyingTokenAddress","underlyingTokenSymbol","capitalize","tranche","HistoryShortTypes","get","transactionType","isPositive","isPositiveHistoryType","amount","computedAmount","HistoryTypes","entries","PoolTxTable","fetchSYPoolTransactions","transactions","mappedData","tokenPrice","APISYTxHistoryType","SENIOR_DEPOSIT","SENIOR_REDEEM","JUNIOR_DEPOSIT","JUNIOR_REDEEM","SBOND_SEND","SBOND_RECEIVE","includes","JUNIOR_INSTANT_WITHDRAW","JUNIOR_REGULAR_WITHDRAW","JTOKEN_SEND","JTOKEN_RECEIVE","JBOND_SEND","JBOND_RECEIVE","JUNIOR_STAKE","JUNIOR_UNSTAKE","jTokenPrice","underlyingAddress","redeemableAmount","SeniorBondsTable","fetchSYSeniorBonds","StatsView","config","useConfig","syPool","tabsComponent","marketId","getKnownMarketById","depositDisabled","pathname","search","tokenId","disabled","features","faucets","warning","apyMarketRow"],"mappings":"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","file":"static/js/37.8b1bc76c.chunk.js","sourcesContent":["import React from 'react';\nimport AntdForm, {\n  FormItemProps as AntdFormItemProps,\n  FormListProps as AntdFormListProps,\n  FormProps as AntdFormProps,\n} from 'antd/lib/form';\nimport cn from 'classnames';\n\nimport { Icon } from 'components/icon';\n\nimport Grid from '../../custom/grid';\nimport Tooltip from '../tooltip';\n\nimport s from './s.module.scss';\n\nexport type FormListProps = AntdFormListProps;\n\nconst FormList: React.FC<FormListProps> = props => {\n  const { children, ...listProps } = props;\n\n  return <AntdForm.List {...listProps}>{children}</AntdForm.List>;\n};\n\nexport type FormItemProps = AntdFormItemProps<any> & {\n  hint?: string;\n};\n\nconst FormItem: React.FC<FormItemProps> = props => {\n  const { className, label, hint, extra, children, ...itemProps } = props;\n\n  return (\n    <AntdForm.Item\n      className={cn(s.item, className)}\n      {...itemProps}\n      label={\n        <>\n          <Grid flow=\"col\" gap={4} align=\"center\">\n            {label}\n            {hint && (\n              <Tooltip title={hint}>\n                <span>\n                  <Icon name=\"info\" size={15} />\n                </span>\n              </Tooltip>\n            )}\n          </Grid>\n          {extra}\n        </>\n      }>\n      {children}\n    </AntdForm.Item>\n  );\n};\n\nexport type FormProps = AntdFormProps;\n\nconst Form: React.FC<FormProps> = props => {\n  const { className, children, ...formProps } = props;\n\n  return (\n    <AntdForm className={cn(s.form, className)} layout=\"vertical\" requiredMark={false} {...formProps}>\n      {children}\n    </AntdForm>\n  );\n};\n\nexport type StaticFormProps = {\n  Item: React.FC<FormItemProps>;\n  List: React.FC<FormListProps>;\n};\n\n(Form as any as StaticFormProps).Item = FormItem;\n(Form as any as StaticFormProps).List = FormList;\n\nexport default Form as React.FC<FormProps> & StaticFormProps;\n","import React from 'react';\nimport AntdDivider, { DividerProps as AntdDividerProps } from 'antd/lib/divider';\nimport cn from 'classnames';\n\nimport s from './s.module.scss';\n\nconst Divider: React.FC<AntdDividerProps> = props => {\n  const { className, ...dividerProps } = props;\n\n  return <AntdDivider className={cn(s.divider, className)} {...dividerProps} />;\n};\n\nexport default Divider;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"s_form__36nMg\",\"item\":\"s_item__2gbuN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"s_divider__3YM-J\"};","import React from 'react';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport AntdSpin, { SpinProps as AntdSpinProps } from 'antd/lib/spin';\nimport cn from 'classnames';\n\nimport s from './s.module.scss';\n\ntype Props = AntdSpinProps & {\n  type?: 'default' | 'circle';\n};\n\nconst Spin: React.FC<Props> = props => {\n  const { type = 'default', className, ...spinProps } = props;\n\n  const indicator = React.useMemo(() => {\n    switch (type) {\n      case 'circle':\n        return <LoadingOutlined spin />;\n      default:\n        break;\n    }\n\n    return undefined;\n  }, [type]);\n\n  return <AntdSpin indicator={indicator} className={cn(s.spin, className)} {...spinProps} />;\n};\n\nexport default Spin;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spin\":\"s_spin__1EZtC\"};","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _configProvider = require(\"../config-provider\");\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar Divider = function Divider(props) {\n  return /*#__PURE__*/React.createElement(_configProvider.ConfigConsumer, null, function (_ref) {\n    var _classNames;\n\n    var getPrefixCls = _ref.getPrefixCls,\n        direction = _ref.direction;\n\n    var customizePrefixCls = props.prefixCls,\n        _props$type = props.type,\n        type = _props$type === void 0 ? 'horizontal' : _props$type,\n        _props$orientation = props.orientation,\n        orientation = _props$orientation === void 0 ? 'center' : _props$orientation,\n        className = props.className,\n        children = props.children,\n        dashed = props.dashed,\n        plain = props.plain,\n        restProps = __rest(props, [\"prefixCls\", \"type\", \"orientation\", \"className\", \"children\", \"dashed\", \"plain\"]);\n\n    var prefixCls = getPrefixCls('divider', customizePrefixCls);\n    var orientationPrefix = orientation.length > 0 ? \"-\".concat(orientation) : orientation;\n    var hasChildren = !!children;\n    var classString = (0, _classnames[\"default\"])(prefixCls, \"\".concat(prefixCls, \"-\").concat(type), (_classNames = {}, (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-with-text\"), hasChildren), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-with-text\").concat(orientationPrefix), hasChildren), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-dashed\"), !!dashed), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-plain\"), !!plain), (0, _defineProperty2[\"default\"])(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"div\", (0, _extends2[\"default\"])({\n      className: classString\n    }, restProps, {\n      role: \"separator\"\n    }), children && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(prefixCls, \"-inner-text\")\n    }, children));\n  });\n};\n\nvar _default = Divider;\nexports[\"default\"] = _default;","import React from 'react';\nimport AntdTable, { TableProps as AntdTableProps } from 'antd/lib/table';\nimport cn from 'classnames';\n\nimport s from './s.module.scss';\n\nconst Table = <T extends Record<string, any>>(\n  props: React.PropsWithChildren<AntdTableProps<T>>,\n): React.ReactElement => {\n  const { className, pagination, ...tableProps } = props;\n\n  return (\n    <AntdTable<T>\n      className={cn(s.component, className)}\n      bordered={false}\n      showSorterTooltip={false}\n      pagination={\n        pagination\n          ? {\n              showSizeChanger: false,\n              ...pagination,\n            }\n          : false\n      }\n      {...tableProps}\n    />\n  );\n};\n\nexport default Table;\n","import React from 'react';\nimport cn from 'classnames';\n\nimport s from './s.module.scss';\n\nexport type IconsSetProps = {\n  icons: React.ReactNode[];\n  className?: string;\n};\n\nconst IconsSet: React.FC<IconsSetProps> = props => {\n  return <div className={cn(s.component, props.className)}>{props.icons}</div>;\n};\n\nexport default IconsSet;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"s_component__2UoVy\"};","import { ReactNode, useEffect, useMemo, useState } from 'react';\nimport AntdForm from 'antd/lib/form';\nimport classNames from 'classnames';\n\nimport Form from 'components/antd/form';\nimport Popover from 'components/antd/popover';\nimport { SquareBadge } from 'components/custom/badge';\nimport { Icon } from 'components/icon';\nimport { CP } from 'components/types.tx';\n\ntype RecordType = Record<string, any>;\n\nexport type TableFilterType<T extends RecordType = RecordType, K extends keyof T = string> = {\n  name: K;\n  label: ReactNode;\n  itemRender: () => ReactNode;\n  defaultValue: any;\n};\n\ntype Props<T extends RecordType = RecordType> = {\n  className?: string;\n  filters: TableFilterType<T>[];\n  value?: T;\n  onChange: (values: T) => void;\n};\n\nfunction TableFilter<T extends RecordType = RecordType>(props: CP<Props<T>>) {\n  const { filters, value, onChange, className } = props;\n\n  const [form] = AntdForm.useForm<Record<string, any>>();\n  const [visible, setVisible] = useState<boolean>(false);\n\n  const initialValues = useMemo(\n    () =>\n      filters.reduce((a, c) => {\n        return {\n          ...a,\n          [c.name]: c.defaultValue,\n        };\n      }, {}),\n    [filters],\n  );\n\n  const countApplied = useMemo(() => {\n    let count = 0;\n\n    if (value) {\n      filters.forEach(filter => {\n        if (value[filter.name] !== filter.defaultValue) {\n          count++;\n        }\n      });\n    }\n\n    return count;\n  }, [filters, value]);\n\n  useEffect(() => {\n    if (value) {\n      form.setFieldsValue(value);\n    }\n  }, [value]);\n\n  function handleSubmit(values: T) {\n    setVisible(false);\n    onChange(values);\n  }\n\n  const Content = (\n    <Form form={form} initialValues={initialValues} validateTrigger={['onSubmit']} onFinish={handleSubmit}>\n      {filters.map(filter => (\n        <Form.Item key={filter.name} name={filter.name} label={filter.label} className=\"mb-32\">\n          {filter.itemRender()}\n        </Form.Item>\n      ))}\n      <div className=\"grid flow-col align-center justify-space-between\">\n        <button type=\"button\" onClick={() => form.resetFields()} className=\"button-text\">\n          Reset filters\n        </button>\n        <button type=\"submit\" className=\"button-primary\">\n          Apply filters\n        </button>\n      </div>\n    </Form>\n  );\n\n  return (\n    <Popover\n      title=\"Filters\"\n      overlayStyle={{ width: 348 }}\n      content={Content}\n      visible={visible}\n      onVisibleChange={setVisible}\n      placement=\"bottomRight\">\n      <button type=\"button\" className={classNames('button-ghost-monochrome pv-16', className)}>\n        <Icon name=\"filter\" className=\"mr-8\" />\n        <span className=\"mr-8\">Filters</span>\n        <SquareBadge>{countApplied}</SquareBadge>\n      </button>\n    </Popover>\n  );\n}\n\nexport default TableFilter;\n","import classNames from 'classnames';\n\nimport IconsSet from 'components/custom/icons-set';\nimport { TokenIcon, TokenIconNames } from 'components/token-icon';\n\nimport s from './s.module.scss';\n\ntype AprLabelPropsType = {\n  icons: TokenIconNames[];\n  size?: 'large';\n};\n\nexport const AprLabel: React.FC<AprLabelPropsType> = ({ icons, size, children }) => {\n  const iconSize = size === 'large' ? 16 : 12;\n\n  return (\n    <div\n      className={classNames(s.aprLabel, {\n        [s.aprLabelLarge]: size === 'large',\n      })}>\n      <IconsSet\n        className=\"mr-4\"\n        icons={icons.map((icon, idx) => (\n          <TokenIcon key={idx} name={icon} size={iconSize} />\n        ))}\n      />\n      <div\n        className={classNames(s.aprLabelText, {\n          [s.aprLabelTextGradient]: icons.length > 1,\n        })}>\n        {children}\n      </div>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aprLabel\":\"s_aprLabel__2wyqU\",\"aprLabelLarge\":\"s_aprLabelLarge__2UJ3z\",\"aprLabelText\":\"s_aprLabelText__1POf6\",\"aprLabelTextGradient\":\"s_aprLabelTextGradient__3jxlu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"component\":\"s_component___p2il\"};","// https://stackoverflow.com/questions/46176165/ways-to-get-string-literal-type-of-array-values-without-enum-overhead\nexport var tuple = function tuple() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return args;\n};\nexport var tupleNum = function tupleNum() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args;\n};","import { ReactElement } from 'react';\nimport classNames from 'classnames';\n\nimport { ExternalLink, Link } from 'components/button';\nimport { Text } from 'components/custom/typography';\nimport { Icon, IconNames } from 'components/icon';\n\nimport s from './s.module.scss';\n\ntype RenderLinkProps = {\n  type?: 'link' | 'external';\n  href: string;\n  children: string;\n};\n\nconst RenderLink: React.FC<RenderLinkProps> = ({ type = 'link', href, children }) => {\n  // TODO: switch to raw Link and 'a', style locally link color and hover\n  if (type === 'link') {\n    return (\n      <Link variation=\"link\" to={href}>\n        {children}\n      </Link>\n    );\n  }\n\n  return (\n    <ExternalLink variation=\"link\" href={href}>\n      {children}\n    </ExternalLink>\n  );\n};\n\ninterface AlertPropsType {\n  type: 'info' | 'warning' | 'error';\n  className?: string;\n  title?: ReactElement;\n  link?: RenderLinkProps;\n}\n\nfunction getIconName(type: AlertPropsType['type']): IconNames {\n  switch (type) {\n    case 'info':\n      return 'info';\n    case 'warning':\n      return 'danger';\n    case 'error':\n      return 'error';\n  }\n}\n\nexport const Alert: React.FC<AlertPropsType> = ({ type, className, children, title, link }) => {\n  return (\n    <div className={classNames(s.alert, s[type], className)}>\n      <Icon name={getIconName(type)} size={24} className=\"mr-16\" />\n      <div>\n        {title ? (\n          <Text type=\"p2\" weight=\"bold\" className=\"mb-4\">\n            {title}\n          </Text>\n        ) : null}\n        {children ? (\n          <Text type=\"p2\" weight=\"semibold\">\n            {children}\n          </Text>\n        ) : null}\n        {link ? <RenderLink {...link} /> : null}\n      </div>\n    </div>\n  );\n};\n","// This icon file is generated automatically.\nvar LoadingOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"0 0 1024 1024\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z\" } }] }, \"name\": \"loading\", \"theme\": \"outlined\" };\nexport default LoadingOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LoadingOutlinedSvg from \"@ant-design/icons-svg/es/asn/LoadingOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LoadingOutlined = function LoadingOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LoadingOutlinedSvg\n  }));\n};\n\nLoadingOutlined.displayName = 'LoadingOutlined';\nexport default /*#__PURE__*/React.forwardRef(LoadingOutlined);","import * as React from 'react';\nvar isValidElement = React.isValidElement;\nexport { isValidElement };\nexport function replaceElement(element, replacement, props) {\n  if (!isValidElement(element)) return replacement;\n  return /*#__PURE__*/React.cloneElement(element, typeof props === 'function' ? props(element.props || {}) : props);\n}\nexport function cloneElement(element, props) {\n  return replaceElement(element, element, props);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alert\":\"s_alert__2vNah\",\"info\":\"s_info__3TCZE\",\"warning\":\"s_warning__5QlkP\",\"error\":\"s_error__Zg2fw\"};","import React from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport cn from 'classnames';\nimport { formatPercent, formatToken } from 'web3/utils';\n\nimport Tooltip from 'components/antd/tooltip';\nimport Grid from 'components/custom/grid';\nimport { Text } from 'components/custom/typography';\nimport { TokenIcon, TokenIconNames } from 'components/token-icon';\nimport { useSYPool } from 'modules/smart-yield/providers/pool-provider';\nimport { useWallet } from 'wallets/walletProvider';\n\ntype Props = {\n  className?: string;\n};\n\nconst DepositHeader: React.FC<Props> = ({ className }) => {\n  const wallet = useWallet();\n  const poolCtx = useSYPool();\n  const { pool } = poolCtx;\n\n  const isRootDeposit = Boolean(\n    useRouteMatch({\n      path: '/smart-yield/deposit',\n      exact: true,\n    }),\n  );\n  const isSeniorDeposit = Boolean(useRouteMatch('/smart-yield/deposit/senior'));\n  const isJuniorDeposit = Boolean(useRouteMatch('/smart-yield/deposit/junior'));\n\n  if (!pool) {\n    return null;\n  }\n\n  return (\n    <div\n      className={cn('flexbox-list', className)}\n      style={{ '--gap': '24px 64px', '--sm-gap': '24px', '--min': 'auto' } as React.CSSProperties}>\n      <Grid flow=\"col\" gap={16} align=\"center\">\n        <TokenIcon name={pool.token?.icon as TokenIconNames} bubble1Name={pool.market?.icon.active as TokenIconNames} />\n        <div className=\"ml-auto\">\n          <div\n            className=\"mb-4\"\n            style={{\n              display: 'flex',\n              whiteSpace: 'nowrap',\n            }}>\n            <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mr-4\">\n              {pool.token?.name}\n            </Text>\n            <Text type=\"p1\" weight=\"semibold\">\n              ({pool.underlyingSymbol})\n            </Text>\n          </div>\n          <Text type=\"small\" weight=\"semibold\">\n            {pool.market?.name}\n          </Text>\n        </div>\n      </Grid>\n      {wallet.isActive && (\n        <>\n          <Tooltip\n            title={formatToken(pool.contracts.underlying.balance, {\n              scale: pool.underlyingDecimals,\n            })}>\n            <Text type=\"small\" weight=\"semibold\" className=\"mb-4\">\n              Wallet balance\n            </Text>\n            <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n              <span className=\"grid flow-col col-gap-8 align-center\">\n                {formatToken(pool.contracts.underlying.balance, {\n                  scale: pool.underlyingDecimals,\n                })}\n                <Text type=\"small\" tag=\"span\" weight=\"semibold\" color=\"secondary\">\n                  {pool.underlyingSymbol}\n                </Text>\n              </span>\n            </Text>\n          </Tooltip>\n          {!isSeniorDeposit && !isRootDeposit && (\n            <Tooltip\n              title={formatToken(pool.contracts.smartYield.balance, {\n                scale: pool.underlyingDecimals,\n              })}>\n              <Text type=\"small\" weight=\"semibold\" className=\"mb-4\">\n                Portfolio balance\n              </Text>\n              <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                <span className=\"grid flow-col col-gap-8 align-center\">\n                  {formatToken(pool.contracts.smartYield.balance, {\n                    scale: pool.underlyingDecimals,\n                  })}\n                  <Text type=\"small\" tag=\"span\" weight=\"semibold\" color=\"secondary\">\n                    {pool.contracts.smartYield.symbol}\n                  </Text>\n                </span>\n              </Text>\n            </Tooltip>\n          )}\n          {isSeniorDeposit && (\n            <div>\n              <Text type=\"small\" weight=\"semibold\" className=\"mb-4\">\n                Senior APY\n              </Text>\n              <Text type=\"p1\" weight=\"semibold\" color=\"green\">\n                {formatPercent(pool.state.seniorApy)}\n              </Text>\n            </div>\n          )}\n          {isJuniorDeposit && (\n            <div>\n              <Text type=\"small\" weight=\"semibold\" className=\"mb-4\">\n                Junior APY\n              </Text>\n              <Text type=\"p1\" weight=\"semibold\" color=\"purple\">\n                {formatPercent(pool.state.juniorApy)}\n              </Text>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default DepositHeader;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport debounce from 'lodash/debounce';\nimport { ConfigConsumer } from '../config-provider';\nimport { tuple } from '../_util/type';\nimport { isValidElement, cloneElement } from '../_util/reactNode';\nvar SpinSizes = tuple('small', 'default', 'large'); // Render indicator\n\nvar defaultIndicator = null;\n\nfunction renderIndicator(prefixCls, props) {\n  var indicator = props.indicator;\n  var dotClassName = \"\".concat(prefixCls, \"-dot\"); // should not be render default indicator when indicator value is null\n\n  if (indicator === null) {\n    return null;\n  }\n\n  if (isValidElement(indicator)) {\n    return cloneElement(indicator, {\n      className: classNames(indicator.props.className, dotClassName)\n    });\n  }\n\n  if (isValidElement(defaultIndicator)) {\n    return cloneElement(defaultIndicator, {\n      className: classNames(defaultIndicator.props.className, dotClassName)\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: classNames(dotClassName, \"\".concat(prefixCls, \"-dot-spin\"))\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"\".concat(prefixCls, \"-dot-item\")\n  }));\n}\n\nfunction shouldDelay(spinning, delay) {\n  return !!spinning && !!delay && !isNaN(Number(delay));\n}\n\nvar Spin = /*#__PURE__*/function (_React$Component) {\n  _inherits(Spin, _React$Component);\n\n  var _super = _createSuper(Spin);\n\n  function Spin(props) {\n    var _this;\n\n    _classCallCheck(this, Spin);\n\n    _this = _super.call(this, props);\n\n    _this.debouncifyUpdateSpinning = function (props) {\n      var _ref = props || _this.props,\n          delay = _ref.delay;\n\n      if (delay) {\n        _this.cancelExistingSpin();\n\n        _this.updateSpinning = debounce(_this.originalUpdateSpinning, delay);\n      }\n    };\n\n    _this.updateSpinning = function () {\n      var spinning = _this.props.spinning;\n      var currentSpinning = _this.state.spinning;\n\n      if (currentSpinning !== spinning) {\n        _this.setState({\n          spinning: spinning\n        });\n      }\n    };\n\n    _this.renderSpin = function (_ref2) {\n      var _classNames;\n\n      var getPrefixCls = _ref2.getPrefixCls,\n          direction = _ref2.direction;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          className = _a.className,\n          size = _a.size,\n          tip = _a.tip,\n          wrapperClassName = _a.wrapperClassName,\n          style = _a.style,\n          restProps = __rest(_a, [\"prefixCls\", \"className\", \"size\", \"tip\", \"wrapperClassName\", \"style\"]);\n\n      var spinning = _this.state.spinning;\n      var prefixCls = getPrefixCls('spin', customizePrefixCls);\n      var spinClassName = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-spinning\"), spinning), _defineProperty(_classNames, \"\".concat(prefixCls, \"-show-text\"), !!tip), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className); // fix https://fb.me/react-unknown-prop\n\n      var divProps = omit(restProps, ['spinning', 'delay', 'indicator']);\n      var spinElement = /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n        style: style,\n        className: spinClassName\n      }), renderIndicator(prefixCls, _this.props), tip ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-text\")\n      }, tip) : null);\n\n      if (_this.isNestedPattern()) {\n        var containerClassName = classNames(\"\".concat(prefixCls, \"-container\"), _defineProperty({}, \"\".concat(prefixCls, \"-blur\"), spinning));\n        return /*#__PURE__*/React.createElement(\"div\", _extends({}, divProps, {\n          className: classNames(\"\".concat(prefixCls, \"-nested-loading\"), wrapperClassName)\n        }), spinning && /*#__PURE__*/React.createElement(\"div\", {\n          key: \"loading\"\n        }, spinElement), /*#__PURE__*/React.createElement(\"div\", {\n          className: containerClassName,\n          key: \"container\"\n        }, _this.props.children));\n      }\n\n      return spinElement;\n    };\n\n    var spinning = props.spinning,\n        delay = props.delay;\n    var shouldBeDelayed = shouldDelay(spinning, delay);\n    _this.state = {\n      spinning: spinning && !shouldBeDelayed\n    };\n    _this.originalUpdateSpinning = _this.updateSpinning;\n\n    _this.debouncifyUpdateSpinning(props);\n\n    return _this;\n  }\n\n  _createClass(Spin, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.debouncifyUpdateSpinning();\n      this.updateSpinning();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelExistingSpin();\n    }\n  }, {\n    key: \"cancelExistingSpin\",\n    value: function cancelExistingSpin() {\n      var updateSpinning = this.updateSpinning;\n\n      if (updateSpinning && updateSpinning.cancel) {\n        updateSpinning.cancel();\n      }\n    }\n  }, {\n    key: \"isNestedPattern\",\n    value: function isNestedPattern() {\n      return !!(this.props && typeof this.props.children !== 'undefined');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderSpin);\n    }\n  }], [{\n    key: \"setDefaultIndicator\",\n    value: function setDefaultIndicator(indicator) {\n      defaultIndicator = indicator;\n    }\n  }]);\n\n  return Spin;\n}(React.Component);\n\nSpin.defaultProps = {\n  spinning: true,\n  size: 'default',\n  wrapperClassName: ''\n};\nexport default Spin;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"s_header__3BAj7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"s_header__16d82\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"s_header__3X8DC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"apyMarketRow\":\"s_apyMarketRow__k1ght\"};","import React from 'react';\nimport { Spin } from 'antd';\nimport cn from 'classnames';\nimport format from 'date-fns/format';\nimport * as ReCharts from 'recharts';\nimport { formatPercent } from 'web3/utils';\n\nimport { Tabs } from 'components/custom/tabs';\nimport { Text } from 'components/custom/typography';\nimport { mergeState } from 'hooks/useMergeState';\nimport { APISYPoolAPY, useSyAPI } from 'modules/smart-yield/api';\nimport { useSYPool } from 'modules/smart-yield/providers/pool-provider';\n\nimport s from './s.module.scss';\n\ntype ChartEntity = Omit<APISYPoolAPY, 'point'> & {\n  point: number;\n};\n\nconst tabs = [\n  {\n    id: '24h',\n    children: '24h',\n  },\n  {\n    id: '1w',\n    children: '1w',\n  },\n  {\n    id: '30d',\n    children: '1mo',\n  },\n];\n\ntype State = {\n  loading: boolean;\n  data: ChartEntity[];\n};\n\nconst InitialState: State = {\n  loading: false,\n  data: [],\n};\n\nconst ApyTrend: React.FC = () => {\n  const poolCtx = useSYPool();\n  const { pool } = poolCtx;\n  const syAPI = useSyAPI();\n\n  const [activeTab, setActiveTab] = React.useState('24h');\n  const [state, setState] = React.useState<State>(InitialState);\n\n  React.useEffect(() => {\n    if (!pool) {\n      setState(\n        mergeState<State>({\n          data: [],\n        }),\n      );\n      return;\n    }\n\n    (async () => {\n      setState(\n        mergeState<State>({\n          loading: true,\n        }),\n      );\n\n      try {\n        const poolAPYs = await syAPI.fetchSYPoolAPY(pool.smartYieldAddress, activeTab);\n\n        setState(\n          mergeState<State>({\n            loading: false,\n            data: poolAPYs.map(apy => ({\n              ...apy,\n              point: new Date(apy.point).valueOf(),\n            })),\n          }),\n        );\n      } catch {\n        setState(\n          mergeState<State>({\n            loading: false,\n            data: [],\n          }),\n        );\n      }\n    })();\n  }, [pool, activeTab]);\n\n  const ticks = React.useMemo(() => {\n    const dates = state.data.map(d => d.point);\n    const minDate = Math.min(...dates);\n    const maxDate = Math.max(...dates);\n\n    if (!Number.isFinite(minDate) || !Number.isFinite(maxDate)) {\n      return [];\n    }\n\n    let count = 0;\n    let range = 0;\n\n    switch (activeTab) {\n      case '24h':\n        count = 3;\n        range = 8 * 60 * 60 * 1_000; // 8 hours\n        break;\n      case '1w':\n        count = 7;\n        range = 24 * 60 * 60 * 1_000; // 24 hours\n        break;\n      case '30d':\n        count = 4;\n        range = 7 * 24 * 60 * 60 * 1_000; // 7 days\n        break;\n      default:\n        return [];\n    }\n\n    const minDt = maxDate - count * range;\n\n    return Array.from({ length: count + 1 }).map((_, index) => minDt + range * index);\n  }, [state.data, activeTab]);\n\n  function formatTick(value: number) {\n    if (!Number.isInteger(value)) {\n      return '';\n    }\n\n    switch (activeTab) {\n      case '24h':\n        return format(new Date(value), 'HH:mm');\n      case '1w':\n        return format(new Date(value), 'EEE');\n      case '30d':\n        return format(new Date(value), 'dd MMM');\n      default:\n        return '';\n    }\n  }\n\n  if (!pool) {\n    return null;\n  }\n\n  return (\n    <section className=\"card\">\n      <header className={cn('card-header flex align-center', s.header)}>\n        <div className=\"text-p1 fw-semibold color-primary\">APY trend</div>\n        <Tabs\n          tabs={tabs}\n          activeKey={activeTab}\n          onClick={setActiveTab}\n          className=\"ml-auto\"\n          variation=\"elastic\"\n          size=\"small\"\n        />\n      </header>\n      <div className=\"p-24\">\n        <Spin spinning={state.loading}>\n          <ReCharts.ResponsiveContainer width=\"100%\" height={300} className=\"mb-24\">\n            <ReCharts.AreaChart data={state.data} margin={{ left: -12 }}>\n              <defs>\n                <linearGradient id=\"chart-green-gradient\" gradientTransform=\"rotate(180)\">\n                  <stop offset=\"0%\" stopColor=\"rgba(var(--theme-green-color-rgb), 0.08)\" />\n                  <stop offset=\"100%\" stopColor=\"rgba(var(--theme-green-color-rgb), 0)\" />\n                </linearGradient>\n                <linearGradient id=\"chart-purple-gradient\" gradientTransform=\"rotate(180)\">\n                  <stop offset=\"0%\" stopColor=\"rgba(var(--theme-purple-color-rgb), 0.08)\" />\n                  <stop offset=\"100%\" stopColor=\"rgba(var(--theme-purple-color-rgb), 0)\" />\n                </linearGradient>\n              </defs>\n              <ReCharts.CartesianGrid vertical={false} strokeDasharray=\"3 0\" stroke=\"var(--theme-border-color)\" />\n              <ReCharts.XAxis\n                dataKey=\"point\"\n                ticks={ticks}\n                tickMargin={12}\n                minTickGap={0}\n                tickFormatter={value => formatTick(value)}\n              />\n              <ReCharts.YAxis\n                axisLine={false}\n                tickLine={false}\n                tickFormatter={value => formatPercent(value, 0) ?? ''}\n              />\n              <ReCharts.Tooltip\n                separator=\"\"\n                labelFormatter={value => (\n                  <Text type=\"p2\" tag=\"span\" weight=\"semibold\" color=\"primary\">\n                    {Number.isFinite(value) ? format(new Date(value), 'MM.dd.yyyy HH:mm') : ''}\n                  </Text>\n                )}\n                formatter={(value: number, _: any, { dataKey }: any) => (\n                  <Text type=\"p2\" tag=\"span\" weight=\"semibold\" color={dataKey === 'seniorApy' ? 'green' : 'purple'}>\n                    {formatPercent(value)}\n                  </Text>\n                )}\n              />\n              <ReCharts.Area\n                name=\"Senior APY \"\n                dataKey=\"seniorApy\"\n                type=\"monotone\"\n                fill=\"url(#chart-green-gradient)\"\n                stroke=\"var(--theme-green-color)\"\n                strokeWidth={2}\n              />\n              <ReCharts.Area\n                name=\"Junior APY \"\n                dataKey=\"juniorApy\"\n                type=\"monotone\"\n                fill=\"url(#chart-purple-gradient)\"\n                stroke=\"var(--theme-purple-color)\"\n                strokeWidth={2}\n              />\n            </ReCharts.AreaChart>\n          </ReCharts.ResponsiveContainer>\n        </Spin>\n        <div className=\"flex flow-col justify-center col-gap-24 row-gap-16\">\n          <div className=\"chart-label\" style={{ '--dot-color': 'var(--theme-green-color)' } as React.CSSProperties}>\n            Senior APY\n          </div>\n          <div className=\"chart-label\" style={{ '--dot-color': 'var(--theme-purple-color)' } as React.CSSProperties}>\n            Junior APY\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default ApyTrend;\n","import React from 'react';\nimport { ColumnsType } from 'antd/lib/table/interface';\nimport format from 'date-fns/format';\nimport { formatToken, formatUSD, shortenAddr } from 'web3/utils';\n\nimport Select from 'components/antd/select';\nimport Table from 'components/antd/table';\nimport Tooltip from 'components/antd/tooltip';\nimport { ExplorerAddressLink, ExplorerTxLink } from 'components/button';\nimport TableFilter, { TableFilterType } from 'components/custom/table-filter';\nimport { Text } from 'components/custom/typography';\nimport { useKnownTokens } from 'components/providers/knownTokensProvider';\nimport { useTokens } from 'components/providers/tokensProvider';\nimport { TokenIcon, TokenIconNames } from 'components/token-icon';\nimport { APISYJuniorBonds, useSyAPI } from 'modules/smart-yield/api';\nimport { useSYPool } from 'modules/smart-yield/providers/pool-provider';\n\ntype TableEntity = APISYJuniorBonds;\n\nconst TokenNameColumn: React.FC = () => {\n  const { pool } = useSYPool();\n  const { projectToken } = useKnownTokens();\n\n  return (\n    <div className=\"flex\">\n      <TokenIcon\n        name={pool?.token?.icon as TokenIconNames}\n        bubble1Name={projectToken.icon}\n        bubble2Name={pool?.market?.icon.active as TokenIconNames}\n        className=\"mr-16\"\n      />\n      <div className=\"flex flow-row\">\n        <ExplorerAddressLink address={pool?.contracts.smartYield.address} className=\"flex flow-col mb-4\">\n          <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n            {pool?.contracts.smartYield.symbol}\n          </Text>\n        </ExplorerAddressLink>\n        <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n          {pool?.market?.name}\n        </Text>\n      </div>\n    </div>\n  );\n};\n\nconst DepositedColumn: React.FC<{ entity: TableEntity }> = ({ entity }) => {\n  const { pool } = useSYPool();\n  const { getAmountInUSD } = useTokens();\n\n  return (\n    <>\n      <Tooltip\n        title={formatToken(entity.depositedAmount, {\n          decimals: entity.underlyingTokenDecimals,\n          tokenName: pool?.contracts.smartYield.symbol,\n        })}>\n        <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n          {formatToken(entity.depositedAmount) ?? '-'}\n        </Text>\n      </Tooltip>\n      <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n        {formatUSD(getAmountInUSD(entity.depositedAmount, pool?.contracts.smartYield.symbol!)) ?? '-'}\n      </Text>\n    </>\n  );\n};\n\nconst Columns: ColumnsType<TableEntity> = [\n  {\n    title: 'Token Name',\n    render: (_, entity) => <TokenNameColumn />,\n  },\n  {\n    title: 'Deposited',\n    align: 'right',\n    render: (_, entity) => <DepositedColumn entity={entity} />,\n  },\n  {\n    title: 'Address',\n    render: function Render(_, entity) {\n      return (\n        <ExplorerAddressLink address={entity.accountAddress}>\n          <Text type=\"p1\" weight=\"semibold\" color=\"blue\">\n            {shortenAddr(entity.accountAddress)}\n          </Text>\n        </ExplorerAddressLink>\n      );\n    },\n  },\n  {\n    title: 'Tx Hash / Timestamp',\n    render: (_, entity) => (\n      <>\n        <ExplorerTxLink address={entity.transactionHash} className=\"mb-4\">\n          <Text type=\"p1\" weight=\"semibold\" color=\"blue\">\n            {shortenAddr(entity.transactionHash)}\n          </Text>\n        </ExplorerTxLink>\n        <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n          {format(entity.blockTimestamp * 1_000, 'MM.dd.yyyy HH:mm')}\n        </Text>\n      </>\n    ),\n  },\n  {\n    title: 'Maturity Date',\n    align: 'right',\n    render: (_, entity) => (\n      <>\n        <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n          {format(entity.maturityDate * 1_000, 'MM.dd.yyyy')}\n        </Text>\n        <Text type=\"small\" weight=\"semibold\">\n          {format(entity.maturityDate * 1_000, 'HH:mm')}\n        </Text>\n      </>\n    ),\n  },\n];\n\ntype State = {\n  loading: boolean;\n  data: TableEntity[];\n  total: number;\n  pageSize: number;\n  page: number;\n  filters: {\n    redeemed: string;\n    sortBy: string;\n    sortDir: string;\n  };\n};\n\nconst InitialState: State = {\n  loading: false,\n  data: [],\n  total: 0,\n  pageSize: 10,\n  page: 1,\n  filters: {\n    redeemed: 'all',\n    sortBy: 'none',\n    sortDir: 'desc',\n  },\n};\n\nconst Filters: TableFilterType[] = [\n  {\n    name: 'redeemed',\n    label: 'Type',\n    defaultValue: 'all',\n    itemRender: () => {\n      const options = [\n        {\n          value: 'all',\n          label: 'All junior bonds',\n        },\n        {\n          value: 'false',\n          label: 'Active',\n        },\n        {\n          value: 'true',\n          label: 'Redeemed',\n        },\n      ];\n\n      return <Select options={options} className=\"full-width\" />;\n    },\n  },\n  {\n    name: 'sortBy',\n    label: 'Sort by',\n    defaultValue: 'none',\n    itemRender: () => {\n      const options = [\n        {\n          value: 'none',\n          label: 'Default',\n        },\n        {\n          value: 'maturityDate',\n          label: 'Maturity Date',\n        },\n        {\n          value: 'depositedAmount',\n          label: 'Deposited Amount',\n        },\n      ];\n\n      return <Select options={options} className=\"full-width\" />;\n    },\n  },\n  {\n    name: 'sortDir',\n    label: 'Sort direction',\n    defaultValue: 'desc',\n    itemRender: () => {\n      const options = [\n        {\n          value: 'desc',\n          label: 'Descending',\n        },\n        {\n          value: 'asc',\n          label: 'Ascending',\n        },\n      ];\n\n      return <Select options={options} className=\"full-width\" />;\n    },\n  },\n];\n\ntype Props = {\n  tabs: React.ReactNode;\n};\n\nconst JuniorBondsTable: React.FC<Props> = ({ tabs }) => {\n  const poolCtx = useSYPool();\n  const { pool } = poolCtx;\n  const syAPI = useSyAPI();\n\n  const [state, setState] = React.useState<State>(InitialState);\n\n  React.useEffect(() => {\n    if (!pool) {\n      return;\n    }\n\n    (async () => {\n      setState(prevState => ({\n        ...prevState,\n        loading: true,\n      }));\n\n      try {\n        const history = await syAPI.fetchSYJuniorBonds(\n          pool.smartYieldAddress,\n          state.page,\n          state.pageSize,\n          state.filters.redeemed !== 'all' ? state.filters.redeemed : undefined,\n          state.filters.sortBy !== 'none' ? state.filters.sortBy : undefined,\n          state.filters.sortBy !== 'none' ? state.filters.sortDir : undefined,\n        );\n\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          data: history.data,\n          total: history.meta.count,\n        }));\n      } catch {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          data: [],\n          total: 0,\n        }));\n      }\n    })();\n  }, [pool?.smartYieldAddress, state.page, state.filters]);\n\n  function handleFilterChange(filters: Record<string, any>) {\n    setState(prevState => ({\n      ...prevState,\n      page: 1,\n      filters: {\n        ...prevState.filters,\n        ...filters,\n      },\n    }));\n  }\n\n  function handlePageChange(page: number) {\n    setState(prevState => ({\n      ...prevState,\n      page,\n    }));\n  }\n\n  return (\n    <>\n      <header className=\"card-header flex align-center justify-space-between ph-24 pv-0\">\n        {tabs}\n        <TableFilter filters={Filters} value={state.filters} onChange={handleFilterChange} />\n      </header>\n      <Table<TableEntity>\n        columns={Columns}\n        dataSource={state.data}\n        rowKey=\"transactionHash\"\n        loading={state.loading}\n        pagination={{\n          total: state.total,\n          pageSize: state.pageSize,\n          current: state.page,\n          position: ['bottomRight'],\n          showTotal: (total: number, [from, to]: [number, number]) => (\n            <Text type=\"p2\" weight=\"semibold\" color=\"secondary\">\n              Showing {from} to {to} out of {total} entries\n            </Text>\n          ),\n          onChange: handlePageChange,\n        }}\n        scroll={{\n          x: true,\n        }}\n      />\n    </>\n  );\n};\n\nexport default JuniorBondsTable;\n","import React from 'react';\nimport { Spin } from 'antd';\nimport cn from 'classnames';\nimport format from 'date-fns/format';\nimport * as ReCharts from 'recharts';\nimport { formatUSD } from 'web3/utils';\n\nimport { Tabs } from 'components/custom/tabs';\nimport { Text } from 'components/custom/typography';\nimport { useKnownTokens } from 'components/providers/knownTokensProvider';\nimport { mergeState } from 'hooks/useMergeState';\nimport { APISYPoolLiquidity, useSyAPI } from 'modules/smart-yield/api';\nimport { useSYPool } from 'modules/smart-yield/providers/pool-provider';\n\nimport s from './s.module.scss';\n\ntype ChartEntity = Omit<APISYPoolLiquidity, 'point'> & {\n  point: number;\n};\n\nconst tabs = [\n  {\n    children: '24h',\n    id: '24h',\n  },\n  {\n    children: '1w',\n    id: '1w',\n  },\n  {\n    children: '1mo',\n    id: '30d',\n  },\n];\n\ntype Props = {\n  className?: string;\n};\n\ntype State = {\n  loading: boolean;\n  data: ChartEntity[];\n};\n\nconst InitialState: State = {\n  loading: false,\n  data: [],\n};\n\nconst Liquidity: React.FC<Props> = ({ className }) => {\n  const { convertTokenInUSD } = useKnownTokens();\n  const poolCtx = useSYPool();\n  const { pool } = poolCtx;\n  const syAPI = useSyAPI();\n\n  const [activeTab, setActiveTab] = React.useState('24h');\n  const [state, setState] = React.useState<State>(InitialState);\n\n  React.useEffect(() => {\n    if (!pool) {\n      setState(\n        mergeState<State>({\n          data: [],\n        }),\n      );\n      return;\n    }\n\n    (async () => {\n      setState(\n        mergeState<State>({\n          loading: true,\n        }),\n      );\n\n      try {\n        const poolLiquidity = await syAPI.fetchSYPoolLiquidity(pool.smartYieldAddress, activeTab);\n\n        setState(\n          mergeState<State>({\n            loading: false,\n            data: poolLiquidity.map(liquidity => ({\n              ...liquidity,\n              point: new Date(liquidity.point).valueOf(),\n              seniorLiquidity: convertTokenInUSD(liquidity.seniorLiquidity, pool?.underlyingSymbol)?.toNumber() ?? 0,\n              juniorLiquidity: convertTokenInUSD(liquidity.juniorLiquidity, pool?.underlyingSymbol)?.toNumber() ?? 0,\n            })),\n          }),\n        );\n      } catch {\n        setState(\n          mergeState<State>({\n            loading: false,\n            data: [],\n          }),\n        );\n      }\n    })();\n  }, [pool, activeTab]);\n\n  const ticks = React.useMemo(() => {\n    const dates = state.data.map(d => d.point);\n    const minDate = Math.min(...dates);\n    const maxDate = Math.max(...dates);\n\n    if (!Number.isFinite(minDate) || !Number.isFinite(maxDate)) {\n      return [];\n    }\n\n    let count = 0;\n    let range = 0;\n\n    switch (activeTab) {\n      case '24h':\n        count = 3;\n        range = 8 * 60 * 60 * 1_000; // 8 hours\n        break;\n      case '1w':\n        count = 7;\n        range = 24 * 60 * 60 * 1_000; // 24 hours\n        break;\n      case '30d':\n        count = 4;\n        range = 7 * 24 * 60 * 60 * 1_000; // 7 days\n        break;\n      default:\n        return [];\n    }\n\n    const minDt = maxDate - count * range;\n\n    return Array.from({ length: count + 1 }).map((_, index) => minDt + range * index);\n  }, [state.data, activeTab]);\n\n  function formatTick(value: number) {\n    if (!Number.isInteger(value)) {\n      return '';\n    }\n\n    switch (activeTab) {\n      case '24h':\n        return format(new Date(value), 'HH:mm');\n      case '1w':\n        return format(new Date(value), 'EEE');\n      case '30d':\n        return format(new Date(value), 'dd MMM');\n      default:\n        return '';\n    }\n  }\n\n  if (!pool) {\n    return null;\n  }\n\n  return (\n    <section className={cn('card', className)}>\n      <header className={cn('card-header flex align-center', s.header)}>\n        <div className=\"text-p1 fw-semibold color-primary\">Liquidity</div>\n        <Tabs\n          tabs={tabs}\n          activeKey={activeTab}\n          onClick={setActiveTab}\n          className=\"ml-auto\"\n          variation=\"elastic\"\n          size=\"small\"\n        />\n      </header>\n      <div className=\"p-24\">\n        <Spin spinning={state.loading}>\n          <ReCharts.ResponsiveContainer width=\"100%\" height={300} className=\"mb-24\">\n            <ReCharts.AreaChart data={state.data} margin={{ left: 25 }}>\n              <defs>\n                <linearGradient id=\"chart-green-gradient\" gradientTransform=\"rotate(180)\">\n                  <stop offset=\"0%\" stopColor=\"rgba(var(--theme-green-color-rgb), 0.08)\" />\n                  <stop offset=\"100%\" stopColor=\"rgba(var(--theme-green-color-rgb), 0)\" />\n                </linearGradient>\n                <linearGradient id=\"chart-purple-gradient\" gradientTransform=\"rotate(180)\">\n                  <stop offset=\"0%\" stopColor=\"rgba(var(--theme-purple-color-rgb), 0.08)\" />\n                  <stop offset=\"100%\" stopColor=\"rgba(var(--theme-purple-color-rgb), 0)\" />\n                </linearGradient>\n              </defs>\n              <ReCharts.CartesianGrid vertical={false} strokeDasharray=\"3 0\" stroke=\"var(--theme-border-color)\" />\n              <ReCharts.XAxis\n                dataKey=\"point\"\n                ticks={ticks}\n                tickMargin={12}\n                minTickGap={0}\n                tickFormatter={value => formatTick(value)}\n              />\n              <ReCharts.YAxis\n                axisLine={false}\n                tickLine={false}\n                tickFormatter={value =>\n                  formatUSD(value, {\n                    compact: true,\n                  }) ?? ''\n                }\n              />\n              <ReCharts.Tooltip\n                separator=\"\"\n                labelFormatter={value => (\n                  <Text type=\"p2\" tag=\"span\" weight=\"semibold\" color=\"primary\">\n                    {Number.isFinite(value) ? format(value, 'MM.dd.yyyy HH:mm') : ''}\n                  </Text>\n                )}\n                formatter={(value: number, _: any, { dataKey }: any) => (\n                  <Text\n                    type=\"p2\"\n                    tag=\"span\"\n                    weight=\"semibold\"\n                    color={dataKey === 'seniorLiquidity' ? 'green' : 'purple'}>\n                    {formatUSD(value)}\n                  </Text>\n                )}\n              />\n              <ReCharts.Area\n                name=\"Senior Liquidity \"\n                dataKey=\"seniorLiquidity\"\n                type=\"monotone\"\n                fill=\"url(#chart-green-gradient)\"\n                stroke=\"var(--theme-green-color)\"\n                strokeWidth={2}\n              />\n              <ReCharts.Area\n                name=\"Junior Liquidity \"\n                dataKey=\"juniorLiquidity\"\n                type=\"monotone\"\n                fill=\"url(#chart-purple-gradient)\"\n                stroke=\"var(--theme-purple-color)\"\n                strokeWidth={2}\n              />\n            </ReCharts.AreaChart>\n          </ReCharts.ResponsiveContainer>\n        </Spin>\n        <div className=\"flex flow-col justify-center col-gap-24 row-gap-16\">\n          <div className=\"chart-label\" style={{ '--dot-color': 'var(--theme-green-color)' } as React.CSSProperties}>\n            Senior Liquidity\n          </div>\n          <div className=\"chart-label\" style={{ '--dot-color': 'var(--theme-purple-color)' } as React.CSSProperties}>\n            Junior Liquidity\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default Liquidity;\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\nimport cn from 'classnames';\nimport format from 'date-fns/format';\nimport { formatNumber, formatPercent, formatToken, formatUSD } from 'web3/utils';\n\nimport Divider from 'components/antd/divider';\nimport Tooltip from 'components/antd/tooltip';\nimport { AprLabel } from 'components/custom/label';\nimport { Tabs } from 'components/custom/tabs';\nimport { Hint, Text } from 'components/custom/typography';\nimport { useKnownTokens } from 'components/providers/knownTokensProvider';\nimport { useTokens } from 'components/providers/tokensProvider';\nimport { useSYPool } from 'modules/smart-yield/providers/pool-provider';\nimport { useRewardPools } from 'modules/smart-yield/providers/reward-pools-provider';\n\nimport { getFormattedDuration } from 'utils';\n\nimport s from './s.module.scss';\n\nconst tabs = [\n  {\n    id: 'market',\n    children: 'Market details',\n  },\n  {\n    id: 'abond',\n    children: (\n      <Hint\n        maxWidth={475}\n        text={\n          <div>\n            <div className=\"mb-8\">\n              In order to calculate the profits and losses of the pool efficiently - we do that by averaging all\n              existing senior bonds into one \"weighted average\" aBOND with the following properties:\n            </div>\n            <dl className=\"ph-12 fw-semibold text-nowrap\">\n              <dd>- ABOND.principal -&gt; Principal locked</dd>\n              <dd>- ABOND.gain -&gt; Guaranteed gains for all seniors</dd>\n              <dd>- ABOND.debt -&gt; Amount owed to existing seniors</dd>\n              <dd>- ABOND.issuedAt -&gt; Start timestamp</dd>\n              <dd>- ABOND.maturesAt -&gt; Maturity date</dd>\n            </dl>\n          </div>\n        }>\n        Abond details\n      </Hint>\n    ),\n  },\n];\n\nconst MarketDetails: React.FC = () => {\n  const [activeTab, setActiveTab] = React.useState('market');\n  const { bondToken, stkAaveToken } = useKnownTokens();\n  const poolCtx = useSYPool();\n  const { pools } = useRewardPools();\n  const { pool } = poolCtx;\n  const { getToken, getAmountInUSD } = useTokens();\n\n  if (!pool) {\n    return null;\n  }\n\n  const abond = pool.contracts.smartYield.abond;\n  const abondDebt = pool.contracts.smartYield.abondDebt;\n\n  const token = getToken(pool.underlyingSymbol);\n  const seniorLiquiditySum =\n    BigNumber.from(pool.state.seniorLiquidity)\n      ?.multipliedBy(token?.price ?? 0)\n      .toString() ?? '0';\n  const juniorLiquiditySum =\n    BigNumber.from(pool.state.juniorLiquidity)\n      ?.multipliedBy(token?.price ?? 0)\n      .toString() ?? '0';\n\n  const abondPrincipalSum =\n    BigNumber.from(abond?.principal)\n      ?.unscaleBy(pool.underlyingDecimals)\n      ?.multipliedBy(token?.price ?? 0)\n      .toString() ?? '0';\n  const abondGainSum =\n    BigNumber.from(abond?.gain)\n      ?.unscaleBy(pool.underlyingDecimals)\n      ?.multipliedBy(token?.price ?? 0)\n      .toString() ?? '0';\n  const abondDebtSum =\n    BigNumber.from(abondDebt)\n      ?.unscaleBy(pool.underlyingDecimals)\n      ?.multipliedBy(token?.price ?? 0)\n      .toString() ?? '0';\n\n  const hasZeroBondRewardLeft = pools?.find(\n    rPool =>\n      rPool.rewardPool.address === pool.rewardPoolAddress &&\n      Array.from(rPool.rewardTokens.values()).some(\n        rewardToken =>\n          !!(rewardToken === bondToken && rPool.rewardPool.getRewardLeftFor(rewardToken.address)?.isZero()),\n      ),\n  );\n\n  return (\n    <section className=\"card\">\n      <header className={cn('card-header flex align-center', s.header)}>\n        <Tabs tabs={tabs} activeKey={activeTab} onClick={setActiveTab} />\n      </header>\n      {activeTab === 'market' && (\n        <>\n          <div className=\"flexbox-grid p-24\">\n            <div className=\"flex flow-row\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                Senior Liquidity\n              </Text>\n              <Tooltip\n                title={\n                  <>\n                    <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n                      {formatToken(pool.state.seniorLiquidity, {\n                        tokenName: pool.underlyingSymbol,\n                      })}\n                    </Text>\n                    <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                      {formatUSD(seniorLiquiditySum)}\n                    </Text>\n                  </>\n                }>\n                <div className=\"flex flow-col col-gap-8\">\n                  <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                    {Intl.NumberFormat('en', { notation: 'compact' }).format(pool.state.seniorLiquidity)}\n                  </Text>\n                  <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                    {pool.underlyingSymbol}\n                  </Text>\n                </div>\n\n                <Text type=\"small\" weight=\"semibold\">\n                  {formatUSD(seniorLiquiditySum, {\n                    compact: true,\n                  })}\n                </Text>\n              </Tooltip>\n            </div>\n            <div className=\"flex flow-row\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                Junior Liquidity\n              </Text>\n              <Tooltip\n                title={\n                  <>\n                    <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n                      {formatToken(pool.state.juniorLiquidity, {\n                        tokenName: pool.underlyingSymbol,\n                      })}\n                    </Text>\n                    <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                      {formatUSD(juniorLiquiditySum)}\n                    </Text>\n                  </>\n                }>\n                <div className=\"flex flow-col col-gap-8\">\n                  <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                    {Intl.NumberFormat('en', { notation: 'compact' }).format(pool.state.juniorLiquidity)}\n                  </Text>\n                  <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                    {pool.underlyingSymbol}\n                  </Text>\n                </div>\n                <Text type=\"small\" weight=\"semibold\">\n                  {formatUSD(juniorLiquiditySum, {\n                    compact: true,\n                  })}\n                </Text>\n              </Tooltip>\n            </div>\n          </div>\n          <Divider />\n          <div className=\"flexbox-grid p-24\">\n            <div className=\"flex flow-row\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                # of seniors\n              </Text>\n              <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                {formatNumber(pool.state.numberOfSeniors)}\n              </Text>\n            </div>\n            <div className=\"flex flow-row\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                # of juniors\n              </Text>\n              <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                {formatNumber(pool.state.numberOfJuniors)}\n              </Text>\n            </div>\n          </div>\n          <Divider />\n          <div className=\"flexbox-grid p-24\">\n            <div className=\"flex flow-row\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                Senior APY\n              </Text>\n              <Text type=\"p1\" weight=\"semibold\" color=\"green\">\n                {formatPercent(pool.state.seniorApy)}\n              </Text>\n            </div>\n            <div className=\"flex flow-row align-start\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                Junior APY\n              </Text>\n              <Text type=\"p1\" weight=\"semibold\" color=\"purple\">\n                {formatPercent(pool.state.juniorApy)}\n              </Text>\n              {pool.contracts.rewardPool?.rewardTokensCount! > 1 ? (\n                <AprLabel icons={[bondToken.icon!, stkAaveToken.icon!]}>\n                  +{formatPercent(pool.apy?.plus(hasZeroBondRewardLeft ? 0 : pool.apr ?? 0) ?? 0)} APR\n                </AprLabel>\n              ) : !hasZeroBondRewardLeft && pool.apr ? (\n                <AprLabel icons={['bond']}>+{formatPercent(pool.apr ?? 0)} APR</AprLabel>\n              ) : null}\n            </div>\n          </div>\n          <Divider />\n          <div className=\"flexbox-grid p-24\">\n            <div className=\"flex flow-row\">\n              <Hint text=\"The average maturity date of the current senior bonds in this pool.\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                  Average senior maturity\n                </Text>\n              </Hint>\n              <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                {getFormattedDuration(\n                  Date.now(),\n                  Date.now() + (pool.state.avgSeniorMaturityDays ?? 0) * 24 * 60 * 60 * 1_000,\n                )}\n              </Text>\n            </div>\n            <div className=\"flex flow-row\">\n              <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                Junior liquidity locked\n              </Text>\n              <Tooltip\n                title={\n                  <>\n                    <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n                      {formatToken(pool.state.juniorLiquidityLocked, {\n                        tokenName: pool.underlyingSymbol,\n                      })}\n                    </Text>\n                    <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                      {formatUSD(\n                        getAmountInUSD(BigNumber.from(pool.state.juniorLiquidityLocked), pool.underlyingSymbol),\n                      )}\n                    </Text>\n                  </>\n                }>\n                <div className=\"flex flow-col col-gap-8\">\n                  <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                    {Intl.NumberFormat('en', { notation: 'compact' }).format(pool.state.juniorLiquidityLocked)}\n                  </Text>\n                  <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                    {pool.underlyingSymbol}\n                  </Text>\n                </div>\n                <Text type=\"small\" weight=\"semibold\">\n                  {formatUSD(getAmountInUSD(BigNumber.from(pool.state.juniorLiquidityLocked), pool.underlyingSymbol))}\n                </Text>\n              </Tooltip>\n            </div>\n          </div>\n        </>\n      )}\n      {activeTab === 'abond' && (\n        <>\n          <div className=\"flexbox-grid p-24\">\n            <div className=\"flex flow-row\">\n              <Hint text=\"This number shows the aggregated amount of liquidity deposited in senior bonds.\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                  Abond principal\n                </Text>\n              </Hint>\n              <Tooltip\n                title={\n                  <>\n                    <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n                      {formatToken(abond?.principal.unscaleBy(pool.underlyingDecimals), {\n                        decimals: pool.underlyingDecimals,\n                        tokenName: pool.underlyingSymbol,\n                      }) ?? '-'}\n                    </Text>\n                    <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                      {formatUSD(abondPrincipalSum)}\n                    </Text>\n                  </>\n                }>\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  {formatToken(abond?.principal.unscaleBy(pool.underlyingDecimals), {\n                    compact: true,\n                    tokenName: pool.underlyingSymbol,\n                  }) ?? '-'}\n                </Text>\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                  {formatUSD(abondPrincipalSum, {\n                    compact: true,\n                  })}\n                </Text>\n              </Tooltip>\n            </div>\n            <div className=\"flex flow-row\">\n              <Hint text=\"This number shows the aggregated gains of all senior bonds so far. This includes previously redeemed bonds.\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                  Abond gain\n                </Text>\n              </Hint>\n              <Tooltip\n                title={\n                  <>\n                    <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n                      {formatToken(abond?.gain.unscaleBy(pool.underlyingDecimals), {\n                        decimals: pool.underlyingDecimals,\n                        tokenName: pool.underlyingSymbol,\n                      }) ?? '-'}\n                    </Text>\n                    <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                      {formatUSD(abondGainSum)}\n                    </Text>\n                  </>\n                }>\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  {formatToken(abond?.gain.unscaleBy(pool.underlyingDecimals), {\n                    compact: true,\n                    tokenName: pool.underlyingSymbol,\n                  }) ?? '-'}\n                </Text>\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                  {formatUSD(abondGainSum, {\n                    compact: true,\n                  })}\n                </Text>\n              </Tooltip>\n            </div>\n          </div>\n          <Divider />\n          <div className=\"flexbox-grid p-24\">\n            <div className=\"flex flow-row\">\n              <Hint text=\"This number shows the average date at which all existing seniors bonds end at. It's also the time that junior withdrawals .\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                  Abond matures at\n                </Text>\n              </Hint>\n              <div className=\"flex flow-col col-gap-8\">\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  {(abond?.maturesAt && format(abond.maturesAt * 1_000, 'MM.dd.yyyy HH:mm')) ?? '-'}\n                </Text>\n              </div>\n            </div>\n            <div className=\"flex flow-row\">\n              <Hint text=\"This number shows the total amount owed to the existing seniors. It's the total gain owed to senior bonds minus what was already paid out to redeemed bonds.\">\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\" className=\"mb-4\">\n                  Abond debt\n                </Text>\n              </Hint>\n              <Tooltip\n                title={\n                  <>\n                    <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n                      {formatToken(abondDebt?.unscaleBy(pool.underlyingDecimals), {\n                        decimals: pool.underlyingDecimals,\n                        tokenName: pool.underlyingSymbol,\n                      }) ?? '-'}\n                    </Text>\n                    <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                      {formatUSD(abondDebtSum)}\n                    </Text>\n                  </>\n                }>\n                <Text type=\"p1\" weight=\"semibold\" color=\"primary\">\n                  {formatToken(abondDebt?.unscaleBy(pool.underlyingDecimals), {\n                    compact: true,\n                    tokenName: pool.underlyingSymbol,\n                  }) ?? '-'}\n                </Text>\n                <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n                  {formatUSD(abondDebtSum, {\n                    compact: true,\n                  })}\n                </Text>\n              </Tooltip>\n            </div>\n          </div>\n        </>\n      )}\n    </section>\n  );\n};\n\nexport default MarketDetails;\n","import React from 'react';\nimport { ColumnsType } from 'antd/lib/table/interface';\nimport BigNumber from 'bignumber.js';\nimport format from 'date-fns/format';\nimport capitalize from 'lodash/capitalize';\nimport { formatToken, formatUSD, shortenAddr } from 'web3/utils';\n\nimport Select from 'components/antd/select';\nimport Table from 'components/antd/table';\nimport Tooltip from 'components/antd/tooltip';\nimport { ExplorerAddressLink, ExplorerTxLink } from 'components/button';\nimport Grid from 'components/custom/grid';\nimport TableFilter, { TableFilterType } from 'components/custom/table-filter';\nimport { Text } from 'components/custom/typography';\nimport { useKnownTokens } from 'components/providers/knownTokensProvider';\nimport { useTokens } from 'components/providers/tokensProvider';\nimport { TokenIcon, TokenIconNames } from 'components/token-icon';\nimport {\n  APISYPoolTransaction,\n  APISYTxHistoryType,\n  HistoryShortTypes,\n  HistoryTypes,\n  isPositiveHistoryType,\n  useSyAPI,\n} from 'modules/smart-yield/api';\nimport { SYPool, useSYPool } from 'modules/smart-yield/providers/pool-provider';\n\ntype TableEntity = APISYPoolTransaction & {\n  poolEntity?: SYPool;\n  isTokenAmount?: boolean;\n  computedAmount?: BigNumber;\n};\n\nconst Columns: ColumnsType<TableEntity> = [\n  {\n    title: 'Token Name',\n    render: function Render(_, entity) {\n      const { projectToken } = useKnownTokens();\n\n      return (\n        <div className=\"flex\">\n          {entity.isTokenAmount ? (\n            <TokenIcon\n              name={entity.poolEntity?.token?.icon as TokenIconNames}\n              bubble1Name={projectToken.icon}\n              bubble2Name={entity.poolEntity?.market?.icon.active as TokenIconNames}\n              className=\"mr-16\"\n            />\n          ) : (\n            <TokenIcon\n              name={entity.poolEntity?.token?.icon as TokenIconNames}\n              bubble1Name={entity.poolEntity?.market?.icon.active as TokenIconNames}\n              className=\"mr-16\"\n            />\n          )}\n          <div className=\"flex flow-row\">\n            <ExplorerAddressLink\n              address={\n                entity.isTokenAmount ? entity.poolEntity?.contracts.smartYield.address : entity.underlyingTokenAddress\n              }\n              className=\"flex flow-col mb-4\">\n              <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mr-4\">\n                {entity.isTokenAmount ? entity.poolEntity?.contracts.smartYield.symbol : entity.underlyingTokenSymbol}\n              </Text>\n            </ExplorerAddressLink>\n            <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n              {entity.poolEntity?.market?.name}\n            </Text>\n          </div>\n        </div>\n      );\n    },\n  },\n  {\n    title: 'Tranche / Transaction',\n    render: (_, entity) => (\n      <>\n        <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n          {capitalize(entity.tranche)}\n        </Text>\n        <Text type=\"small\" weight=\"semibold\">\n          {HistoryShortTypes.get(entity.transactionType)}\n        </Text>\n      </>\n    ),\n  },\n  {\n    title: 'Amount',\n    align: 'right',\n    render: (_, entity) => {\n      const isPositive = isPositiveHistoryType(entity.transactionType as APISYTxHistoryType);\n\n      return (\n        <Tooltip\n          title={\n            <Text type=\"small\" weight=\"semibold\" color=\"primary\">\n              {formatToken(entity.amount, {\n                tokenName: entity.isTokenAmount\n                  ? entity.poolEntity?.contracts.smartYield.symbol\n                  : entity.underlyingTokenSymbol,\n                decimals: entity.poolEntity?.underlyingDecimals,\n              })}\n            </Text>\n          }>\n          <Text type=\"p1\" weight=\"semibold\" color={isPositive ? 'green' : 'red'}>\n            {isPositive ? '+' : '-'} {formatToken(entity.amount)}\n          </Text>\n          <Text type=\"small\" weight=\"semibold\">\n            {formatUSD(entity.computedAmount)}\n          </Text>\n        </Tooltip>\n      );\n    },\n  },\n  {\n    title: 'Address',\n    render: function Render(_, entity) {\n      return (\n        <Grid flow=\"row\" gap={4}>\n          <ExplorerAddressLink address={entity.accountAddress}>\n            <Text type=\"p1\" weight=\"semibold\" color=\"blue\">\n              {shortenAddr(entity.accountAddress)}\n            </Text>\n          </ExplorerAddressLink>\n        </Grid>\n      );\n    },\n  },\n  {\n    title: 'Transaction Hash',\n    render: (_, entity) => (\n      <Grid flow=\"row\" gap={4}>\n        <ExplorerTxLink address={entity.transactionHash}>\n          <Text type=\"p1\" weight=\"semibold\" color=\"blue\">\n            {shortenAddr(entity.transactionHash)}\n          </Text>\n        </ExplorerTxLink>\n      </Grid>\n    ),\n  },\n  {\n    title: 'Date',\n    align: 'right',\n    render: (_, entity) => (\n      <>\n        <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n          {format(entity.blockTimestamp * 1_000, 'MM.dd.yyyy')}\n        </Text>\n        <Text type=\"small\" weight=\"semibold\">\n          {format(entity.blockTimestamp * 1_000, 'HH:mm')}\n        </Text>\n      </>\n    ),\n  },\n];\n\ntype State = {\n  loading: boolean;\n  data: TableEntity[];\n  total: number;\n  pageSize: number;\n  page: number;\n  filters: {\n    transactionType: string;\n  };\n};\n\nconst InitialState: State = {\n  loading: false,\n  data: [],\n  total: 0,\n  pageSize: 10,\n  page: 1,\n  filters: {\n    transactionType: 'all',\n  },\n};\n\nconst Filters: TableFilterType[] = [\n  {\n    name: 'transactionType',\n    label: 'Transaction direction',\n    defaultValue: 'all',\n    itemRender: () => {\n      const options = [\n        {\n          value: 'all',\n          label: 'All transactions',\n        },\n        ...Array.from(HistoryTypes.entries()).map(([type, label]) => ({\n          value: type,\n          label,\n        })),\n      ];\n\n      return <Select options={options} className=\"full-width\" />;\n    },\n  },\n];\n\ntype Props = {\n  tabs: React.ReactNode;\n};\n\nconst PoolTxTable: React.FC<Props> = ({ tabs }) => {\n  const poolCtx = useSYPool();\n  const { pool } = poolCtx;\n  const syAPI = useSyAPI();\n  const [state, setState] = React.useState<State>(InitialState);\n\n  const { getToken } = useTokens();\n\n  React.useEffect(() => {\n    (async () => {\n      if (!pool) {\n        return;\n      }\n\n      setState(prevState => ({\n        ...prevState,\n        loading: true,\n      }));\n\n      try {\n        const transactions = await syAPI.fetchSYPoolTransactions(\n          pool.smartYieldAddress,\n          state.page,\n          state.pageSize,\n          state.filters.transactionType,\n        );\n\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          data: transactions.data,\n          total: transactions.meta.count,\n        }));\n      } catch {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          data: [],\n          total: 0,\n        }));\n      }\n    })();\n  }, [pool?.smartYieldAddress, state.page, state.filters.transactionType]);\n\n  const mappedData = React.useMemo(\n    () =>\n      state.data.map(item => {\n        let isTokenAmount: boolean | undefined;\n        let computedAmount: BigNumber | undefined;\n\n        if (pool) {\n          const tokenPrice = getToken(pool.underlyingSymbol)?.price ?? 0;\n\n          if (\n            [\n              APISYTxHistoryType.SENIOR_DEPOSIT,\n              APISYTxHistoryType.SENIOR_REDEEM,\n              APISYTxHistoryType.JUNIOR_DEPOSIT,\n              APISYTxHistoryType.JUNIOR_REDEEM,\n              APISYTxHistoryType.SBOND_SEND,\n              APISYTxHistoryType.SBOND_RECEIVE,\n            ].includes(item.transactionType as APISYTxHistoryType)\n          ) {\n            isTokenAmount = false;\n            computedAmount = BigNumber.from(item.amount)?.multipliedBy(tokenPrice);\n          }\n\n          if (\n            [\n              APISYTxHistoryType.JUNIOR_INSTANT_WITHDRAW,\n              APISYTxHistoryType.JUNIOR_REGULAR_WITHDRAW,\n              APISYTxHistoryType.JTOKEN_SEND,\n              APISYTxHistoryType.JTOKEN_RECEIVE,\n              APISYTxHistoryType.JBOND_SEND,\n              APISYTxHistoryType.JBOND_RECEIVE,\n              APISYTxHistoryType.JUNIOR_STAKE,\n              APISYTxHistoryType.JUNIOR_UNSTAKE,\n            ].includes(item.transactionType as APISYTxHistoryType)\n          ) {\n            isTokenAmount = true;\n            computedAmount = new BigNumber(item.amount).multipliedBy(pool.state.jTokenPrice).multipliedBy(tokenPrice);\n          }\n        }\n\n        return {\n          ...item,\n          poolEntity: pool,\n          isTokenAmount,\n          computedAmount,\n        } as TableEntity;\n      }),\n    [state.data, pool],\n  );\n\n  function handleFilterChange(filters: Record<string, any>) {\n    setState(prevState => ({\n      ...prevState,\n      page: 1,\n      filters: {\n        ...prevState.filters,\n        ...filters,\n      },\n    }));\n  }\n\n  function handlePageChange(page: number) {\n    setState(prevState => ({\n      ...prevState,\n      page,\n    }));\n  }\n\n  return (\n    <>\n      <header className=\"card-header flex align-center justify-space-between ph-24 pv-0\">\n        {tabs}\n        <TableFilter filters={Filters} value={state.filters} onChange={handleFilterChange} />\n      </header>\n      <Table<TableEntity>\n        columns={Columns}\n        dataSource={mappedData}\n        rowKey={entity => `${entity.transactionHash}_${entity.transactionType}`}\n        loading={state.loading}\n        pagination={{\n          total: state.total,\n          pageSize: state.pageSize,\n          current: state.page,\n          position: ['bottomRight'],\n          showTotal: (total: number, [from, to]: [number, number]) => (\n            <Text type=\"p2\" weight=\"semibold\" color=\"secondary\">\n              Showing {from} to {to} out of {total} entries\n            </Text>\n          ),\n          onChange: handlePageChange,\n        }}\n        scroll={{\n          x: true,\n        }}\n      />\n    </>\n  );\n};\n\nexport default PoolTxTable;\n","import React from 'react';\nimport { ColumnsType } from 'antd/lib/table/interface';\nimport format from 'date-fns/format';\nimport { formatToken, formatUSD, shortenAddr } from 'web3/utils';\n\nimport Select from 'components/antd/select';\nimport Table from 'components/antd/table';\nimport Tooltip from 'components/antd/tooltip';\nimport { ExplorerAddressLink } from 'components/button';\nimport TableFilter, { TableFilterType } from 'components/custom/table-filter';\nimport { Text } from 'components/custom/typography';\nimport { useKnownTokens } from 'components/providers/knownTokensProvider';\nimport { TokenIcon, TokenIconNames } from 'components/token-icon';\nimport { APISYSeniorBonds, useSyAPI } from 'modules/smart-yield/api';\nimport { SYPool, useSYPool } from 'modules/smart-yield/providers/pool-provider';\n\ntype TableEntity = APISYSeniorBonds & {\n  poolEntity?: SYPool;\n};\n\nconst TokenNameColumn: React.FC = () => {\n  const { pool } = useSYPool();\n\n  return (\n    <div className=\"flex\">\n      <TokenIcon\n        name={pool?.token?.icon as TokenIconNames}\n        bubble1Name={pool?.market?.icon.active as TokenIconNames}\n        className=\"mr-16\"\n      />\n      <div className=\"flex flow-row\">\n        <ExplorerAddressLink address={pool?.underlyingAddress} className=\"flex flow-col mb-4\">\n          <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n            {pool?.underlyingSymbol}\n          </Text>\n        </ExplorerAddressLink>\n        <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n          {pool?.market?.name}\n        </Text>\n      </div>\n    </div>\n  );\n};\n\nconst Columns: ColumnsType<TableEntity> = [\n  {\n    title: 'Token Name',\n    render: (_, entity) => <TokenNameColumn />,\n  },\n  {\n    title: 'Deposited',\n    align: 'right',\n    render: function Render(_, entity) {\n      const { convertTokenInUSD } = useKnownTokens();\n\n      return (\n        <>\n          <Tooltip\n            title={formatToken(entity.depositedAmount, {\n              decimals: entity.underlyingTokenDecimals,\n              tokenName: entity.underlyingTokenSymbol,\n            })}>\n            <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n              {formatToken(entity.depositedAmount) ?? '-'}\n            </Text>\n          </Tooltip>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n            {formatUSD(convertTokenInUSD(entity.depositedAmount, entity.underlyingTokenSymbol)) ?? '-'}\n          </Text>\n        </>\n      );\n    },\n  },\n  {\n    title: 'Redeemable',\n    align: 'right',\n    render: function Render(_, entity) {\n      const { convertTokenInUSD } = useKnownTokens();\n\n      return (\n        <>\n          <Tooltip\n            title={formatToken(entity.redeemableAmount, {\n              decimals: entity.underlyingTokenDecimals,\n              tokenName: entity.underlyingTokenSymbol,\n            })}>\n            <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n              {formatToken(entity.redeemableAmount) ?? '-'}\n            </Text>\n          </Tooltip>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n            {formatUSD(convertTokenInUSD(entity.redeemableAmount, entity.underlyingTokenSymbol)) ?? '-'}\n          </Text>\n        </>\n      );\n    },\n  },\n  {\n    title: 'Address',\n    render: function Render(_, entity) {\n      return (\n        <ExplorerAddressLink address={entity.accountAddress}>\n          <Text type=\"p1\" weight=\"semibold\" color=\"blue\">\n            {shortenAddr(entity.accountAddress)}\n          </Text>\n        </ExplorerAddressLink>\n      );\n    },\n  },\n  {\n    title: 'Tx Hash / Timestamp',\n    render: function Render(_, entity) {\n      return (\n        <>\n          <ExplorerAddressLink address={entity.transactionHash} className=\"mb-4\">\n            <Text type=\"p1\" weight=\"semibold\" color=\"blue\">\n              {shortenAddr(entity.transactionHash)}\n            </Text>\n          </ExplorerAddressLink>\n          <Text type=\"small\" weight=\"semibold\" color=\"secondary\">\n            {format(entity.blockTimestamp * 1_000, 'MM.dd.yyyy HH:mm')}\n          </Text>\n        </>\n      );\n    },\n  },\n  {\n    title: 'Maturity Date',\n    align: 'right',\n    render: (_, entity) => (\n      <>\n        <Text type=\"p1\" weight=\"semibold\" color=\"primary\" className=\"mb-4\">\n          {format(entity.maturityDate * 1_000, 'MM.dd.yyyy')}\n        </Text>\n        <Text type=\"small\" weight=\"semibold\">\n          {format(entity.maturityDate * 1_000, 'HH:mm')}\n        </Text>\n      </>\n    ),\n  },\n];\n\ntype State = {\n  loading: boolean;\n  data: TableEntity[];\n  total: number;\n  pageSize: number;\n  page: number;\n  filters: {\n    redeemed: string;\n    sortBy: string;\n    sortDir: string;\n  };\n};\n\nconst InitialState: State = {\n  loading: false,\n  data: [],\n  total: 0,\n  pageSize: 10,\n  page: 1,\n  filters: {\n    redeemed: 'all',\n    sortBy: 'none',\n    sortDir: 'desc',\n  },\n};\n\nconst Filters: TableFilterType[] = [\n  {\n    name: 'redeemed',\n    label: 'Type',\n    defaultValue: 'all',\n    itemRender: () => {\n      const options = [\n        {\n          value: 'all',\n          label: 'All senior bonds',\n        },\n        {\n          value: 'false',\n          label: 'Active',\n        },\n        {\n          value: 'true',\n          label: 'Redeemed',\n        },\n      ];\n\n      return <Select options={options} className=\"full-width\" />;\n    },\n  },\n  {\n    name: 'sortBy',\n    label: 'Sort by',\n    defaultValue: 'none',\n    itemRender: () => {\n      const options = [\n        {\n          value: 'none',\n          label: 'Default',\n        },\n        {\n          value: 'maturityDate',\n          label: 'Maturity Date',\n        },\n        {\n          value: 'depositedAmount',\n          label: 'Deposited Amount',\n        },\n        {\n          value: 'redeemableAmount',\n          label: 'Redeemable Amount',\n        },\n      ];\n\n      return <Select options={options} className=\"full-width\" />;\n    },\n  },\n  {\n    name: 'sortDir',\n    label: 'Sort direction',\n    defaultValue: 'desc',\n    itemRender: () => {\n      const options = [\n        {\n          value: 'desc',\n          label: 'Descending',\n        },\n        {\n          value: 'asc',\n          label: 'Ascending',\n        },\n      ];\n\n      return <Select options={options} className=\"full-width\" />;\n    },\n  },\n];\n\ntype Props = {\n  tabs: React.ReactNode;\n};\n\nconst SeniorBondsTable: React.FC<Props> = ({ tabs }) => {\n  const poolCtx = useSYPool();\n  const { pool } = poolCtx;\n  const syAPI = useSyAPI();\n  const [state, setState] = React.useState<State>(InitialState);\n\n  React.useEffect(() => {\n    if (!pool) {\n      return;\n    }\n\n    (async () => {\n      setState(prevState => ({\n        ...prevState,\n        loading: true,\n      }));\n\n      try {\n        const history = await syAPI.fetchSYSeniorBonds(\n          pool.smartYieldAddress,\n          state.page,\n          state.pageSize,\n          state.filters.redeemed !== 'all' ? state.filters.redeemed : undefined,\n          state.filters.sortBy !== 'none' ? state.filters.sortBy : undefined,\n          state.filters.sortBy !== 'none' ? state.filters.sortDir : undefined,\n        );\n\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          data: history.data,\n          total: history.meta.count,\n        }));\n      } catch {\n        setState(prevState => ({\n          ...prevState,\n          loading: false,\n          data: [],\n          total: 0,\n        }));\n      }\n    })();\n  }, [pool?.smartYieldAddress, state.page, state.filters]);\n\n  function handleFilterChange(filters: Record<string, any>) {\n    setState(prevState => ({\n      ...prevState,\n      page: 1,\n      filters: {\n        ...prevState.filters,\n        ...filters,\n      },\n    }));\n  }\n\n  function handlePageChange(page: number) {\n    setState(prevState => ({\n      ...prevState,\n      page,\n    }));\n  }\n\n  return (\n    <>\n      <header className=\"card-header flex align-center justify-space-between ph-24 pv-0\">\n        {tabs}\n        <TableFilter filters={Filters} value={state.filters} onChange={handleFilterChange} />\n      </header>\n      <Table<TableEntity>\n        columns={Columns}\n        dataSource={state.data}\n        rowKey=\"transactionHash\"\n        loading={state.loading}\n        pagination={{\n          total: state.total,\n          pageSize: state.pageSize,\n          current: state.page,\n          position: ['bottomRight'],\n          showTotal: (total: number, [from, to]: [number, number]) => (\n            <Text type=\"p2\" weight=\"semibold\" color=\"secondary\">\n              Showing {from} to {to} out of {total} entries\n            </Text>\n          ),\n          onChange: handlePageChange,\n        }}\n        scroll={{\n          x: true,\n        }}\n      />\n    </>\n  );\n};\n\nexport default SeniorBondsTable;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport cn from 'classnames';\n\nimport { Alert } from 'components/alert';\nimport Spin from 'components/antd/spin';\nimport Icon from 'components/custom/icon';\nimport { Tabs } from 'components/custom/tabs';\nimport { useConfig } from 'components/providers/configProvider';\nimport { getKnownMarketById } from 'modules/smart-yield/providers/markets';\nimport { useSYPool } from 'modules/smart-yield/providers/pool-provider';\nimport { useWallet } from 'wallets/walletProvider';\n\nimport DepositHeader from '../deposit-view/deposit-header';\nimport ApyTrend from './apy';\nimport JuniorBondsTable from './junior-bonds-table';\nimport Liquidity from './liquidity';\nimport MarketDetails from './market';\nimport PoolTxTable from './pool-tx-table';\nimport SeniorBondsTable from './senior-bonds-table';\n\nimport s from './s.module.scss';\n\nconst tabs = [\n  {\n    id: 'th',\n    children: 'Transaction history',\n  },\n  {\n    id: 'sb',\n    children: 'Senior bonds',\n  },\n  {\n    id: 'jb',\n    children: 'Junior bonds',\n  },\n];\n\nconst StatsView: React.FC = () => {\n  const config = useConfig();\n  const wallet = useWallet();\n  const syPool = useSYPool();\n\n  const [activeTab, setActiveTab] = React.useState('th');\n\n  const tabsComponent = <Tabs tabs={tabs} activeKey={activeTab} onClick={setActiveTab} size=\"small\" />;\n\n  if (!syPool.marketId) {\n    return null;\n  }\n\n  const market = getKnownMarketById(syPool.marketId);\n\n  return (\n    <Spin spinning={syPool.loading}>\n      <div className=\"container-limit\">\n        <div className=\"mb-16\">\n          <Link to=\"smart-yield/markets\" className=\"button-text\">\n            <Icon name=\"arrow-back\" className=\"mr-8\" color=\"inherit\" />\n            Markets\n          </Link>\n        </div>\n        <div className=\"flex col-gap-24 row-gap-16 align-start mb-40\">\n          <DepositHeader />\n          <div className=\"flex wrap col-gap-24 row-gap-16 ml-auto\">\n            {wallet.isActive && market?.depositDisabled === true && (\n              <Link\n                to={{\n                  pathname: `/smart-yield/withdraw`,\n                  search: `?m=${syPool.marketId}&t=${syPool.tokenId}`,\n                }}\n                className=\"button-primary\">\n                Withdraw\n              </Link>\n            )}\n            <Link\n              to={{\n                pathname: `/smart-yield/deposit`,\n                search: `?m=${syPool.marketId}&t=${syPool.tokenId}`,\n              }}\n              className=\"button-primary\"\n              {...{ disabled: !wallet.isActive || market?.depositDisabled === true }}>\n              Deposit\n            </Link>\n            {config.features.faucets && (\n              <Link to=\"/faucets\" className=\"button-ghost ml-auto\">\n                Faucets\n              </Link>\n            )}\n          </div>\n        </div>\n\n        {Boolean(market?.warning) && <Alert type=\"warning\" title={market?.warning} className=\"mb-32\" />}\n\n        <div className={cn(s.apyMarketRow, 'mb-32')}>\n          <ApyTrend />\n          <MarketDetails />\n        </div>\n        <Liquidity className=\"mb-32\" />\n        <section className=\"card\">\n          {activeTab === 'th' && <PoolTxTable tabs={tabsComponent} />}\n          {activeTab === 'sb' && <SeniorBondsTable tabs={tabsComponent} />}\n          {activeTab === 'jb' && <JuniorBondsTable tabs={tabsComponent} />}\n        </section>\n      </div>\n    </Spin>\n  );\n};\n\nexport default StatsView;\n"],"sourceRoot":""}